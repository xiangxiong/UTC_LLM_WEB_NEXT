"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-client_app_components_chat_tsx",{

/***/ "(app-client)/./app/components/chat.tsx":
/*!*********************************!*\
  !*** ./app/components/chat.tsx ***!
  \*********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Chat: function() { return /* binding */ Chat; },\n/* harmony export */   ChatActions: function() { return /* binding */ ChatActions; },\n/* harmony export */   EditMessageModal: function() { return /* binding */ EditMessageModal; },\n/* harmony export */   PromptHints: function() { return /* binding */ PromptHints; },\n/* harmony export */   SessionConfigModel: function() { return /* binding */ SessionConfigModel; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-client)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var use_debounce__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! use-debounce */ \"(app-client)/./node_modules/use-debounce/dist/index.module.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-client)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _icons_send_white_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../icons/send-white.svg */ \"(app-client)/./app/icons/send-white.svg\");\n/* harmony import */ var _icons_brain_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../icons/brain.svg */ \"(app-client)/./app/icons/brain.svg\");\n/* harmony import */ var _icons_return_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../icons/return.svg */ \"(app-client)/./app/icons/return.svg\");\n/* harmony import */ var _icons_copy_svg__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../icons/copy.svg */ \"(app-client)/./app/icons/copy.svg\");\n/* harmony import */ var _icons_three_dots_svg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../icons/three-dots.svg */ \"(app-client)/./app/icons/three-dots.svg\");\n/* harmony import */ var _icons_prompt_svg__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../icons/prompt.svg */ \"(app-client)/./app/icons/prompt.svg\");\n/* harmony import */ var _icons_mask_svg__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../icons/mask.svg */ \"(app-client)/./app/icons/mask.svg\");\n/* harmony import */ var _icons_max_svg__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../icons/max.svg */ \"(app-client)/./app/icons/max.svg\");\n/* harmony import */ var _icons_min_svg__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../icons/min.svg */ \"(app-client)/./app/icons/min.svg\");\n/* harmony import */ var _icons_reload_svg__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../icons/reload.svg */ \"(app-client)/./app/icons/reload.svg\");\n/* harmony import */ var _icons_break_svg__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../icons/break.svg */ \"(app-client)/./app/icons/break.svg\");\n/* harmony import */ var _icons_chat_settings_svg__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../icons/chat-settings.svg */ \"(app-client)/./app/icons/chat-settings.svg\");\n/* harmony import */ var _icons_clear_svg__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../icons/clear.svg */ \"(app-client)/./app/icons/clear.svg\");\n/* harmony import */ var _icons_pin_svg__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../icons/pin.svg */ \"(app-client)/./app/icons/pin.svg\");\n/* harmony import */ var _icons_rename_svg__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../icons/rename.svg */ \"(app-client)/./app/icons/rename.svg\");\n/* harmony import */ var _icons_confirm_svg__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../icons/confirm.svg */ \"(app-client)/./app/icons/confirm.svg\");\n/* harmony import */ var _icons_cancel_svg__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../icons/cancel.svg */ \"(app-client)/./app/icons/cancel.svg\");\n/* harmony import */ var _icons_light_svg__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../icons/light.svg */ \"(app-client)/./app/icons/light.svg\");\n/* harmony import */ var _icons_dark_svg__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../icons/dark.svg */ \"(app-client)/./app/icons/dark.svg\");\n/* harmony import */ var _icons_auto_svg__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../icons/auto.svg */ \"(app-client)/./app/icons/auto.svg\");\n/* harmony import */ var _icons_bottom_svg__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../icons/bottom.svg */ \"(app-client)/./app/icons/bottom.svg\");\n/* harmony import */ var _icons_pause_svg__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../icons/pause.svg */ \"(app-client)/./app/icons/pause.svg\");\n/* harmony import */ var _icons_robot_svg__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../icons/robot.svg */ \"(app-client)/./app/icons/robot.svg\");\n/* harmony import */ var _icons_motai_svg__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../icons/motai.svg */ \"(app-client)/./app/icons/motai.svg\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../store */ \"(app-client)/./app/store/index.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../utils */ \"(app-client)/./app/utils.ts\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! next/dynamic */ \"(app-client)/./node_modules/next/dist/shared/lib/app-dynamic.js\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_28___default = /*#__PURE__*/__webpack_require__.n(next_dynamic__WEBPACK_IMPORTED_MODULE_28__);\n/* harmony import */ var _client_controller__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../client/controller */ \"(app-client)/./app/client/controller.ts\");\n/* harmony import */ var _store_prompt__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../store/prompt */ \"(app-client)/./app/store/prompt.ts\");\n/* harmony import */ var _locales__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../locales */ \"(app-client)/./app/locales/index.ts\");\n/* harmony import */ var _button__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./button */ \"(app-client)/./app/components/button.tsx\");\n/* harmony import */ var _chat_module_scss__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./chat.module.scss */ \"(app-client)/./app/components/chat.module.scss\");\n/* harmony import */ var _chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default = /*#__PURE__*/__webpack_require__.n(_chat_module_scss__WEBPACK_IMPORTED_MODULE_44__);\n/* harmony import */ var _ui_lib__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./ui-lib */ \"(app-client)/./app/components/ui-lib.tsx\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! react-router-dom */ \"(app-client)/./node_modules/react-router/dist/index.js\");\n/* harmony import */ var _constant__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../constant */ \"(app-client)/./app/constant.ts\");\n/* harmony import */ var _emoji__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./emoji */ \"(app-client)/./app/components/emoji.tsx\");\n/* harmony import */ var _mask__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./mask */ \"(app-client)/./app/components/mask.tsx\");\n/* harmony import */ var _store_mask__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../store/mask */ \"(app-client)/./app/store/mask.ts\");\n/* harmony import */ var _command__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../command */ \"(app-client)/./app/command.ts\");\n/* harmony import */ var _utils_format__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../utils/format */ \"(app-client)/./app/utils/format.ts\");\n/* harmony import */ var _exporter__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./exporter */ \"(app-client)/./app/components/exporter.tsx\");\n/* harmony import */ var _config_client__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../config/client */ \"(app-client)/./app/config/client.ts\");\n/* harmony import */ var _utils_hooks__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../utils/hooks */ \"(app-client)/./app/utils/hooks.ts\");\n/* harmony import */ var antd_lib_message__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! antd/lib/message */ \"(app-client)/./node_modules/antd/lib/message/index.js\");\n/* harmony import */ var antd_lib_upload__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! antd/lib/upload */ \"(app-client)/./node_modules/antd/lib/upload/index.js\");\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$(), _s3 = $RefreshSig$(), _s4 = $RefreshSig$(), _s5 = $RefreshSig$(), _s6 = $RefreshSig$(), _s7 = $RefreshSig$(), _s8 = $RefreshSig$(), _s9 = $RefreshSig$(), _s10 = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Markdown = next_dynamic__WEBPACK_IMPORTED_MODULE_28___default()(async ()=>(await __webpack_require__.e(/*! import() */ \"_app-client_app_components_markdown_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ./markdown */ \"(app-client)/./app/components/markdown.tsx\"))).Markdown, {\n    loadableGenerated: {\n        modules: [\n            \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx -> \" + \"./markdown\"\n        ]\n    },\n    loading: ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_three_dots_svg__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}, void 0, false, {\n            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n            lineNumber: 99,\n            columnNumber: 18\n        }, undefined)\n});\n_c = Markdown;\nfunction SessionConfigModel(props) {\n    _s();\n    const chatStore = (0,_store__WEBPACK_IMPORTED_MODULE_26__.useChatStore)();\n    const session = chatStore.currentSession();\n    const maskStore = (0,_store_mask__WEBPACK_IMPORTED_MODULE_37__.useMaskStore)();\n    const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_43__.useNavigate)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"modal-mask\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_lib__WEBPACK_IMPORTED_MODULE_33__.Modal, {\n            title: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Context.Edit,\n            onClose: ()=>props.onClose(),\n            actions: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_button__WEBPACK_IMPORTED_MODULE_32__.IconButton, {\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_reload_svg__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {}, void 0, false, void 0, void 0),\n                    bordered: true,\n                    text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Config.Reset,\n                    onClick: async ()=>{\n                        if (await (0,_ui_lib__WEBPACK_IMPORTED_MODULE_33__.showConfirm)(_locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Memory.ResetConfirm)) {\n                            chatStore.updateCurrentSession((session)=>session.memoryPrompt = \"\");\n                        }\n                    }\n                }, \"reset\", false, void 0, void 0),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_button__WEBPACK_IMPORTED_MODULE_32__.IconButton, {\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_copy_svg__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {}, void 0, false, void 0, void 0),\n                    bordered: true,\n                    text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Config.SaveAs,\n                    onClick: ()=>{\n                        navigate(_constant__WEBPACK_IMPORTED_MODULE_34__.Path.Masks);\n                        setTimeout(()=>{\n                            maskStore.create(session.mask);\n                        }, 500);\n                    }\n                }, \"copy\", false, void 0, void 0)\n            ],\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mask__WEBPACK_IMPORTED_MODULE_36__.MaskConfig, {\n                mask: session.mask,\n                updateMask: (updater)=>{\n                    const mask = {\n                        ...session.mask\n                    };\n                    updater(mask);\n                    chatStore.updateCurrentSession((session)=>session.mask = mask);\n                },\n                shouldSyncFromGlobal: true,\n                extraListItems: session.mask.modelConfig.sendMemory ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_lib__WEBPACK_IMPORTED_MODULE_33__.ListItem, {\n                    className: \"copyable\",\n                    title: \"\".concat(_locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Memory.Title, \" (\").concat(session.lastSummarizeIndex, \" of \").concat(session.messages.length, \")\"),\n                    subTitle: session.memoryPrompt || _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Memory.EmptyContent\n                }, void 0, false, void 0, void 0) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}, void 0, false)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 141,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n            lineNumber: 110,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n        lineNumber: 109,\n        columnNumber: 5\n    }, this);\n}\n_s(SessionConfigModel, \"z78RVOGmEODqWKBe7iegWqnpLi4=\", false, function() {\n    return [\n        _store__WEBPACK_IMPORTED_MODULE_26__.useChatStore,\n        _store_mask__WEBPACK_IMPORTED_MODULE_37__.useMaskStore,\n        react_router_dom__WEBPACK_IMPORTED_MODULE_43__.useNavigate\n    ];\n});\n_c1 = SessionConfigModel;\nfunction PromptToast(props) {\n    _s1();\n    const chatStore = (0,_store__WEBPACK_IMPORTED_MODULE_26__.useChatStore)();\n    const session = chatStore.currentSession();\n    const context = session.mask.context;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"prompt-toast\"]),\n        children: [\n            props.showToast && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"prompt-toast-inner\"]) + \" clickable\",\n                role: \"button\",\n                onClick: ()=>props.setShowModal(true),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_brain_svg__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {}, void 0, false, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 183,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"prompt-toast-content\"]),\n                        children: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Context.Toast(context.length)\n                    }, void 0, false, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 184,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 178,\n                columnNumber: 9\n            }, this),\n            props.showModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SessionConfigModel, {\n                onClose: ()=>props.setShowModal(false)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 190,\n                columnNumber: 9\n            }, this)\n        ]\n    }, \"prompt-toast\", true, {\n        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n        lineNumber: 176,\n        columnNumber: 5\n    }, this);\n}\n_s1(PromptToast, \"VEZRjRiHFhGEe/E6z12rT6r9BBA=\", false, function() {\n    return [\n        _store__WEBPACK_IMPORTED_MODULE_26__.useChatStore\n    ];\n});\n_c2 = PromptToast;\nfunction useSubmitHandler() {\n    _s2();\n    const config = (0,_store__WEBPACK_IMPORTED_MODULE_26__.useAppConfig)();\n    const submitKey = config.submitKey;\n    const isComposing = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        for(var i = 1; i <= 5; i++){\n            let reuslt = i;\n            setTimeout(function timer() {\n                console.log(reuslt);\n            }, 0);\n        }\n        const onCompositionStart = ()=>{\n            isComposing.current = true;\n        };\n        const onCompositionEnd = ()=>{\n            isComposing.current = false;\n        };\n        window.addEventListener(\"compositionstart\", onCompositionStart);\n        window.addEventListener(\"compositionend\", onCompositionEnd);\n        return ()=>{\n            window.removeEventListener(\"compositionstart\", onCompositionStart);\n            window.removeEventListener(\"compositionend\", onCompositionEnd);\n        };\n    }, []);\n    const shouldSubmit = (e)=>{\n        if (e.key !== \"Enter\") return false;\n        if (e.key === \"Enter\" && (e.nativeEvent.isComposing || isComposing.current)) return false;\n        return config.submitKey === _store__WEBPACK_IMPORTED_MODULE_26__.SubmitKey.AltEnter && e.altKey || config.submitKey === _store__WEBPACK_IMPORTED_MODULE_26__.SubmitKey.CtrlEnter && e.ctrlKey || config.submitKey === _store__WEBPACK_IMPORTED_MODULE_26__.SubmitKey.ShiftEnter && e.shiftKey || config.submitKey === _store__WEBPACK_IMPORTED_MODULE_26__.SubmitKey.MetaEnter && e.metaKey || config.submitKey === _store__WEBPACK_IMPORTED_MODULE_26__.SubmitKey.Enter && !e.altKey && !e.ctrlKey && !e.shiftKey && !e.metaKey;\n    };\n    return {\n        submitKey,\n        shouldSubmit\n    };\n}\n_s2(useSubmitHandler, \"RhLmiAbheqFHJx+YtGZ+eIpCF80=\", false, function() {\n    return [\n        _store__WEBPACK_IMPORTED_MODULE_26__.useAppConfig\n    ];\n});\nfunction PromptHints(props) {\n    _s3();\n    const noPrompts = props.prompts.length === 0;\n    const [selectIndex, setSelectIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const selectedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setSelectIndex(0);\n    }, [\n        props.prompts.length\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const onKeyDown = (e)=>{\n            if (noPrompts || e.metaKey || e.altKey || e.ctrlKey) {\n                return;\n            }\n            // arrow up / down to select prompt\n            const changeIndex = (delta)=>{\n                var _selectedRef_current;\n                e.stopPropagation();\n                e.preventDefault();\n                const nextIndex = Math.max(0, Math.min(props.prompts.length - 1, selectIndex + delta));\n                setSelectIndex(nextIndex);\n                (_selectedRef_current = selectedRef.current) === null || _selectedRef_current === void 0 ? void 0 : _selectedRef_current.scrollIntoView({\n                    block: \"center\"\n                });\n            };\n            if (e.key === \"ArrowUp\") {\n                changeIndex(1);\n            } else if (e.key === \"ArrowDown\") {\n                changeIndex(-1);\n            } else if (e.key === \"Enter\") {\n                const selectedPrompt = props.prompts.at(selectIndex);\n                if (selectedPrompt) {\n                    props.onPromptSelect(selectedPrompt);\n                }\n            }\n        };\n        window.addEventListener(\"keydown\", onKeyDown);\n        return ()=>window.removeEventListener(\"keydown\", onKeyDown);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        props.prompts.length,\n        selectIndex\n    ]);\n    if (noPrompts) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"prompt-hints\"]),\n        children: props.prompts.map((prompt, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: i === selectIndex ? selectedRef : null,\n                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"prompt-hint\"]) + \" \".concat(i === selectIndex ? (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"prompt-hint-selected\"]) : \"\"),\n                onClick: ()=>props.onPromptSelect(prompt),\n                onMouseEnter: ()=>setSelectIndex(i),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"hint-title\"]),\n                        children: prompt.title\n                    }, void 0, false, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 314,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"hint-content\"]),\n                        children: prompt.content\n                    }, void 0, false, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 315,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, prompt.title + i.toString(), true, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 304,\n                columnNumber: 9\n            }, this))\n    }, void 0, false, {\n        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n        lineNumber: 302,\n        columnNumber: 5\n    }, this);\n}\n_s3(PromptHints, \"qRy81yzrODnly+hCrZ8AH+LDmLY=\");\n_c3 = PromptHints;\nfunction ClearContextDivider() {\n    _s4();\n    const chatStore = (0,_store__WEBPACK_IMPORTED_MODULE_26__.useChatStore)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"clear-context\"]),\n        onClick: ()=>chatStore.updateCurrentSession((session)=>session.clearContextIndex = undefined),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"clear-context-tips\"]),\n                children: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Context.Clear\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 334,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"clear-context-revert-btn\"]),\n                children: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Context.Revert\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 335,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n        lineNumber: 326,\n        columnNumber: 5\n    }, this);\n}\n_s4(ClearContextDivider, \"VEZRjRiHFhGEe/E6z12rT6r9BBA=\", false, function() {\n    return [\n        _store__WEBPACK_IMPORTED_MODULE_26__.useChatStore\n    ];\n});\n_c4 = ClearContextDivider;\nfunction ChatAction(props) {\n    _s5();\n    const iconRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const textRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [width, setWidth] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        full: 16,\n        icon: 16\n    });\n    function updateWidth() {\n        if (!iconRef.current || !textRef.current) return;\n        const getWidth = (dom)=>dom.getBoundingClientRect().width;\n        const textWidth = getWidth(textRef.current);\n        const iconWidth = getWidth(iconRef.current);\n        setWidth({\n            full: textWidth + iconWidth,\n            icon: iconWidth\n        });\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"\".concat((_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-input-action\"]), \" clickable\"),\n        onClick: ()=>{\n            props.onClick();\n            setTimeout(updateWidth, 1);\n        },\n        onMouseEnter: updateWidth,\n        onTouchStart: updateWidth,\n        style: {\n            \"--icon-width\": \"\".concat(width.icon, \"px\"),\n            \"--full-width\": \"\".concat(width.full, \"px\")\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: iconRef,\n                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default().icon),\n                children: props.icon\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 381,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default().text),\n                ref: textRef,\n                children: props.text\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 384,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n        lineNumber: 366,\n        columnNumber: 5\n    }, this);\n}\n_s5(ChatAction, \"6GyWLM0xTk1RJLP38MM5lMkPPOo=\");\n_c5 = ChatAction;\nfunction useScrollToBottom() {\n    _s6();\n    // for auto-scroll\n    const scrollRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [autoScroll, setAutoScroll] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    function scrollDomToBottom() {\n        const dom = scrollRef.current;\n        if (dom) {\n            requestAnimationFrame(()=>{\n                setAutoScroll(true);\n                dom.scrollTo(0, dom.scrollHeight);\n            });\n        }\n    }\n    // auto scroll\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (autoScroll) {\n            scrollDomToBottom();\n        }\n    });\n    return {\n        scrollRef,\n        autoScroll,\n        setAutoScroll,\n        scrollDomToBottom\n    };\n}\n_s6(useScrollToBottom, \"yJQBBh+OiMUyHghtCC5WHUlLfio=\");\nfunction ChatActions(props) {\n    _s7();\n    const config = (0,_store__WEBPACK_IMPORTED_MODULE_26__.useAppConfig)();\n    const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_43__.useNavigate)();\n    const chatStore = (0,_store__WEBPACK_IMPORTED_MODULE_26__.useChatStore)();\n    // switch themes\n    const theme = config.theme;\n    function nextTheme() {\n        const themes = [\n            _store__WEBPACK_IMPORTED_MODULE_26__.Theme.Auto,\n            _store__WEBPACK_IMPORTED_MODULE_26__.Theme.Light,\n            _store__WEBPACK_IMPORTED_MODULE_26__.Theme.Dark\n        ];\n        const themeIndex = themes.indexOf(theme);\n        const nextIndex = (themeIndex + 1) % themes.length;\n        const nextTheme = themes[nextIndex];\n        config.update((config)=>config.theme = nextTheme);\n    }\n    // stop all responses\n    const couldStop = _client_controller__WEBPACK_IMPORTED_MODULE_29__.ChatControllerPool.hasPending();\n    const stopAll = ()=>_client_controller__WEBPACK_IMPORTED_MODULE_29__.ChatControllerPool.stopAll();\n    // switch model\n    const currentModel = chatStore.currentSession().mask.modelConfig.model;\n    const allModels = (0,_utils_hooks__WEBPACK_IMPORTED_MODULE_42__.useAllModels)();\n    const models = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>allModels.filter((m)=>m.available), [\n        allModels\n    ]);\n    const [showModelSelector, setShowModelSelector] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // if current model is not available\n        // switch to first available model\n        const isUnavaliableModel = !models.some((m)=>m.name === currentModel);\n        if (isUnavaliableModel && models.length > 0) {\n            const nextModel = models[0].name;\n            chatStore.updateCurrentSession((session)=>session.mask.modelConfig.model = nextModel);\n            (0,_ui_lib__WEBPACK_IMPORTED_MODULE_33__.showToast)(nextModel);\n        }\n    }, [\n        chatStore,\n        currentModel,\n        models\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-input-actions\"]),\n        children: [\n            couldStop && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                onClick: stopAll,\n                text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.InputActions.Stop,\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_pause_svg__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {}, void 0, false, void 0, void 0)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 470,\n                columnNumber: 9\n            }, this),\n            !props.hitBottom && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                onClick: props.scrollToBottom,\n                text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.InputActions.ToBottom,\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_bottom_svg__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {}, void 0, false, void 0, void 0)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 477,\n                columnNumber: 9\n            }, this),\n            props.hitBottom && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                onClick: props.showPromptModal,\n                text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.InputActions.Settings,\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_chat_settings_svg__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {}, void 0, false, void 0, void 0)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 484,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                onClick: nextTheme,\n                text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.InputActions.Theme[theme],\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: theme === _store__WEBPACK_IMPORTED_MODULE_26__.Theme.Auto ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_auto_svg__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {}, void 0, false, void 0, void 0) : theme === _store__WEBPACK_IMPORTED_MODULE_26__.Theme.Light ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_light_svg__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {}, void 0, false, void 0, void 0) : theme === _store__WEBPACK_IMPORTED_MODULE_26__.Theme.Dark ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_dark_svg__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {}, void 0, false, void 0, void 0) : null\n                }, void 0, false)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 491,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                onClick: props.showPromptHints,\n                text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.InputActions.Prompt,\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_prompt_svg__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {}, void 0, false, void 0, void 0)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 507,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                onClick: ()=>{\n                    navigate(_constant__WEBPACK_IMPORTED_MODULE_34__.Path.Masks);\n                },\n                text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.InputActions.Masks,\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_mask_svg__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {}, void 0, false, void 0, void 0)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 513,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.InputActions.Clear,\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_break_svg__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {}, void 0, false, void 0, void 0),\n                onClick: ()=>{\n                    chatStore.updateCurrentSession((session)=>{\n                        if (session.clearContextIndex === session.messages.length) {\n                            session.clearContextIndex = undefined;\n                        } else {\n                            session.clearContextIndex = session.messages.length;\n                            session.memoryPrompt = \"\"; // will clear memory\n                        }\n                    });\n                }\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 521,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                onClick: ()=>setShowModelSelector(true),\n                text: currentModel,\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_robot_svg__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {}, void 0, false, void 0, void 0)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 536,\n                columnNumber: 7\n            }, this),\n            showModelSelector && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_lib__WEBPACK_IMPORTED_MODULE_33__.Selector, {\n                defaultSelectedValue: currentModel,\n                items: models.map((m)=>({\n                        title: m.displayName,\n                        value: m.name\n                    })),\n                onClose: ()=>setShowModelSelector(false),\n                onSelection: (s)=>{\n                    if (s.length === 0) return;\n                    chatStore.updateCurrentSession((session)=>{\n                        session.mask.modelConfig.model = s[0];\n                        session.mask.syncGlobalConfig = false;\n                    });\n                    (0,_ui_lib__WEBPACK_IMPORTED_MODULE_33__.showToast)(s[0]);\n                }\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 543,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n        lineNumber: 468,\n        columnNumber: 5\n    }, this);\n}\n_s7(ChatActions, \"SKdCl+52LLR0RuP2XyyUMMA35fc=\", false, function() {\n    return [\n        _store__WEBPACK_IMPORTED_MODULE_26__.useAppConfig,\n        react_router_dom__WEBPACK_IMPORTED_MODULE_43__.useNavigate,\n        _store__WEBPACK_IMPORTED_MODULE_26__.useChatStore,\n        _utils_hooks__WEBPACK_IMPORTED_MODULE_42__.useAllModels\n    ];\n});\n_c6 = ChatActions;\nfunction EditMessageModal(props) {\n    _s8();\n    const chatStore = (0,_store__WEBPACK_IMPORTED_MODULE_26__.useChatStore)();\n    const session = chatStore.currentSession();\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(session.messages.slice());\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"modal-mask\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_lib__WEBPACK_IMPORTED_MODULE_33__.Modal, {\n            title: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.EditMessage.Title,\n            onClose: props.onClose,\n            actions: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_button__WEBPACK_IMPORTED_MODULE_32__.IconButton, {\n                    text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].UI.Cancel,\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_cancel_svg__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {}, void 0, false, void 0, void 0),\n                    onClick: ()=>{\n                        props.onClose();\n                    }\n                }, \"cancel\", false, void 0, void 0),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_button__WEBPACK_IMPORTED_MODULE_32__.IconButton, {\n                    type: \"primary\",\n                    text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].UI.Confirm,\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_confirm_svg__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {}, void 0, false, void 0, void 0),\n                    onClick: ()=>{\n                        chatStore.updateCurrentSession((session)=>session.messages = messages);\n                        props.onClose();\n                    }\n                }, \"ok\", false, void 0, void 0)\n            ],\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_lib__WEBPACK_IMPORTED_MODULE_33__.List, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_lib__WEBPACK_IMPORTED_MODULE_33__.ListItem, {\n                        title: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.EditMessage.Topic.Title,\n                        subTitle: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.EditMessage.Topic.SubTitle,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"text\",\n                            value: session.topic,\n                            onInput: (e)=>chatStore.updateCurrentSession((session)=>session.topic = e.currentTarget.value)\n                        }, void 0, false, {\n                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                            lineNumber: 602,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 598,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                    lineNumber: 597,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mask__WEBPACK_IMPORTED_MODULE_36__.ContextPrompts, {\n                    context: messages,\n                    updateContext: (updater)=>{\n                        const newMessages = messages.slice();\n                        updater(newMessages);\n                        setMessages(newMessages);\n                    }\n                }, void 0, false, {\n                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                    lineNumber: 613,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n            lineNumber: 571,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n        lineNumber: 570,\n        columnNumber: 5\n    }, this);\n}\n_s8(EditMessageModal, \"PNpuWAMa1wFKZALzUiT027BVX2s=\", false, function() {\n    return [\n        _store__WEBPACK_IMPORTED_MODULE_26__.useChatStore\n    ];\n});\n_c7 = EditMessageModal;\nfunction _Chat() {\n    var _session_messages_at, _clientConfig;\n    _s9();\n    const chatStore = (0,_store__WEBPACK_IMPORTED_MODULE_26__.useChatStore)();\n    const session = chatStore.currentSession();\n    const config = (0,_store__WEBPACK_IMPORTED_MODULE_26__.useAppConfig)();\n    const fontSize = config.fontSize;\n    const [showExport, setShowExport] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [userInput, setUserInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { submitKey, shouldSubmit } = useSubmitHandler();\n    const { scrollRef, setAutoScroll, scrollDomToBottom } = useScrollToBottom();\n    const [hitBottom, setHitBottom] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const isMobileScreen = (0,_utils__WEBPACK_IMPORTED_MODULE_27__.useMobileScreen)();\n    const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_43__.useNavigate)();\n    // prompt hints\n    const promptStore = (0,_store_prompt__WEBPACK_IMPORTED_MODULE_30__.usePromptStore)();\n    const [promptHints, setPromptHints] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const onSearch = (0,use_debounce__WEBPACK_IMPORTED_MODULE_45__.useDebouncedCallback)((text)=>{\n        const matchedPrompts = promptStore.search(text);\n        setPromptHints(matchedPrompts);\n    }, 100, {\n        leading: true,\n        trailing: true\n    });\n    // auto grow input\n    const [inputRows, setInputRows] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(2);\n    const measure = (0,use_debounce__WEBPACK_IMPORTED_MODULE_45__.useDebouncedCallback)(()=>{\n        const rows = inputRef.current ? (0,_utils__WEBPACK_IMPORTED_MODULE_27__.autoGrowTextArea)(inputRef.current) : 1;\n        const inputRows = Math.min(20, Math.max(2 + Number(!isMobileScreen), rows));\n        setInputRows(inputRows);\n    }, 100, {\n        leading: true,\n        trailing: true\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(measure, [\n        userInput\n    ]);\n    // chat commands shortcuts\n    const chatCommands = (0,_command__WEBPACK_IMPORTED_MODULE_38__.useChatCommand)({\n        new: ()=>chatStore.newSession(),\n        newm: ()=>navigate(_constant__WEBPACK_IMPORTED_MODULE_34__.Path.NewChat),\n        prev: ()=>chatStore.nextSession(-1),\n        next: ()=>chatStore.nextSession(1),\n        clear: ()=>chatStore.updateCurrentSession((session)=>session.clearContextIndex = session.messages.length),\n        del: ()=>chatStore.deleteSession(chatStore.currentSessionIndex)\n    });\n    // only search prompts when user input is short\n    const SEARCH_TEXT_LIMIT = 30;\n    const onInput = (text)=>{\n        setUserInput(text);\n        const n = text.trim().length;\n        // clear search results\n        if (n === 0) {\n            setPromptHints([]);\n        } else if (text.startsWith(_command__WEBPACK_IMPORTED_MODULE_38__.ChatCommandPrefix)) {\n            setPromptHints(chatCommands.search(text));\n        } else if (!config.disablePromptHint && n < SEARCH_TEXT_LIMIT) {\n            // check if need to trigger auto completion\n            if (text.startsWith(\"/\")) {\n                let searchText = text.slice(1);\n                onSearch(searchText);\n            }\n        }\n    };\n    const doSubmit = (userInput)=>{\n        var _inputRef_current;\n        if (userInput.trim() === \"\") return;\n        const matchCommand = chatCommands.match(userInput);\n        if (matchCommand.matched) {\n            setUserInput(\"\");\n            setPromptHints([]);\n            matchCommand.invoke();\n            return;\n        }\n        setIsLoading(true);\n        chatStore.onUserInput(userInput).then(()=>setIsLoading(false));\n        localStorage.setItem(_constant__WEBPACK_IMPORTED_MODULE_34__.LAST_INPUT_KEY, userInput);\n        setUserInput(\"\");\n        setPromptHints([]);\n        if (!isMobileScreen) (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n        setAutoScroll(true);\n    };\n    const onPromptSelect = (prompt)=>{\n        setTimeout(()=>{\n            var _inputRef_current;\n            setPromptHints([]);\n            const matchedChatCommand = chatCommands.match(prompt.content);\n            if (matchedChatCommand.matched) {\n                // if user is selecting a chat command, just trigger it\n                matchedChatCommand.invoke();\n                setUserInput(\"\");\n            } else {\n                // or fill the prompt\n                setUserInput(prompt.content);\n            }\n            (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n        }, 30);\n    };\n    // stop response\n    const onUserStop = (messageId)=>{\n        _client_controller__WEBPACK_IMPORTED_MODULE_29__.ChatControllerPool.stop(session.id, messageId);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        chatStore.updateCurrentSession((session)=>{\n            const stopTiming = Date.now() - _constant__WEBPACK_IMPORTED_MODULE_34__.REQUEST_TIMEOUT_MS;\n            session.messages.forEach((m)=>{\n                // check if should stop all stale messages\n                if (m.isError || new Date(m.date).getTime() < stopTiming) {\n                    if (m.streaming) {\n                        m.streaming = false;\n                    }\n                    if (m.content.length === 0) {\n                        m.isError = true;\n                        m.content = (0,_utils_format__WEBPACK_IMPORTED_MODULE_39__.prettyObject)({\n                            error: true,\n                            message: \"empty response\"\n                        });\n                    }\n                }\n            });\n            // auto sync mask config from global config\n            if (session.mask.syncGlobalConfig) {\n                console.log(\"[Mask] syncing from global, name = \", session.mask.name);\n                session.mask.modelConfig = {\n                    ...config.modelConfig\n                };\n            }\n        });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    // check if should send message\n    const onInputKeyDown = (e)=>{\n        // if ArrowUp and no userInput, fill with last input\n        if (e.key === \"ArrowUp\" && userInput.length <= 0 && !(e.metaKey || e.altKey || e.ctrlKey)) {\n            var _localStorage_getItem;\n            setUserInput((_localStorage_getItem = localStorage.getItem(_constant__WEBPACK_IMPORTED_MODULE_34__.LAST_INPUT_KEY)) !== null && _localStorage_getItem !== void 0 ? _localStorage_getItem : \"\");\n            e.preventDefault();\n            return;\n        }\n        if (shouldSubmit(e) && promptHints.length === 0) {\n            doSubmit(userInput);\n            e.preventDefault();\n        }\n    };\n    const onRightClick = (e, message)=>{\n        // copy to clipboard\n        if ((0,_utils__WEBPACK_IMPORTED_MODULE_27__.selectOrCopy)(e.currentTarget, message.content)) {\n            if (userInput.length === 0) {\n                setUserInput(message.content);\n            }\n            e.preventDefault();\n        }\n    };\n    const deleteMessage = (msgId)=>{\n        chatStore.updateCurrentSession((session)=>session.messages = session.messages.filter((m)=>m.id !== msgId));\n    };\n    const onDelete = (msgId)=>{\n        deleteMessage(msgId);\n    };\n    const onResend = (message)=>{\n        var _botMessage, _inputRef_current;\n        // when it is resending a message\n        // 1. for a user's message, find the next bot response\n        // 2. for a bot's message, find the last user's input\n        // 3. delete original user input and bot's message\n        // 4. resend the user's input\n        const resendingIndex = session.messages.findIndex((m)=>m.id === message.id);\n        if (resendingIndex < 0 || resendingIndex >= session.messages.length) {\n            console.error(\"[Chat] failed to find resending message\", message);\n            return;\n        }\n        let userMessage;\n        let botMessage;\n        if (message.role === \"assistant\") {\n            // if it is resending a bot's message, find the user input for it\n            botMessage = message;\n            for(let i = resendingIndex; i >= 0; i -= 1){\n                if (session.messages[i].role === \"user\") {\n                    userMessage = session.messages[i];\n                    break;\n                }\n            }\n        } else if (message.role === \"user\") {\n            // if it is resending a user's input, find the bot's response\n            userMessage = message;\n            for(let i = resendingIndex; i < session.messages.length; i += 1){\n                if (session.messages[i].role === \"assistant\") {\n                    botMessage = session.messages[i];\n                    break;\n                }\n            }\n        }\n        if (userMessage === undefined) {\n            console.error(\"[Chat] failed to resend\", message);\n            return;\n        }\n        // delete the original messages\n        deleteMessage(userMessage.id);\n        deleteMessage((_botMessage = botMessage) === null || _botMessage === void 0 ? void 0 : _botMessage.id);\n        // resend the message\n        setIsLoading(true);\n        chatStore.onUserInput(userMessage.content).then(()=>setIsLoading(false));\n        (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n    };\n    const onPinMessage = (message)=>{\n        chatStore.updateCurrentSession((session)=>session.mask.context.push(message));\n        (0,_ui_lib__WEBPACK_IMPORTED_MODULE_33__.showToast)(_locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Actions.PinToastContent, {\n            text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Actions.PinToastAction,\n            onClick: ()=>{\n                setShowPromptModal(true);\n            }\n        });\n    };\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        return session.mask.hideContext ? [] : session.mask.context.slice();\n    }, [\n        session.mask.context,\n        session.mask.hideContext\n    ]);\n    const accessStore = (0,_store__WEBPACK_IMPORTED_MODULE_26__.useAccessStore)();\n    if (context.length === 0 && ((_session_messages_at = session.messages.at(0)) === null || _session_messages_at === void 0 ? void 0 : _session_messages_at.content) !== _store__WEBPACK_IMPORTED_MODULE_26__.BOT_HELLO.content) {\n        const copiedHello = Object.assign({}, _store__WEBPACK_IMPORTED_MODULE_26__.BOT_HELLO);\n        if (!accessStore.isAuthorized()) {\n            copiedHello.content = _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Error.Unauthorized;\n        }\n        context.push(copiedHello);\n    }\n    // preview messages\n    const renderMessages = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        return context.concat(session.messages).concat(isLoading ? [\n            {\n                ...(0,_store__WEBPACK_IMPORTED_MODULE_26__.createMessage)({\n                    role: \"assistant\",\n                    content: \"\"\n                }),\n                preview: true\n            }\n        ] : []).concat(userInput.length > 0 && config.sendPreviewBubble ? [\n            {\n                ...(0,_store__WEBPACK_IMPORTED_MODULE_26__.createMessage)({\n                    role: \"user\",\n                    content: userInput\n                }),\n                preview: true\n            }\n        ] : []);\n    }, [\n        config.sendPreviewBubble,\n        context,\n        isLoading,\n        session.messages,\n        userInput\n    ]);\n    const [msgRenderIndex, _setMsgRenderIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(Math.max(0, renderMessages.length - _constant__WEBPACK_IMPORTED_MODULE_34__.CHAT_PAGE_SIZE));\n    function setMsgRenderIndex(newIndex) {\n        newIndex = Math.min(renderMessages.length - _constant__WEBPACK_IMPORTED_MODULE_34__.CHAT_PAGE_SIZE, newIndex);\n        newIndex = Math.max(0, newIndex);\n        _setMsgRenderIndex(newIndex);\n    }\n    const messages = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const endRenderIndex = Math.min(msgRenderIndex + 3 * _constant__WEBPACK_IMPORTED_MODULE_34__.CHAT_PAGE_SIZE, renderMessages.length);\n        return renderMessages.slice(msgRenderIndex, endRenderIndex);\n    }, [\n        msgRenderIndex,\n        renderMessages\n    ]);\n    const onChatBodyScroll = (e)=>{\n        const bottomHeight = e.scrollTop + e.clientHeight;\n        const edgeThreshold = e.clientHeight;\n        const isTouchTopEdge = e.scrollTop <= edgeThreshold;\n        const isTouchBottomEdge = bottomHeight >= e.scrollHeight - edgeThreshold;\n        const isHitBottom = bottomHeight >= e.scrollHeight - (isMobileScreen ? 4 : 10);\n        const prevPageMsgIndex = msgRenderIndex - _constant__WEBPACK_IMPORTED_MODULE_34__.CHAT_PAGE_SIZE;\n        const nextPageMsgIndex = msgRenderIndex + _constant__WEBPACK_IMPORTED_MODULE_34__.CHAT_PAGE_SIZE;\n        if (isTouchTopEdge && !isTouchBottomEdge) {\n            setMsgRenderIndex(prevPageMsgIndex);\n        } else if (isTouchBottomEdge) {\n            setMsgRenderIndex(nextPageMsgIndex);\n        }\n        setHitBottom(isHitBottom);\n        setAutoScroll(isHitBottom);\n    };\n    function scrollToBottom() {\n        setMsgRenderIndex(renderMessages.length - _constant__WEBPACK_IMPORTED_MODULE_34__.CHAT_PAGE_SIZE);\n        scrollDomToBottom();\n    }\n    var _session_clearContextIndex;\n    // clear context index = context length + index in messages\n    const clearContextIndex = ((_session_clearContextIndex = session.clearContextIndex) !== null && _session_clearContextIndex !== void 0 ? _session_clearContextIndex : -1) >= 0 ? session.clearContextIndex + context.length - msgRenderIndex : -1;\n    const [showPromptModal, setShowPromptModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const clientConfig = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>(0,_config_client__WEBPACK_IMPORTED_MODULE_41__.getClientConfig)(), []);\n    const autoFocus = !isMobileScreen; // wont auto focus on mobile screen\n    const showMaxIcon = !isMobileScreen && !((_clientConfig = clientConfig) === null || _clientConfig === void 0 ? void 0 : _clientConfig.isApp);\n    (0,_command__WEBPACK_IMPORTED_MODULE_38__.useCommand)({\n        fill: setUserInput,\n        submit: (text)=>{\n            doSubmit(text);\n        },\n        code: (text)=>{\n            if (accessStore.disableFastLink) return;\n            console.log(\"[Command] got code from url: \", text);\n            (0,_ui_lib__WEBPACK_IMPORTED_MODULE_33__.showConfirm)(_locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].URLCommand.Code + \"code = \".concat(text)).then((res)=>{\n                if (res) {\n                    accessStore.update((access)=>access.accessCode = text);\n                }\n            });\n        },\n        settings: (text)=>{\n            if (accessStore.disableFastLink) return;\n            try {\n                const payload = JSON.parse(text);\n                console.log(\"[Command] got settings from url: \", payload);\n                if (payload.key || payload.url) {\n                    (0,_ui_lib__WEBPACK_IMPORTED_MODULE_33__.showConfirm)(_locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].URLCommand.Settings + \"\\n\".concat(JSON.stringify(payload, null, 4))).then((res)=>{\n                        if (!res) return;\n                        if (payload.key) {\n                            accessStore.update((access)=>access.openaiApiKey = payload.key);\n                        }\n                        if (payload.url) {\n                            accessStore.update((access)=>access.openaiUrl = payload.url);\n                        }\n                    });\n                }\n            } catch (e) {\n                console.error(\"[Command] failed to get settings from url: \", text);\n            }\n        }\n    });\n    // edit / insert message modal\n    const [isEditingMessage, setIsEditingMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // remember unfinished input\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // try to load from local storage\n        const key = (0,_constant__WEBPACK_IMPORTED_MODULE_34__.UNFINISHED_INPUT)(session.id);\n        const mayBeUnfinishedInput = localStorage.getItem(key);\n        if (mayBeUnfinishedInput && userInput.length === 0) {\n            setUserInput(mayBeUnfinishedInput);\n            localStorage.removeItem(key);\n        }\n        const dom = inputRef.current;\n        return ()=>{\n            var _dom;\n            var _dom_value;\n            localStorage.setItem(key, (_dom_value = (_dom = dom) === null || _dom === void 0 ? void 0 : _dom.value) !== null && _dom_value !== void 0 ? _dom_value : \"\");\n        };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    const props = {\n        name: \"file\",\n        action: \"https://run.mocky.io/v3/435e224c-44fb-4773-9faf-380c5e6a2188\",\n        headers: {\n            authorization: \"authorization-text\"\n        },\n        onChange (info) {\n            if (info.file.status !== \"uploading\") {\n                console.log(info.file, info.fileList);\n            }\n            if (info.file.status === \"done\") {\n                antd_lib_message__WEBPACK_IMPORTED_MODULE_46__[\"default\"].success(\"\".concat(info.file.name, \" file uploaded successfully\"));\n            } else if (info.file.status === \"error\") {\n                antd_lib_message__WEBPACK_IMPORTED_MODULE_46__[\"default\"].error(\"\".concat(info.file.name, \" file upload failed.\"));\n            }\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default().chat),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"window-header\",\n                \"data-tauri-drag-region\": true,\n                children: [\n                    isMobileScreen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"window-actions\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"window-action-button\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_button__WEBPACK_IMPORTED_MODULE_32__.IconButton, {\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_return_svg__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, void 0, void 0),\n                                bordered: true,\n                                title: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Actions.ChatList,\n                                onClick: ()=>navigate(_constant__WEBPACK_IMPORTED_MODULE_34__.Path.Home)\n                            }, void 0, false, {\n                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                lineNumber: 1088,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                            lineNumber: 1087,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 1086,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"window-header-title \".concat((_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-body-title\"])),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"window-header-main-title \".concat((_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-body-main-title\"])),\n                                onClickCapture: ()=>setIsEditingMessage(true),\n                                children: !session.topic ? _store__WEBPACK_IMPORTED_MODULE_26__.DEFAULT_TOPIC : session.topic\n                            }, void 0, false, {\n                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                lineNumber: 1099,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"window-header-sub-title\",\n                                children: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.SubTitle(session.messages.length)\n                            }, void 0, false, {\n                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                lineNumber: 1105,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 1098,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"window-actions\",\n                        children: showMaxIcon && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"window-action-button\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_button__WEBPACK_IMPORTED_MODULE_32__.IconButton, {\n                                icon: config.tightBorder ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_min_svg__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {}, void 0, false, void 0, void 0) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_max_svg__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {}, void 0, false, void 0, void 0),\n                                bordered: true,\n                                onClick: ()=>{\n                                    config.update((config)=>config.tightBorder = !config.tightBorder);\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                lineNumber: 1132,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                            lineNumber: 1131,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 1110,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PromptToast, {\n                        showToast: !hitBottom,\n                        showModal: showPromptModal,\n                        setShowModal: setShowPromptModal\n                    }, void 0, false, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 1145,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 1084,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-body\"]),\n                ref: scrollRef,\n                onScroll: (e)=>onChatBodyScroll(e.currentTarget),\n                onMouseDown: ()=>{\n                    var _inputRef_current;\n                    return (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.blur();\n                },\n                onTouchStart: ()=>{\n                    var _inputRef_current;\n                    (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.blur();\n                    setAutoScroll(false);\n                },\n                children: messages.map((message, i)=>{\n                    const isUser = message.role === \"user\";\n                    const isContext = i < context.length;\n                    const showActions = i > 0 && !(message.preview || message.content.length === 0) && !isContext;\n                    const showTyping = message.preview || message.streaming;\n                    const shouldShowClearContextDivider = i === clearContextIndex - 1;\n                    var _message_id, _message_id1;\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: isUser ? (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-message-user\"]) : (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-message\"]),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-message-container\"]),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-message-header\"]),\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-message-avatar\"]),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-message-edit\"]),\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_button__WEBPACK_IMPORTED_MODULE_32__.IconButton, {\n                                                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_rename_svg__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {}, void 0, false, void 0, void 0),\n                                                                onClick: async ()=>{\n                                                                    const newMessage = await (0,_ui_lib__WEBPACK_IMPORTED_MODULE_33__.showPrompt)(_locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Actions.Edit, message.content, 10);\n                                                                    chatStore.updateCurrentSession((session)=>{\n                                                                        const m = session.mask.context.concat(session.messages).find((m)=>m.id === message.id);\n                                                                        if (m) {\n                                                                            m.content = newMessage;\n                                                                        }\n                                                                    });\n                                                                }\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                                lineNumber: 1182,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                            lineNumber: 1181,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        isUser ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_emoji__WEBPACK_IMPORTED_MODULE_35__.Avatar, {\n                                                            avatar: config.avatar\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                            lineNumber: 1202,\n                                                            columnNumber: 25\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                \"system\"\n                                                            ].includes(message.role) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_emoji__WEBPACK_IMPORTED_MODULE_35__.Avatar, {\n                                                                avatar: \"2699-fe0f\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                                lineNumber: 1206,\n                                                                columnNumber: 29\n                                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mask__WEBPACK_IMPORTED_MODULE_36__.MaskAvatar, {\n                                                                avatar: session.mask.avatar,\n                                                                model: message.model || session.mask.modelConfig.model\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                                lineNumber: 1208,\n                                                                columnNumber: 29\n                                                            }, this)\n                                                        }, void 0, false)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                    lineNumber: 1180,\n                                                    columnNumber: 21\n                                                }, this),\n                                                showActions && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-message-actions\"]),\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-input-actions\"]),\n                                                        children: message.streaming ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                                                            text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Actions.Stop,\n                                                            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_pause_svg__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {}, void 0, false, void 0, void 0),\n                                                            onClick: ()=>onUserStop((_message_id = message.id) !== null && _message_id !== void 0 ? _message_id : i)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                            lineNumber: 1223,\n                                                            columnNumber: 29\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                                                                    text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Actions.Retry,\n                                                                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_reload_svg__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {}, void 0, false, void 0, void 0),\n                                                                    onClick: ()=>onResend(message)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                                    lineNumber: 1230,\n                                                                    columnNumber: 31\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                                                                    text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Actions.Delete,\n                                                                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_clear_svg__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {}, void 0, false, void 0, void 0),\n                                                                    onClick: ()=>onDelete((_message_id1 = message.id) !== null && _message_id1 !== void 0 ? _message_id1 : i)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                                    lineNumber: 1236,\n                                                                    columnNumber: 31\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                                                                    text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Actions.Pin,\n                                                                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_pin_svg__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {}, void 0, false, void 0, void 0),\n                                                                    onClick: ()=>onPinMessage(message)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                                    lineNumber: 1242,\n                                                                    columnNumber: 31\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                                                                    text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Actions.Copy,\n                                                                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_copy_svg__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {}, void 0, false, void 0, void 0),\n                                                                    onClick: ()=>(0,_utils__WEBPACK_IMPORTED_MODULE_27__.copyToClipboard)(message.content)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                                    lineNumber: 1247,\n                                                                    columnNumber: 31\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                        lineNumber: 1221,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                    lineNumber: 1220,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                            lineNumber: 1179,\n                                            columnNumber: 19\n                                        }, this),\n                                        showTyping && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-message-status\"]),\n                                            children: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Typing\n                                        }, void 0, false, {\n                                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                            lineNumber: 1259,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-message-item\"]),\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Markdown, {\n                                                content: message.content,\n                                                loading: (message.preview || message.streaming) && message.content.length === 0 && !isUser,\n                                                onContextMenu: (e)=>onRightClick(e, message),\n                                                onDoubleClickCapture: ()=>{\n                                                    if (!isMobileScreen) return;\n                                                    setUserInput(message.content);\n                                                },\n                                                fontSize: fontSize,\n                                                parentRef: scrollRef,\n                                                defaultShow: i >= messages.length - 6\n                                            }, void 0, false, {\n                                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                lineNumber: 1264,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                            lineNumber: 1263,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                    lineNumber: 1178,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                lineNumber: 1175,\n                                columnNumber: 15\n                            }, this),\n                            shouldShowClearContextDivider && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ClearContextDivider, {}, void 0, false, {\n                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                lineNumber: 1289,\n                                columnNumber: 49\n                            }, this)\n                        ]\n                    }, message.id, true, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 1174,\n                        columnNumber: 13\n                    }, this);\n                })\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 1152,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(antd_lib_upload__WEBPACK_IMPORTED_MODULE_47__[\"default\"], {\n                ...props,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_motai_svg__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                    width: \"30px\",\n                    className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default().motai)\n                }, void 0, false, {\n                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                    lineNumber: 1296,\n                    columnNumber: 16\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 1295,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-input-panel\"]),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-input-panel-inner\"]),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                            ref: inputRef,\n                            className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-input\"]),\n                            placeholder: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Input(submitKey),\n                            onInput: (e)=>onInput(e.currentTarget.value),\n                            value: userInput,\n                            onKeyDown: onInputKeyDown,\n                            onFocus: scrollToBottom,\n                            onClick: scrollToBottom,\n                            rows: inputRows,\n                            autoFocus: autoFocus,\n                            style: {\n                                fontSize: config.fontSize\n                            }\n                        }, void 0, false, {\n                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                            lineNumber: 1318,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_button__WEBPACK_IMPORTED_MODULE_32__.IconButton, {\n                            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_send_white_svg__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {}, void 0, false, void 0, void 0),\n                            text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Send,\n                            className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-input-send\"]),\n                            type: \"primary\",\n                            onClick: ()=>doSubmit(userInput)\n                        }, void 0, false, {\n                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                            lineNumber: 1333,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                    lineNumber: 1317,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 1299,\n                columnNumber: 7\n            }, this),\n            showExport && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_exporter__WEBPACK_IMPORTED_MODULE_40__.ExportMessageModal, {\n                onClose: ()=>setShowExport(false)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 1344,\n                columnNumber: 9\n            }, this),\n            isEditingMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(EditMessageModal, {\n                onClose: ()=>{\n                    setIsEditingMessage(false);\n                }\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 1348,\n                columnNumber: 9\n            }, this)\n        ]\n    }, session.id, true, {\n        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n        lineNumber: 1083,\n        columnNumber: 5\n    }, this);\n}\n_s9(_Chat, \"Loe978PfWKJNd3K7rcOKUXcJhzg=\", false, function() {\n    return [\n        _store__WEBPACK_IMPORTED_MODULE_26__.useChatStore,\n        _store__WEBPACK_IMPORTED_MODULE_26__.useAppConfig,\n        useSubmitHandler,\n        useScrollToBottom,\n        _utils__WEBPACK_IMPORTED_MODULE_27__.useMobileScreen,\n        react_router_dom__WEBPACK_IMPORTED_MODULE_43__.useNavigate,\n        _store_prompt__WEBPACK_IMPORTED_MODULE_30__.usePromptStore,\n        use_debounce__WEBPACK_IMPORTED_MODULE_45__.useDebouncedCallback,\n        use_debounce__WEBPACK_IMPORTED_MODULE_45__.useDebouncedCallback,\n        _command__WEBPACK_IMPORTED_MODULE_38__.useChatCommand,\n        _store__WEBPACK_IMPORTED_MODULE_26__.useAccessStore,\n        _command__WEBPACK_IMPORTED_MODULE_38__.useCommand\n    ];\n});\nfunction Chat() {\n    _s10();\n    const chatStore = (0,_store__WEBPACK_IMPORTED_MODULE_26__.useChatStore)();\n    const sessionIndex = chatStore.currentSessionIndex;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Chat, {}, sessionIndex, false, {\n        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n        lineNumber: 1361,\n        columnNumber: 10\n    }, this);\n}\n_s10(Chat, \"VEZRjRiHFhGEe/E6z12rT6r9BBA=\", false, function() {\n    return [\n        _store__WEBPACK_IMPORTED_MODULE_26__.useChatStore\n    ];\n});\n_c8 = Chat;\nvar _c, _c1, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"Markdown\");\n$RefreshReg$(_c1, \"SessionConfigModel\");\n$RefreshReg$(_c2, \"PromptToast\");\n$RefreshReg$(_c3, \"PromptHints\");\n$RefreshReg$(_c4, \"ClearContextDivider\");\n$RefreshReg$(_c5, \"ChatAction\");\n$RefreshReg$(_c6, \"ChatActions\");\n$RefreshReg$(_c7, \"EditMessageModal\");\n$RefreshReg$(_c8, \"Chat\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1jbGllbnQpLy4vYXBwL2NvbXBvbmVudHMvY2hhdC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFvRDtBQVFyQztBQUVxQztBQUNUO0FBR0U7QUFDSjtBQUNTO0FBQ0w7QUFDSjtBQUNGO0FBQ0E7QUFDSztBQUNEO0FBQ1c7QUFDVjtBQUNMO0FBQ0k7QUFDSTtBQUNGO0FBRUY7QUFDRjtBQUNBO0FBQ0k7QUFDSDtBQUNDO0FBQ0o7QUFlckI7QUFPQTtBQUVpQjtBQUV1QjtBQUNEO0FBQ3pCO0FBRU07QUFDRTtBQVV0QjtBQUM2QjtBQU8xQjtBQUNZO0FBQytCO0FBQ25CO0FBQzhCO0FBQzVCO0FBQ0M7QUFDRztBQUNMO0FBRUM7QUFBQTtBQUUvQyxNQUFNNEUsV0FBV2pDLG9EQUFPQSxDQUFDLFVBQVksQ0FBQyxNQUFNLG9NQUFtQixFQUFHaUMsUUFBUTs7Ozs7O0lBQ3hFQyxTQUFTLGtCQUFNLDhEQUFDbEUsNkRBQVdBOzs7Ozs7S0FEdkJpRTtBQUlDLFNBQVNFLG1CQUFtQkMsS0FBOEI7O0lBQy9ELE1BQU1DLFlBQVloRCxxREFBWUE7SUFDOUIsTUFBTWlELFVBQVVELFVBQVVFLGNBQWM7SUFDeEMsTUFBTUMsWUFBWWpCLDBEQUFZQTtJQUM5QixNQUFNa0IsV0FBVzVCLDhEQUFXQTtJQUU1QixxQkFDRSw4REFBQzZCO1FBQUlDLFdBQVU7a0JBQ2IsNEVBQUNuQywyQ0FBS0E7WUFDSm9DLE9BQU96QyxpREFBTUEsQ0FBQzBDLE9BQU8sQ0FBQ0MsSUFBSTtZQUMxQkMsU0FBUyxJQUFNWCxNQUFNVyxPQUFPO1lBQzVCQyxTQUFTOzhCQUNQLDhEQUFDNUMsZ0RBQVVBO29CQUVUNkMsb0JBQU0sOERBQUM1RSwwREFBU0E7b0JBQ2hCNkUsUUFBUTtvQkFDUkMsTUFBTWhELGlEQUFNQSxDQUFDaUQsSUFBSSxDQUFDQyxNQUFNLENBQUNDLEtBQUs7b0JBQzlCQyxT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LGdEQUFVQTs0QkFDVDZDLG9CQUFNLDhEQUFDckYsNkRBQWFBOzRCQUNwQnVGLE1BQU1oRCxpREFBTUEsQ0FBQ2lELElBQUksQ0FBQzBWLElBQUk7NEJBQ3RCblcsV0FBV3RDLDhFQUF5Qjs0QkFDcENnTixNQUFLOzRCQUNMOUosU0FBUyxJQUFNbU4sU0FBU3JDOzs7Ozs7Ozs7Ozs7Ozs7OztZQUs3QkgsNEJBQ0MsOERBQUN0TSwwREFBa0JBO2dCQUFDbUIsU0FBUyxJQUFNb0wsY0FBYzs7Ozs7O1lBR2xEK0gsa0NBQ0MsOERBQUNuSjtnQkFDQ2hLLFNBQVM7b0JBQ1BvVCxvQkFBb0I7Z0JBQ3RCOzs7Ozs7O09BNVE0QjdULFFBQVFrUCxFQUFFOzs7OztBQWlSaEQ7SUExdEJTekQ7O1FBR1cxTyxpREFBWUE7UUFFZkssaURBQVlBO1FBUVMwRjtRQUNvQnlFO1FBRWpDOUosb0RBQWVBO1FBQ3JCYywwREFBV0E7UUFHUlgsMERBQWNBO1FBRWpCN0MsK0RBQW9CQTtRQVdyQkEsK0RBQW9CQTtRQW9CZm9FLHFEQUFjQTtRQWtOZmpDLG1EQUFjQTtRQTRHbENrQyxpREFBVUE7OztBQXlXTCxTQUFTMEI7O0lBQ2QsTUFBTWYsWUFBWWhELHFEQUFZQTtJQUM5QixNQUFNMFosZUFBZTFXLFVBQVU4TixtQkFBbUI7SUFDbEQscUJBQU8sOERBQUNwQyxXQUFXZ0w7Ozs7O0FBQ3JCO0tBSmdCM1Y7O1FBQ0kvRCxpREFBWUE7OztNQURoQitEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2FwcC9jb21wb25lbnRzL2NoYXQudHN4PzhkNjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRGVib3VuY2VkQ2FsbGJhY2sgfSBmcm9tIFwidXNlLWRlYm91bmNlXCI7XG5pbXBvcnQgUmVhY3QsIHtcbiAgdXNlU3RhdGUsXG4gIHVzZVJlZixcbiAgdXNlRWZmZWN0LFxuICB1c2VNZW1vLFxuICB1c2VDYWxsYmFjayxcbiAgRnJhZ21lbnQsXG59IGZyb20gXCJyZWFjdFwiO1xuXG5pbXBvcnQgU2VuZFdoaXRlSWNvbiBmcm9tIFwiLi4vaWNvbnMvc2VuZC13aGl0ZS5zdmdcIjtcbmltcG9ydCBCcmFpbkljb24gZnJvbSBcIi4uL2ljb25zL2JyYWluLnN2Z1wiO1xuaW1wb3J0IFJlbmFtZUljb24gZnJvbSBcIi4uL2ljb25zL3JlbmFtZS5zdmdcIjtcbmltcG9ydCBFeHBvcnRJY29uIGZyb20gXCIuLi9pY29ucy9zaGFyZS5zdmdcIjtcbmltcG9ydCBSZXR1cm5JY29uIGZyb20gXCIuLi9pY29ucy9yZXR1cm4uc3ZnXCI7XG5pbXBvcnQgQ29weUljb24gZnJvbSBcIi4uL2ljb25zL2NvcHkuc3ZnXCI7XG5pbXBvcnQgTG9hZGluZ0ljb24gZnJvbSBcIi4uL2ljb25zL3RocmVlLWRvdHMuc3ZnXCI7XG5pbXBvcnQgUHJvbXB0SWNvbiBmcm9tIFwiLi4vaWNvbnMvcHJvbXB0LnN2Z1wiO1xuaW1wb3J0IE1hc2tJY29uIGZyb20gXCIuLi9pY29ucy9tYXNrLnN2Z1wiO1xuaW1wb3J0IE1heEljb24gZnJvbSBcIi4uL2ljb25zL21heC5zdmdcIjtcbmltcG9ydCBNaW5JY29uIGZyb20gXCIuLi9pY29ucy9taW4uc3ZnXCI7XG5pbXBvcnQgUmVzZXRJY29uIGZyb20gXCIuLi9pY29ucy9yZWxvYWQuc3ZnXCI7XG5pbXBvcnQgQnJlYWtJY29uIGZyb20gXCIuLi9pY29ucy9icmVhay5zdmdcIjtcbmltcG9ydCBTZXR0aW5nc0ljb24gZnJvbSBcIi4uL2ljb25zL2NoYXQtc2V0dGluZ3Muc3ZnXCI7XG5pbXBvcnQgRGVsZXRlSWNvbiBmcm9tIFwiLi4vaWNvbnMvY2xlYXIuc3ZnXCI7XG5pbXBvcnQgUGluSWNvbiBmcm9tIFwiLi4vaWNvbnMvcGluLnN2Z1wiO1xuaW1wb3J0IEVkaXRJY29uIGZyb20gXCIuLi9pY29ucy9yZW5hbWUuc3ZnXCI7XG5pbXBvcnQgQ29uZmlybUljb24gZnJvbSBcIi4uL2ljb25zL2NvbmZpcm0uc3ZnXCI7XG5pbXBvcnQgQ2FuY2VsSWNvbiBmcm9tIFwiLi4vaWNvbnMvY2FuY2VsLnN2Z1wiO1xuXG5pbXBvcnQgTGlnaHRJY29uIGZyb20gXCIuLi9pY29ucy9saWdodC5zdmdcIjtcbmltcG9ydCBEYXJrSWNvbiBmcm9tIFwiLi4vaWNvbnMvZGFyay5zdmdcIjtcbmltcG9ydCBBdXRvSWNvbiBmcm9tIFwiLi4vaWNvbnMvYXV0by5zdmdcIjtcbmltcG9ydCBCb3R0b21JY29uIGZyb20gXCIuLi9pY29ucy9ib3R0b20uc3ZnXCI7XG5pbXBvcnQgU3RvcEljb24gZnJvbSBcIi4uL2ljb25zL3BhdXNlLnN2Z1wiO1xuaW1wb3J0IFJvYm90SWNvbiBmcm9tIFwiLi4vaWNvbnMvcm9ib3Quc3ZnXCI7XG5pbXBvcnQgTW90YWkgZnJvbSBcIi4uL2ljb25zL21vdGFpLnN2Z1wiO1xuXG5cblxuaW1wb3J0IHtcbiAgQ2hhdE1lc3NhZ2UsXG4gIFN1Ym1pdEtleSxcbiAgdXNlQ2hhdFN0b3JlLFxuICBCT1RfSEVMTE8sXG4gIGNyZWF0ZU1lc3NhZ2UsXG4gIHVzZUFjY2Vzc1N0b3JlLFxuICBUaGVtZSxcbiAgdXNlQXBwQ29uZmlnLFxuICBERUZBVUxUX1RPUElDLFxuICBNb2RlbFR5cGUsXG59IGZyb20gXCIuLi9zdG9yZVwiO1xuXG5pbXBvcnQge1xuICBjb3B5VG9DbGlwYm9hcmQsXG4gIHNlbGVjdE9yQ29weSxcbiAgYXV0b0dyb3dUZXh0QXJlYSxcbiAgdXNlTW9iaWxlU2NyZWVuLFxufSBmcm9tIFwiLi4vdXRpbHNcIjtcblxuaW1wb3J0IGR5bmFtaWMgZnJvbSBcIm5leHQvZHluYW1pY1wiO1xuXG5pbXBvcnQgeyBDaGF0Q29udHJvbGxlclBvb2wgfSBmcm9tIFwiLi4vY2xpZW50L2NvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFByb21wdCwgdXNlUHJvbXB0U3RvcmUgfSBmcm9tIFwiLi4vc3RvcmUvcHJvbXB0XCI7XG5pbXBvcnQgTG9jYWxlIGZyb20gXCIuLi9sb2NhbGVzXCI7XG5cbmltcG9ydCB7IEljb25CdXR0b24gfSBmcm9tIFwiLi9idXR0b25cIjtcbmltcG9ydCBzdHlsZXMgZnJvbSBcIi4vY2hhdC5tb2R1bGUuc2Nzc1wiO1xuXG5pbXBvcnQge1xuICBMaXN0LFxuICBMaXN0SXRlbSxcbiAgTW9kYWwsXG4gIFNlbGVjdG9yLFxuICBzaG93Q29uZmlybSxcbiAgc2hvd1Byb21wdCxcbiAgc2hvd1RvYXN0LFxufSBmcm9tIFwiLi91aS1saWJcIjtcbmltcG9ydCB7IHVzZU5hdmlnYXRlIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcbmltcG9ydCB7XG4gIENIQVRfUEFHRV9TSVpFLFxuICBMQVNUX0lOUFVUX0tFWSxcbiAgUGF0aCxcbiAgUkVRVUVTVF9USU1FT1VUX01TLFxuICBVTkZJTklTSEVEX0lOUFVULFxufSBmcm9tIFwiLi4vY29uc3RhbnRcIjtcbmltcG9ydCB7IEF2YXRhciB9IGZyb20gXCIuL2Vtb2ppXCI7XG5pbXBvcnQgeyBDb250ZXh0UHJvbXB0cywgTWFza0F2YXRhciwgTWFza0NvbmZpZyB9IGZyb20gXCIuL21hc2tcIjtcbmltcG9ydCB7IHVzZU1hc2tTdG9yZSB9IGZyb20gXCIuLi9zdG9yZS9tYXNrXCI7XG5pbXBvcnQgeyBDaGF0Q29tbWFuZFByZWZpeCwgdXNlQ2hhdENvbW1hbmQsIHVzZUNvbW1hbmQgfSBmcm9tIFwiLi4vY29tbWFuZFwiO1xuaW1wb3J0IHsgcHJldHR5T2JqZWN0IH0gZnJvbSBcIi4uL3V0aWxzL2Zvcm1hdFwiO1xuaW1wb3J0IHsgRXhwb3J0TWVzc2FnZU1vZGFsIH0gZnJvbSBcIi4vZXhwb3J0ZXJcIjtcbmltcG9ydCB7IGdldENsaWVudENvbmZpZyB9IGZyb20gXCIuLi9jb25maWcvY2xpZW50XCI7XG5pbXBvcnQgeyB1c2VBbGxNb2RlbHMgfSBmcm9tIFwiLi4vdXRpbHMvaG9va3NcIjtcbmltcG9ydCB0eXBlIHsgVXBsb2FkUHJvcHMgfSBmcm9tICdhbnRkJztcbmltcG9ydCB7IEJ1dHRvbiwgbWVzc2FnZSwgVXBsb2FkIH0gZnJvbSAnYW50ZCc7XG5cbmNvbnN0IE1hcmtkb3duID0gZHluYW1pYyhhc3luYyAoKSA9PiAoYXdhaXQgaW1wb3J0KFwiLi9tYXJrZG93blwiKSkuTWFya2Rvd24sIHtcbiAgbG9hZGluZzogKCkgPT4gPExvYWRpbmdJY29uIC8+LFxufSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBTZXNzaW9uQ29uZmlnTW9kZWwocHJvcHM6IHsgb25DbG9zZTogKCkgPT4gdm9pZCB9KSB7XG4gIGNvbnN0IGNoYXRTdG9yZSA9IHVzZUNoYXRTdG9yZSgpO1xuICBjb25zdCBzZXNzaW9uID0gY2hhdFN0b3JlLmN1cnJlbnRTZXNzaW9uKCk7XG4gIGNvbnN0IG1hc2tTdG9yZSA9IHVzZU1hc2tTdG9yZSgpO1xuICBjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLW1hc2tcIj5cbiAgICAgIDxNb2RhbFxuICAgICAgICB0aXRsZT17TG9jYWxlLkNvbnRleHQuRWRpdH1cbiAgICAgICAgb25DbG9zZT17KCkgPT4gcHJvcHMub25DbG9zZSgpfVxuICAgICAgICBhY3Rpb25zPXtbXG4gICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgIGtleT1cInJlc2V0XCJcbiAgICAgICAgICAgIGljb249ezxSZXNldEljb24gLz59XG4gICAgICAgICAgICBib3JkZXJlZFxuICAgICAgICAgICAgdGV4dD17TG9jYWxlLkNoYXQuQ29uZmlnLlJlc2V0fVxuICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoYXdhaXQgc2hvd0NvbmZpcm0oTG9jYWxlLk1lbW9yeS5SZXNldENvbmZpcm0pKSB7XG4gICAgICAgICAgICAgICAgY2hhdFN0b3JlLnVwZGF0ZUN1cnJlbnRTZXNzaW9uKFxuICAgICAgICAgICAgICAgICAgKHNlc3Npb24pID0+IChzZXNzaW9uLm1lbW9yeVByb21wdCA9IFwiXCIpLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH19XG4gICAgICAgICAgLz4sXG4gICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgIGtleT1cImNvcHlcIlxuICAgICAgICAgICAgaWNvbj17PENvcHlJY29uIC8+fVxuICAgICAgICAgICAgYm9yZGVyZWRcbiAgICAgICAgICAgIHRleHQ9e0xvY2FsZS5DaGF0LkNvbmZpZy5TYXZlQXN9XG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgIG5hdmlnYXRlKFBhdGguTWFza3MpO1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBtYXNrU3RvcmUuY3JlYXRlKHNlc3Npb24ubWFzayk7XG4gICAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+LFxuICAgICAgICBdfVxuICAgICAgPlxuICAgICAgICA8TWFza0NvbmZpZ1xuICAgICAgICAgIG1hc2s9e3Nlc3Npb24ubWFza31cbiAgICAgICAgICB1cGRhdGVNYXNrPXsodXBkYXRlcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWFzayA9IHsgLi4uc2Vzc2lvbi5tYXNrIH07XG4gICAgICAgICAgICB1cGRhdGVyKG1hc2spO1xuICAgICAgICAgICAgY2hhdFN0b3JlLnVwZGF0ZUN1cnJlbnRTZXNzaW9uKChzZXNzaW9uKSA9PiAoc2Vzc2lvbi5tYXNrID0gbWFzaykpO1xuICAgICAgICAgIH19XG4gICAgICAgICAgc2hvdWxkU3luY0Zyb21HbG9iYWxcbiAgICAgICAgICBleHRyYUxpc3RJdGVtcz17XG4gICAgICAgICAgICBzZXNzaW9uLm1hc2subW9kZWxDb25maWcuc2VuZE1lbW9yeSA/IChcbiAgICAgICAgICAgICAgPExpc3RJdGVtXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY29weWFibGVcIlxuICAgICAgICAgICAgICAgIHRpdGxlPXtgJHtMb2NhbGUuTWVtb3J5LlRpdGxlfSAoJHtzZXNzaW9uLmxhc3RTdW1tYXJpemVJbmRleH0gb2YgJHtzZXNzaW9uLm1lc3NhZ2VzLmxlbmd0aH0pYH1cbiAgICAgICAgICAgICAgICBzdWJUaXRsZT17c2Vzc2lvbi5tZW1vcnlQcm9tcHQgfHwgTG9jYWxlLk1lbW9yeS5FbXB0eUNvbnRlbnR9XG4gICAgICAgICAgICAgID48L0xpc3RJdGVtPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPD48Lz5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgID48L01hc2tDb25maWc+XG4gICAgICA8L01vZGFsPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5mdW5jdGlvbiBQcm9tcHRUb2FzdChwcm9wczoge1xuICBzaG93VG9hc3Q/OiBib29sZWFuO1xuICBzaG93TW9kYWw/OiBib29sZWFuO1xuICBzZXRTaG93TW9kYWw6IChfOiBib29sZWFuKSA9PiB2b2lkO1xufSkge1xuICBjb25zdCBjaGF0U3RvcmUgPSB1c2VDaGF0U3RvcmUoKTtcbiAgY29uc3Qgc2Vzc2lvbiA9IGNoYXRTdG9yZS5jdXJyZW50U2Vzc2lvbigpO1xuICBjb25zdCBjb250ZXh0ID0gc2Vzc2lvbi5tYXNrLmNvbnRleHQ7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1wicHJvbXB0LXRvYXN0XCJdfSBrZXk9XCJwcm9tcHQtdG9hc3RcIj5cbiAgICAgIHtwcm9wcy5zaG93VG9hc3QgJiYgKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXNbXCJwcm9tcHQtdG9hc3QtaW5uZXJcIl0gKyBcIiBjbGlja2FibGVcIn1cbiAgICAgICAgICByb2xlPVwiYnV0dG9uXCJcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBwcm9wcy5zZXRTaG93TW9kYWwodHJ1ZSl9XG4gICAgICAgID5cbiAgICAgICAgICA8QnJhaW5JY29uIC8+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXNbXCJwcm9tcHQtdG9hc3QtY29udGVudFwiXX0+XG4gICAgICAgICAgICB7TG9jYWxlLkNvbnRleHQuVG9hc3QoY29udGV4dC5sZW5ndGgpfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAge3Byb3BzLnNob3dNb2RhbCAmJiAoXG4gICAgICAgIDxTZXNzaW9uQ29uZmlnTW9kZWwgb25DbG9zZT17KCkgPT4gcHJvcHMuc2V0U2hvd01vZGFsKGZhbHNlKX0gLz5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIHVzZVN1Ym1pdEhhbmRsZXIoKSB7XG4gIGNvbnN0IGNvbmZpZyA9IHVzZUFwcENvbmZpZygpO1xuICBjb25zdCBzdWJtaXRLZXkgPSBjb25maWcuc3VibWl0S2V5O1xuICBjb25zdCBpc0NvbXBvc2luZyA9IHVzZVJlZihmYWxzZSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcblxuICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IDU7IGkrKyl7XG4gICAgICBsZXQgcmV1c2x0ID0gaTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gdGltZXIoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJldXNsdClcbiAgICAgIH0sIDApO1xuICAgIH1cblxuICAgIGNvbnN0IG9uQ29tcG9zaXRpb25TdGFydCA9ICgpID0+IHtcbiAgICAgIGlzQ29tcG9zaW5nLmN1cnJlbnQgPSB0cnVlO1xuICAgIH07XG4gICAgY29uc3Qgb25Db21wb3NpdGlvbkVuZCA9ICgpID0+IHtcbiAgICAgIGlzQ29tcG9zaW5nLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjb21wb3NpdGlvbnN0YXJ0XCIsIG9uQ29tcG9zaXRpb25TdGFydCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjb21wb3NpdGlvbmVuZFwiLCBvbkNvbXBvc2l0aW9uRW5kKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvbXBvc2l0aW9uc3RhcnRcIiwgb25Db21wb3NpdGlvblN0YXJ0KTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY29tcG9zaXRpb25lbmRcIiwgb25Db21wb3NpdGlvbkVuZCk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IHNob3VsZFN1Ym1pdCA9IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50PEhUTUxUZXh0QXJlYUVsZW1lbnQ+KSA9PiB7XG4gICAgaWYgKGUua2V5ICE9PSBcIkVudGVyXCIpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoZS5rZXkgPT09IFwiRW50ZXJcIiAmJiAoZS5uYXRpdmVFdmVudC5pc0NvbXBvc2luZyB8fCBpc0NvbXBvc2luZy5jdXJyZW50KSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gKFxuICAgICAgKGNvbmZpZy5zdWJtaXRLZXkgPT09IFN1Ym1pdEtleS5BbHRFbnRlciAmJiBlLmFsdEtleSkgfHxcbiAgICAgIChjb25maWcuc3VibWl0S2V5ID09PSBTdWJtaXRLZXkuQ3RybEVudGVyICYmIGUuY3RybEtleSkgfHxcbiAgICAgIChjb25maWcuc3VibWl0S2V5ID09PSBTdWJtaXRLZXkuU2hpZnRFbnRlciAmJiBlLnNoaWZ0S2V5KSB8fFxuICAgICAgKGNvbmZpZy5zdWJtaXRLZXkgPT09IFN1Ym1pdEtleS5NZXRhRW50ZXIgJiYgZS5tZXRhS2V5KSB8fFxuICAgICAgKGNvbmZpZy5zdWJtaXRLZXkgPT09IFN1Ym1pdEtleS5FbnRlciAmJlxuICAgICAgICAhZS5hbHRLZXkgJiZcbiAgICAgICAgIWUuY3RybEtleSAmJlxuICAgICAgICAhZS5zaGlmdEtleSAmJlxuICAgICAgICAhZS5tZXRhS2V5KVxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBzdWJtaXRLZXksXG4gICAgc2hvdWxkU3VibWl0LFxuICB9O1xufVxuXG5leHBvcnQgdHlwZSBSZW5kZXJQb21wdCA9IFBpY2s8UHJvbXB0LCBcInRpdGxlXCIgfCBcImNvbnRlbnRcIj47XG5cbmV4cG9ydCBmdW5jdGlvbiBQcm9tcHRIaW50cyhwcm9wczoge1xuICBwcm9tcHRzOiBSZW5kZXJQb21wdFtdO1xuICBvblByb21wdFNlbGVjdDogKHByb21wdDogUmVuZGVyUG9tcHQpID0+IHZvaWQ7XG59KSB7XG4gIGNvbnN0IG5vUHJvbXB0cyA9IHByb3BzLnByb21wdHMubGVuZ3RoID09PSAwO1xuICBjb25zdCBbc2VsZWN0SW5kZXgsIHNldFNlbGVjdEluZGV4XSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBzZWxlY3RlZFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRTZWxlY3RJbmRleCgwKTtcbiAgfSwgW3Byb3BzLnByb21wdHMubGVuZ3RoXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBvbktleURvd24gPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgaWYgKG5vUHJvbXB0cyB8fCBlLm1ldGFLZXkgfHwgZS5hbHRLZXkgfHwgZS5jdHJsS2V5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIGFycm93IHVwIC8gZG93biB0byBzZWxlY3QgcHJvbXB0XG4gICAgICBjb25zdCBjaGFuZ2VJbmRleCA9IChkZWx0YTogbnVtYmVyKSA9PiB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gTWF0aC5tYXgoXG4gICAgICAgICAgMCxcbiAgICAgICAgICBNYXRoLm1pbihwcm9wcy5wcm9tcHRzLmxlbmd0aCAtIDEsIHNlbGVjdEluZGV4ICsgZGVsdGEpLFxuICAgICAgICApO1xuICAgICAgICBzZXRTZWxlY3RJbmRleChuZXh0SW5kZXgpO1xuICAgICAgICBzZWxlY3RlZFJlZi5jdXJyZW50Py5zY3JvbGxJbnRvVmlldyh7XG4gICAgICAgICAgYmxvY2s6IFwiY2VudGVyXCIsXG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgaWYgKGUua2V5ID09PSBcIkFycm93VXBcIikge1xuICAgICAgICBjaGFuZ2VJbmRleCgxKTtcbiAgICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09IFwiQXJyb3dEb3duXCIpIHtcbiAgICAgICAgY2hhbmdlSW5kZXgoLTEpO1xuICAgICAgfSBlbHNlIGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkUHJvbXB0ID0gcHJvcHMucHJvbXB0cy5hdChzZWxlY3RJbmRleCk7XG4gICAgICAgIGlmIChzZWxlY3RlZFByb21wdCkge1xuICAgICAgICAgIHByb3BzLm9uUHJvbXB0U2VsZWN0KHNlbGVjdGVkUHJvbXB0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgb25LZXlEb3duKTtcblxuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgb25LZXlEb3duKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtwcm9wcy5wcm9tcHRzLmxlbmd0aCwgc2VsZWN0SW5kZXhdKTtcblxuICBpZiAobm9Qcm9tcHRzKSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1wicHJvbXB0LWhpbnRzXCJdfT5cbiAgICAgIHtwcm9wcy5wcm9tcHRzLm1hcCgocHJvbXB0LCBpKSA9PiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICByZWY9e2kgPT09IHNlbGVjdEluZGV4ID8gc2VsZWN0ZWRSZWYgOiBudWxsfVxuICAgICAgICAgIGNsYXNzTmFtZT17XG4gICAgICAgICAgICBzdHlsZXNbXCJwcm9tcHQtaGludFwiXSArXG4gICAgICAgICAgICBgICR7aSA9PT0gc2VsZWN0SW5kZXggPyBzdHlsZXNbXCJwcm9tcHQtaGludC1zZWxlY3RlZFwiXSA6IFwiXCJ9YFxuICAgICAgICAgIH1cbiAgICAgICAgICBrZXk9e3Byb21wdC50aXRsZSArIGkudG9TdHJpbmcoKX1cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBwcm9wcy5vblByb21wdFNlbGVjdChwcm9tcHQpfVxuICAgICAgICAgIG9uTW91c2VFbnRlcj17KCkgPT4gc2V0U2VsZWN0SW5kZXgoaSl9XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1wiaGludC10aXRsZVwiXX0+e3Byb21wdC50aXRsZX08L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1wiaGludC1jb250ZW50XCJdfT57cHJvbXB0LmNvbnRlbnR9PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIENsZWFyQ29udGV4dERpdmlkZXIoKSB7XG4gIGNvbnN0IGNoYXRTdG9yZSA9IHVzZUNoYXRTdG9yZSgpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPXtzdHlsZXNbXCJjbGVhci1jb250ZXh0XCJdfVxuICAgICAgb25DbGljaz17KCkgPT5cbiAgICAgICAgY2hhdFN0b3JlLnVwZGF0ZUN1cnJlbnRTZXNzaW9uKFxuICAgICAgICAgIChzZXNzaW9uKSA9PiAoc2Vzc2lvbi5jbGVhckNvbnRleHRJbmRleCA9IHVuZGVmaW5lZCksXG4gICAgICAgIClcbiAgICAgIH1cbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1wiY2xlYXItY29udGV4dC10aXBzXCJdfT57TG9jYWxlLkNvbnRleHQuQ2xlYXJ9PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1wiY2xlYXItY29udGV4dC1yZXZlcnQtYnRuXCJdfT5cbiAgICAgICAge0xvY2FsZS5Db250ZXh0LlJldmVydH1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5mdW5jdGlvbiBDaGF0QWN0aW9uKHByb3BzOiB7XG4gIHRleHQ6IHN0cmluZztcbiAgaWNvbjogSlNYLkVsZW1lbnQ7XG4gIG9uQ2xpY2s6ICgpID0+IHZvaWQ7XG59KSB7XG4gIGNvbnN0IGljb25SZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCB0ZXh0UmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgW3dpZHRoLCBzZXRXaWR0aF0gPSB1c2VTdGF0ZSh7XG4gICAgZnVsbDogMTYsXG4gICAgaWNvbjogMTYsXG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHVwZGF0ZVdpZHRoKCkge1xuICAgIGlmICghaWNvblJlZi5jdXJyZW50IHx8ICF0ZXh0UmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICBjb25zdCBnZXRXaWR0aCA9IChkb206IEhUTUxEaXZFbGVtZW50KSA9PiBkb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG4gICAgY29uc3QgdGV4dFdpZHRoID0gZ2V0V2lkdGgodGV4dFJlZi5jdXJyZW50KTtcbiAgICBjb25zdCBpY29uV2lkdGggPSBnZXRXaWR0aChpY29uUmVmLmN1cnJlbnQpO1xuICAgIHNldFdpZHRoKHtcbiAgICAgIGZ1bGw6IHRleHRXaWR0aCArIGljb25XaWR0aCxcbiAgICAgIGljb246IGljb25XaWR0aCxcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPXtgJHtzdHlsZXNbXCJjaGF0LWlucHV0LWFjdGlvblwiXX0gY2xpY2thYmxlYH1cbiAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgcHJvcHMub25DbGljaygpO1xuICAgICAgICBzZXRUaW1lb3V0KHVwZGF0ZVdpZHRoLCAxKTtcbiAgICAgIH19XG4gICAgICBvbk1vdXNlRW50ZXI9e3VwZGF0ZVdpZHRofVxuICAgICAgb25Ub3VjaFN0YXJ0PXt1cGRhdGVXaWR0aH1cbiAgICAgIHN0eWxlPXtcbiAgICAgICAge1xuICAgICAgICAgIFwiLS1pY29uLXdpZHRoXCI6IGAke3dpZHRoLmljb259cHhgLFxuICAgICAgICAgIFwiLS1mdWxsLXdpZHRoXCI6IGAke3dpZHRoLmZ1bGx9cHhgLFxuICAgICAgICB9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXNcbiAgICAgIH1cbiAgICA+XG4gICAgICA8ZGl2IHJlZj17aWNvblJlZn0gY2xhc3NOYW1lPXtzdHlsZXNbXCJpY29uXCJdfT5cbiAgICAgICAge3Byb3BzLmljb259XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbXCJ0ZXh0XCJdfSByZWY9e3RleHRSZWZ9PlxuICAgICAgICB7cHJvcHMudGV4dH1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5mdW5jdGlvbiB1c2VTY3JvbGxUb0JvdHRvbSgpIHtcbiAgLy8gZm9yIGF1dG8tc2Nyb2xsXG4gIGNvbnN0IHNjcm9sbFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IFthdXRvU2Nyb2xsLCBzZXRBdXRvU2Nyb2xsXSA9IHVzZVN0YXRlKHRydWUpO1xuXG4gIGZ1bmN0aW9uIHNjcm9sbERvbVRvQm90dG9tKCkge1xuICAgIGNvbnN0IGRvbSA9IHNjcm9sbFJlZi5jdXJyZW50O1xuICAgIGlmIChkb20pIHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIHNldEF1dG9TY3JvbGwodHJ1ZSk7XG4gICAgICAgIGRvbS5zY3JvbGxUbygwLCBkb20uc2Nyb2xsSGVpZ2h0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIGF1dG8gc2Nyb2xsXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGF1dG9TY3JvbGwpIHtcbiAgICAgIHNjcm9sbERvbVRvQm90dG9tKCk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4ge1xuICAgIHNjcm9sbFJlZixcbiAgICBhdXRvU2Nyb2xsLFxuICAgIHNldEF1dG9TY3JvbGwsXG4gICAgc2Nyb2xsRG9tVG9Cb3R0b20sXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDaGF0QWN0aW9ucyhwcm9wczoge1xuICBzaG93UHJvbXB0TW9kYWw6ICgpID0+IHZvaWQ7XG4gIHNjcm9sbFRvQm90dG9tOiAoKSA9PiB2b2lkO1xuICBzaG93UHJvbXB0SGludHM6ICgpID0+IHZvaWQ7XG4gIGhpdEJvdHRvbTogYm9vbGVhbjtcbn0pIHtcbiAgY29uc3QgY29uZmlnID0gdXNlQXBwQ29uZmlnKCk7XG4gIGNvbnN0IG5hdmlnYXRlID0gdXNlTmF2aWdhdGUoKTtcbiAgY29uc3QgY2hhdFN0b3JlID0gdXNlQ2hhdFN0b3JlKCk7XG5cbiAgLy8gc3dpdGNoIHRoZW1lc1xuICBjb25zdCB0aGVtZSA9IGNvbmZpZy50aGVtZTtcbiAgZnVuY3Rpb24gbmV4dFRoZW1lKCkge1xuICAgIGNvbnN0IHRoZW1lcyA9IFtUaGVtZS5BdXRvLCBUaGVtZS5MaWdodCwgVGhlbWUuRGFya107XG4gICAgY29uc3QgdGhlbWVJbmRleCA9IHRoZW1lcy5pbmRleE9mKHRoZW1lKTtcbiAgICBjb25zdCBuZXh0SW5kZXggPSAodGhlbWVJbmRleCArIDEpICUgdGhlbWVzLmxlbmd0aDtcbiAgICBjb25zdCBuZXh0VGhlbWUgPSB0aGVtZXNbbmV4dEluZGV4XTtcbiAgICBjb25maWcudXBkYXRlKChjb25maWcpID0+IChjb25maWcudGhlbWUgPSBuZXh0VGhlbWUpKTtcbiAgfVxuXG4gIC8vIHN0b3AgYWxsIHJlc3BvbnNlc1xuICBjb25zdCBjb3VsZFN0b3AgPSBDaGF0Q29udHJvbGxlclBvb2wuaGFzUGVuZGluZygpO1xuICBjb25zdCBzdG9wQWxsID0gKCkgPT4gQ2hhdENvbnRyb2xsZXJQb29sLnN0b3BBbGwoKTtcblxuICAvLyBzd2l0Y2ggbW9kZWxcbiAgY29uc3QgY3VycmVudE1vZGVsID0gY2hhdFN0b3JlLmN1cnJlbnRTZXNzaW9uKCkubWFzay5tb2RlbENvbmZpZy5tb2RlbDtcbiAgY29uc3QgYWxsTW9kZWxzID0gdXNlQWxsTW9kZWxzKCk7XG4gIGNvbnN0IG1vZGVscyA9IHVzZU1lbW8oXG4gICAgKCkgPT4gYWxsTW9kZWxzLmZpbHRlcigobSkgPT4gbS5hdmFpbGFibGUpLFxuICAgIFthbGxNb2RlbHNdLFxuICApO1xuICBjb25zdCBbc2hvd01vZGVsU2VsZWN0b3IsIHNldFNob3dNb2RlbFNlbGVjdG9yXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIGlmIGN1cnJlbnQgbW9kZWwgaXMgbm90IGF2YWlsYWJsZVxuICAgIC8vIHN3aXRjaCB0byBmaXJzdCBhdmFpbGFibGUgbW9kZWxcbiAgICBjb25zdCBpc1VuYXZhbGlhYmxlTW9kZWwgPSAhbW9kZWxzLnNvbWUoKG0pID0+IG0ubmFtZSA9PT0gY3VycmVudE1vZGVsKTtcbiAgICBpZiAoaXNVbmF2YWxpYWJsZU1vZGVsICYmIG1vZGVscy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBuZXh0TW9kZWwgPSBtb2RlbHNbMF0ubmFtZSBhcyBNb2RlbFR5cGU7XG4gICAgICBjaGF0U3RvcmUudXBkYXRlQ3VycmVudFNlc3Npb24oXG4gICAgICAgIChzZXNzaW9uKSA9PiAoc2Vzc2lvbi5tYXNrLm1vZGVsQ29uZmlnLm1vZGVsID0gbmV4dE1vZGVsKSxcbiAgICAgICk7XG4gICAgICBzaG93VG9hc3QobmV4dE1vZGVsKTtcbiAgICB9XG4gIH0sIFtjaGF0U3RvcmUsIGN1cnJlbnRNb2RlbCwgbW9kZWxzXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1wiY2hhdC1pbnB1dC1hY3Rpb25zXCJdfT5cbiAgICAgIHtjb3VsZFN0b3AgJiYgKFxuICAgICAgICA8Q2hhdEFjdGlvblxuICAgICAgICAgIG9uQ2xpY2s9e3N0b3BBbGx9XG4gICAgICAgICAgdGV4dD17TG9jYWxlLkNoYXQuSW5wdXRBY3Rpb25zLlN0b3B9XG4gICAgICAgICAgaWNvbj17PFN0b3BJY29uIC8+fVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICAgIHshcHJvcHMuaGl0Qm90dG9tICYmIChcbiAgICAgICAgPENoYXRBY3Rpb25cbiAgICAgICAgICBvbkNsaWNrPXtwcm9wcy5zY3JvbGxUb0JvdHRvbX1cbiAgICAgICAgICB0ZXh0PXtMb2NhbGUuQ2hhdC5JbnB1dEFjdGlvbnMuVG9Cb3R0b219XG4gICAgICAgICAgaWNvbj17PEJvdHRvbUljb24gLz59XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgICAge3Byb3BzLmhpdEJvdHRvbSAmJiAoXG4gICAgICAgIDxDaGF0QWN0aW9uXG4gICAgICAgICAgb25DbGljaz17cHJvcHMuc2hvd1Byb21wdE1vZGFsfVxuICAgICAgICAgIHRleHQ9e0xvY2FsZS5DaGF0LklucHV0QWN0aW9ucy5TZXR0aW5nc31cbiAgICAgICAgICBpY29uPXs8U2V0dGluZ3NJY29uIC8+fVxuICAgICAgICAvPlxuICAgICAgKX1cblxuICAgICAgPENoYXRBY3Rpb25cbiAgICAgICAgb25DbGljaz17bmV4dFRoZW1lfVxuICAgICAgICB0ZXh0PXtMb2NhbGUuQ2hhdC5JbnB1dEFjdGlvbnMuVGhlbWVbdGhlbWVdfVxuICAgICAgICBpY29uPXtcbiAgICAgICAgICA8PlxuICAgICAgICAgICAge3RoZW1lID09PSBUaGVtZS5BdXRvID8gKFxuICAgICAgICAgICAgICA8QXV0b0ljb24gLz5cbiAgICAgICAgICAgICkgOiB0aGVtZSA9PT0gVGhlbWUuTGlnaHQgPyAoXG4gICAgICAgICAgICAgIDxMaWdodEljb24gLz5cbiAgICAgICAgICAgICkgOiB0aGVtZSA9PT0gVGhlbWUuRGFyayA/IChcbiAgICAgICAgICAgICAgPERhcmtJY29uIC8+XG4gICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICA8Lz5cbiAgICAgICAgfVxuICAgICAgLz5cblxuICAgICAgPENoYXRBY3Rpb25cbiAgICAgICAgb25DbGljaz17cHJvcHMuc2hvd1Byb21wdEhpbnRzfVxuICAgICAgICB0ZXh0PXtMb2NhbGUuQ2hhdC5JbnB1dEFjdGlvbnMuUHJvbXB0fVxuICAgICAgICBpY29uPXs8UHJvbXB0SWNvbiAvPn1cbiAgICAgIC8+XG5cbiAgICAgIDxDaGF0QWN0aW9uXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICBuYXZpZ2F0ZShQYXRoLk1hc2tzKTtcbiAgICAgICAgfX1cbiAgICAgICAgdGV4dD17TG9jYWxlLkNoYXQuSW5wdXRBY3Rpb25zLk1hc2tzfVxuICAgICAgICBpY29uPXs8TWFza0ljb24gLz59XG4gICAgICAvPlxuXG4gICAgICA8Q2hhdEFjdGlvblxuICAgICAgICB0ZXh0PXtMb2NhbGUuQ2hhdC5JbnB1dEFjdGlvbnMuQ2xlYXJ9XG4gICAgICAgIGljb249ezxCcmVha0ljb24gLz59XG4gICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICBjaGF0U3RvcmUudXBkYXRlQ3VycmVudFNlc3Npb24oKHNlc3Npb24pID0+IHtcbiAgICAgICAgICAgIGlmIChzZXNzaW9uLmNsZWFyQ29udGV4dEluZGV4ID09PSBzZXNzaW9uLm1lc3NhZ2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBzZXNzaW9uLmNsZWFyQ29udGV4dEluZGV4ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2Vzc2lvbi5jbGVhckNvbnRleHRJbmRleCA9IHNlc3Npb24ubWVzc2FnZXMubGVuZ3RoO1xuICAgICAgICAgICAgICBzZXNzaW9uLm1lbW9yeVByb21wdCA9IFwiXCI7IC8vIHdpbGwgY2xlYXIgbWVtb3J5XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH19XG4gICAgICAvPlxuXG4gICAgICA8Q2hhdEFjdGlvblxuICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93TW9kZWxTZWxlY3Rvcih0cnVlKX1cbiAgICAgICAgdGV4dD17Y3VycmVudE1vZGVsfVxuICAgICAgICBpY29uPXs8Um9ib3RJY29uIC8+fVxuICAgICAgLz5cblxuICAgICAge3Nob3dNb2RlbFNlbGVjdG9yICYmIChcbiAgICAgICAgPFNlbGVjdG9yXG4gICAgICAgICAgZGVmYXVsdFNlbGVjdGVkVmFsdWU9e2N1cnJlbnRNb2RlbH1cbiAgICAgICAgICBpdGVtcz17bW9kZWxzLm1hcCgobSkgPT4gKHtcbiAgICAgICAgICAgIHRpdGxlOiBtLmRpc3BsYXlOYW1lLFxuICAgICAgICAgICAgdmFsdWU6IG0ubmFtZSxcbiAgICAgICAgICB9KSl9XG4gICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0U2hvd01vZGVsU2VsZWN0b3IoZmFsc2UpfVxuICAgICAgICAgIG9uU2VsZWN0aW9uPXsocykgPT4ge1xuICAgICAgICAgICAgaWYgKHMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICAgICAgICBjaGF0U3RvcmUudXBkYXRlQ3VycmVudFNlc3Npb24oKHNlc3Npb24pID0+IHtcbiAgICAgICAgICAgICAgc2Vzc2lvbi5tYXNrLm1vZGVsQ29uZmlnLm1vZGVsID0gc1swXSBhcyBNb2RlbFR5cGU7XG4gICAgICAgICAgICAgIHNlc3Npb24ubWFzay5zeW5jR2xvYmFsQ29uZmlnID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNob3dUb2FzdChzWzBdKTtcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEVkaXRNZXNzYWdlTW9kYWwocHJvcHM6IHsgb25DbG9zZTogKCkgPT4gdm9pZCB9KSB7XG4gIGNvbnN0IGNoYXRTdG9yZSA9IHVzZUNoYXRTdG9yZSgpO1xuICBjb25zdCBzZXNzaW9uID0gY2hhdFN0b3JlLmN1cnJlbnRTZXNzaW9uKCk7XG4gIGNvbnN0IFttZXNzYWdlcywgc2V0TWVzc2FnZXNdID0gdXNlU3RhdGUoc2Vzc2lvbi5tZXNzYWdlcy5zbGljZSgpKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtbWFza1wiPlxuICAgICAgPE1vZGFsXG4gICAgICAgIHRpdGxlPXtMb2NhbGUuQ2hhdC5FZGl0TWVzc2FnZS5UaXRsZX1cbiAgICAgICAgb25DbG9zZT17cHJvcHMub25DbG9zZX1cbiAgICAgICAgYWN0aW9ucz17W1xuICAgICAgICAgIDxJY29uQnV0dG9uXG4gICAgICAgICAgICB0ZXh0PXtMb2NhbGUuVUkuQ2FuY2VsfVxuICAgICAgICAgICAgaWNvbj17PENhbmNlbEljb24gLz59XG4gICAgICAgICAgICBrZXk9XCJjYW5jZWxcIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICBwcm9wcy5vbkNsb3NlKCk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+LFxuICAgICAgICAgIDxJY29uQnV0dG9uXG4gICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICB0ZXh0PXtMb2NhbGUuVUkuQ29uZmlybX1cbiAgICAgICAgICAgIGljb249ezxDb25maXJtSWNvbiAvPn1cbiAgICAgICAgICAgIGtleT1cIm9rXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgY2hhdFN0b3JlLnVwZGF0ZUN1cnJlbnRTZXNzaW9uKFxuICAgICAgICAgICAgICAgIChzZXNzaW9uKSA9PiAoc2Vzc2lvbi5tZXNzYWdlcyA9IG1lc3NhZ2VzKSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgcHJvcHMub25DbG9zZSgpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPixcbiAgICAgICAgXX1cbiAgICAgID5cbiAgICAgICAgPExpc3Q+XG4gICAgICAgICAgPExpc3RJdGVtXG4gICAgICAgICAgICB0aXRsZT17TG9jYWxlLkNoYXQuRWRpdE1lc3NhZ2UuVG9waWMuVGl0bGV9XG4gICAgICAgICAgICBzdWJUaXRsZT17TG9jYWxlLkNoYXQuRWRpdE1lc3NhZ2UuVG9waWMuU3ViVGl0bGV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgdmFsdWU9e3Nlc3Npb24udG9waWN9XG4gICAgICAgICAgICAgIG9uSW5wdXQ9eyhlKSA9PlxuICAgICAgICAgICAgICAgIGNoYXRTdG9yZS51cGRhdGVDdXJyZW50U2Vzc2lvbihcbiAgICAgICAgICAgICAgICAgIChzZXNzaW9uKSA9PiAoc2Vzc2lvbi50b3BpYyA9IGUuY3VycmVudFRhcmdldC52YWx1ZSksXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA+PC9pbnB1dD5cbiAgICAgICAgICA8L0xpc3RJdGVtPlxuICAgICAgICA8L0xpc3Q+XG4gICAgICAgIDxDb250ZXh0UHJvbXB0c1xuICAgICAgICAgIGNvbnRleHQ9e21lc3NhZ2VzfVxuICAgICAgICAgIHVwZGF0ZUNvbnRleHQ9eyh1cGRhdGVyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXdNZXNzYWdlcyA9IG1lc3NhZ2VzLnNsaWNlKCk7XG4gICAgICAgICAgICB1cGRhdGVyKG5ld01lc3NhZ2VzKTtcbiAgICAgICAgICAgIHNldE1lc3NhZ2VzKG5ld01lc3NhZ2VzKTtcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgPC9Nb2RhbD5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gX0NoYXQoKSB7XG4gIHR5cGUgUmVuZGVyTWVzc2FnZSA9IENoYXRNZXNzYWdlICYgeyBwcmV2aWV3PzogYm9vbGVhbiB9O1xuXG4gIGNvbnN0IGNoYXRTdG9yZSA9IHVzZUNoYXRTdG9yZSgpO1xuICBjb25zdCBzZXNzaW9uID0gY2hhdFN0b3JlLmN1cnJlbnRTZXNzaW9uKCk7XG4gIGNvbnN0IGNvbmZpZyA9IHVzZUFwcENvbmZpZygpO1xuICBjb25zdCBmb250U2l6ZSA9IGNvbmZpZy5mb250U2l6ZTtcblxuICBjb25zdCBbc2hvd0V4cG9ydCwgc2V0U2hvd0V4cG9ydF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWY8SFRNTFRleHRBcmVhRWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IFt1c2VySW5wdXQsIHNldFVzZXJJbnB1dF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgeyBzdWJtaXRLZXksIHNob3VsZFN1Ym1pdCB9ID0gdXNlU3VibWl0SGFuZGxlcigpO1xuICBjb25zdCB7IHNjcm9sbFJlZiwgc2V0QXV0b1Njcm9sbCwgc2Nyb2xsRG9tVG9Cb3R0b20gfSA9IHVzZVNjcm9sbFRvQm90dG9tKCk7XG4gIGNvbnN0IFtoaXRCb3R0b20sIHNldEhpdEJvdHRvbV0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgaXNNb2JpbGVTY3JlZW4gPSB1c2VNb2JpbGVTY3JlZW4oKTtcbiAgY29uc3QgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpO1xuXG4gIC8vIHByb21wdCBoaW50c1xuICBjb25zdCBwcm9tcHRTdG9yZSA9IHVzZVByb21wdFN0b3JlKCk7XG4gIGNvbnN0IFtwcm9tcHRIaW50cywgc2V0UHJvbXB0SGludHNdID0gdXNlU3RhdGU8UmVuZGVyUG9tcHRbXT4oW10pO1xuICBjb25zdCBvblNlYXJjaCA9IHVzZURlYm91bmNlZENhbGxiYWNrKFxuICAgICh0ZXh0OiBzdHJpbmcpID0+IHtcbiAgICAgIGNvbnN0IG1hdGNoZWRQcm9tcHRzID0gcHJvbXB0U3RvcmUuc2VhcmNoKHRleHQpO1xuICAgICAgc2V0UHJvbXB0SGludHMobWF0Y2hlZFByb21wdHMpO1xuICAgIH0sXG4gICAgMTAwLFxuICAgIHsgbGVhZGluZzogdHJ1ZSwgdHJhaWxpbmc6IHRydWUgfSxcbiAgKTtcblxuICAvLyBhdXRvIGdyb3cgaW5wdXRcbiAgY29uc3QgW2lucHV0Um93cywgc2V0SW5wdXRSb3dzXSA9IHVzZVN0YXRlKDIpO1xuICBjb25zdCBtZWFzdXJlID0gdXNlRGVib3VuY2VkQ2FsbGJhY2soXG4gICAgKCkgPT4ge1xuICAgICAgY29uc3Qgcm93cyA9IGlucHV0UmVmLmN1cnJlbnQgPyBhdXRvR3Jvd1RleHRBcmVhKGlucHV0UmVmLmN1cnJlbnQpIDogMTtcbiAgICAgIGNvbnN0IGlucHV0Um93cyA9IE1hdGgubWluKFxuICAgICAgICAyMCxcbiAgICAgICAgTWF0aC5tYXgoMiArIE51bWJlcighaXNNb2JpbGVTY3JlZW4pLCByb3dzKSxcbiAgICAgICk7XG4gICAgICBzZXRJbnB1dFJvd3MoaW5wdXRSb3dzKTtcbiAgICB9LFxuICAgIDEwMCxcbiAgICB7XG4gICAgICBsZWFkaW5nOiB0cnVlLFxuICAgICAgdHJhaWxpbmc6IHRydWUsXG4gICAgfSxcbiAgKTtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIHVzZUVmZmVjdChtZWFzdXJlLCBbdXNlcklucHV0XSk7XG5cbiAgLy8gY2hhdCBjb21tYW5kcyBzaG9ydGN1dHNcbiAgY29uc3QgY2hhdENvbW1hbmRzID0gdXNlQ2hhdENvbW1hbmQoe1xuICAgIG5ldzogKCkgPT4gY2hhdFN0b3JlLm5ld1Nlc3Npb24oKSxcbiAgICBuZXdtOiAoKSA9PiBuYXZpZ2F0ZShQYXRoLk5ld0NoYXQpLFxuICAgIHByZXY6ICgpID0+IGNoYXRTdG9yZS5uZXh0U2Vzc2lvbigtMSksXG4gICAgbmV4dDogKCkgPT4gY2hhdFN0b3JlLm5leHRTZXNzaW9uKDEpLFxuICAgIGNsZWFyOiAoKSA9PlxuICAgICAgY2hhdFN0b3JlLnVwZGF0ZUN1cnJlbnRTZXNzaW9uKFxuICAgICAgICAoc2Vzc2lvbikgPT4gKHNlc3Npb24uY2xlYXJDb250ZXh0SW5kZXggPSBzZXNzaW9uLm1lc3NhZ2VzLmxlbmd0aCksXG4gICAgICApLFxuICAgIGRlbDogKCkgPT4gY2hhdFN0b3JlLmRlbGV0ZVNlc3Npb24oY2hhdFN0b3JlLmN1cnJlbnRTZXNzaW9uSW5kZXgpLFxuICB9KTtcblxuICAvLyBvbmx5IHNlYXJjaCBwcm9tcHRzIHdoZW4gdXNlciBpbnB1dCBpcyBzaG9ydFxuICBjb25zdCBTRUFSQ0hfVEVYVF9MSU1JVCA9IDMwO1xuICBjb25zdCBvbklucHV0ID0gKHRleHQ6IHN0cmluZykgPT4ge1xuICAgIHNldFVzZXJJbnB1dCh0ZXh0KTtcbiAgICBjb25zdCBuID0gdGV4dC50cmltKCkubGVuZ3RoO1xuXG4gICAgLy8gY2xlYXIgc2VhcmNoIHJlc3VsdHNcbiAgICBpZiAobiA9PT0gMCkge1xuICAgICAgc2V0UHJvbXB0SGludHMoW10pO1xuICAgIH0gZWxzZSBpZiAodGV4dC5zdGFydHNXaXRoKENoYXRDb21tYW5kUHJlZml4KSkge1xuICAgICAgc2V0UHJvbXB0SGludHMoY2hhdENvbW1hbmRzLnNlYXJjaCh0ZXh0KSk7XG4gICAgfSBlbHNlIGlmICghY29uZmlnLmRpc2FibGVQcm9tcHRIaW50ICYmIG4gPCBTRUFSQ0hfVEVYVF9MSU1JVCkge1xuICAgICAgLy8gY2hlY2sgaWYgbmVlZCB0byB0cmlnZ2VyIGF1dG8gY29tcGxldGlvblxuICAgICAgaWYgKHRleHQuc3RhcnRzV2l0aChcIi9cIikpIHtcbiAgICAgICAgbGV0IHNlYXJjaFRleHQgPSB0ZXh0LnNsaWNlKDEpO1xuICAgICAgICBvblNlYXJjaChzZWFyY2hUZXh0KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZG9TdWJtaXQgPSAodXNlcklucHV0OiBzdHJpbmcpID0+IHtcbiAgICBpZiAodXNlcklucHV0LnRyaW0oKSA9PT0gXCJcIikgcmV0dXJuO1xuICAgIGNvbnN0IG1hdGNoQ29tbWFuZCA9IGNoYXRDb21tYW5kcy5tYXRjaCh1c2VySW5wdXQpO1xuICAgIGlmIChtYXRjaENvbW1hbmQubWF0Y2hlZCkge1xuICAgICAgc2V0VXNlcklucHV0KFwiXCIpO1xuICAgICAgc2V0UHJvbXB0SGludHMoW10pO1xuICAgICAgbWF0Y2hDb21tYW5kLmludm9rZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgY2hhdFN0b3JlLm9uVXNlcklucHV0KHVzZXJJbnB1dCkudGhlbigoKSA9PiBzZXRJc0xvYWRpbmcoZmFsc2UpKTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShMQVNUX0lOUFVUX0tFWSwgdXNlcklucHV0KTtcbiAgICBzZXRVc2VySW5wdXQoXCJcIik7XG4gICAgc2V0UHJvbXB0SGludHMoW10pO1xuICAgIGlmICghaXNNb2JpbGVTY3JlZW4pIGlucHV0UmVmLmN1cnJlbnQ/LmZvY3VzKCk7XG4gICAgc2V0QXV0b1Njcm9sbCh0cnVlKTtcbiAgfTtcblxuICBjb25zdCBvblByb21wdFNlbGVjdCA9IChwcm9tcHQ6IFJlbmRlclBvbXB0KSA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZXRQcm9tcHRIaW50cyhbXSk7XG5cbiAgICAgIGNvbnN0IG1hdGNoZWRDaGF0Q29tbWFuZCA9IGNoYXRDb21tYW5kcy5tYXRjaChwcm9tcHQuY29udGVudCk7XG4gICAgICBpZiAobWF0Y2hlZENoYXRDb21tYW5kLm1hdGNoZWQpIHtcbiAgICAgICAgLy8gaWYgdXNlciBpcyBzZWxlY3RpbmcgYSBjaGF0IGNvbW1hbmQsIGp1c3QgdHJpZ2dlciBpdFxuICAgICAgICBtYXRjaGVkQ2hhdENvbW1hbmQuaW52b2tlKCk7XG4gICAgICAgIHNldFVzZXJJbnB1dChcIlwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG9yIGZpbGwgdGhlIHByb21wdFxuICAgICAgICBzZXRVc2VySW5wdXQocHJvbXB0LmNvbnRlbnQpO1xuICAgICAgfVxuICAgICAgaW5wdXRSZWYuY3VycmVudD8uZm9jdXMoKTtcbiAgICB9LCAzMCk7XG4gIH07XG5cbiAgLy8gc3RvcCByZXNwb25zZVxuICBjb25zdCBvblVzZXJTdG9wID0gKG1lc3NhZ2VJZDogc3RyaW5nKSA9PiB7XG4gICAgQ2hhdENvbnRyb2xsZXJQb29sLnN0b3Aoc2Vzc2lvbi5pZCwgbWVzc2FnZUlkKTtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNoYXRTdG9yZS51cGRhdGVDdXJyZW50U2Vzc2lvbigoc2Vzc2lvbikgPT4ge1xuICAgICAgY29uc3Qgc3RvcFRpbWluZyA9IERhdGUubm93KCkgLSBSRVFVRVNUX1RJTUVPVVRfTVM7XG4gICAgICBzZXNzaW9uLm1lc3NhZ2VzLmZvckVhY2goKG0pID0+IHtcbiAgICAgICAgLy8gY2hlY2sgaWYgc2hvdWxkIHN0b3AgYWxsIHN0YWxlIG1lc3NhZ2VzXG4gICAgICAgIGlmIChtLmlzRXJyb3IgfHwgbmV3IERhdGUobS5kYXRlKS5nZXRUaW1lKCkgPCBzdG9wVGltaW5nKSB7XG4gICAgICAgICAgaWYgKG0uc3RyZWFtaW5nKSB7XG4gICAgICAgICAgICBtLnN0cmVhbWluZyA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobS5jb250ZW50Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgbS5pc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIG0uY29udGVudCA9IHByZXR0eU9iamVjdCh7XG4gICAgICAgICAgICAgIGVycm9yOiB0cnVlLFxuICAgICAgICAgICAgICBtZXNzYWdlOiBcImVtcHR5IHJlc3BvbnNlXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBhdXRvIHN5bmMgbWFzayBjb25maWcgZnJvbSBnbG9iYWwgY29uZmlnXG4gICAgICBpZiAoc2Vzc2lvbi5tYXNrLnN5bmNHbG9iYWxDb25maWcpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJbTWFza10gc3luY2luZyBmcm9tIGdsb2JhbCwgbmFtZSA9IFwiLCBzZXNzaW9uLm1hc2submFtZSk7XG4gICAgICAgIHNlc3Npb24ubWFzay5tb2RlbENvbmZpZyA9IHsgLi4uY29uZmlnLm1vZGVsQ29uZmlnIH07XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbXSk7XG5cbiAgLy8gY2hlY2sgaWYgc2hvdWxkIHNlbmQgbWVzc2FnZVxuICBjb25zdCBvbklucHV0S2V5RG93biA9IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50PEhUTUxUZXh0QXJlYUVsZW1lbnQ+KSA9PiB7XG4gICAgLy8gaWYgQXJyb3dVcCBhbmQgbm8gdXNlcklucHV0LCBmaWxsIHdpdGggbGFzdCBpbnB1dFxuICAgIGlmIChcbiAgICAgIGUua2V5ID09PSBcIkFycm93VXBcIiAmJlxuICAgICAgdXNlcklucHV0Lmxlbmd0aCA8PSAwICYmXG4gICAgICAhKGUubWV0YUtleSB8fCBlLmFsdEtleSB8fCBlLmN0cmxLZXkpXG4gICAgKSB7XG4gICAgICBzZXRVc2VySW5wdXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oTEFTVF9JTlBVVF9LRVkpID8/IFwiXCIpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoc2hvdWxkU3VibWl0KGUpICYmIHByb21wdEhpbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgZG9TdWJtaXQodXNlcklucHV0KTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgb25SaWdodENsaWNrID0gKGU6IGFueSwgbWVzc2FnZTogQ2hhdE1lc3NhZ2UpID0+IHtcbiAgICAvLyBjb3B5IHRvIGNsaXBib2FyZFxuICAgIGlmIChzZWxlY3RPckNvcHkoZS5jdXJyZW50VGFyZ2V0LCBtZXNzYWdlLmNvbnRlbnQpKSB7XG4gICAgICBpZiAodXNlcklucHV0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBzZXRVc2VySW5wdXQobWVzc2FnZS5jb250ZW50KTtcbiAgICAgIH1cblxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBkZWxldGVNZXNzYWdlID0gKG1zZ0lkPzogc3RyaW5nKSA9PiB7XG4gICAgY2hhdFN0b3JlLnVwZGF0ZUN1cnJlbnRTZXNzaW9uKFxuICAgICAgKHNlc3Npb24pID0+XG4gICAgICAgIChzZXNzaW9uLm1lc3NhZ2VzID0gc2Vzc2lvbi5tZXNzYWdlcy5maWx0ZXIoKG0pID0+IG0uaWQgIT09IG1zZ0lkKSksXG4gICAgKTtcbiAgfTtcblxuICBjb25zdCBvbkRlbGV0ZSA9IChtc2dJZDogc3RyaW5nKSA9PiB7XG4gICAgZGVsZXRlTWVzc2FnZShtc2dJZCk7XG4gIH07XG5cbiAgY29uc3Qgb25SZXNlbmQgPSAobWVzc2FnZTogQ2hhdE1lc3NhZ2UpID0+IHtcbiAgICAvLyB3aGVuIGl0IGlzIHJlc2VuZGluZyBhIG1lc3NhZ2VcbiAgICAvLyAxLiBmb3IgYSB1c2VyJ3MgbWVzc2FnZSwgZmluZCB0aGUgbmV4dCBib3QgcmVzcG9uc2VcbiAgICAvLyAyLiBmb3IgYSBib3QncyBtZXNzYWdlLCBmaW5kIHRoZSBsYXN0IHVzZXIncyBpbnB1dFxuICAgIC8vIDMuIGRlbGV0ZSBvcmlnaW5hbCB1c2VyIGlucHV0IGFuZCBib3QncyBtZXNzYWdlXG4gICAgLy8gNC4gcmVzZW5kIHRoZSB1c2VyJ3MgaW5wdXRcblxuICAgIGNvbnN0IHJlc2VuZGluZ0luZGV4ID0gc2Vzc2lvbi5tZXNzYWdlcy5maW5kSW5kZXgoXG4gICAgICAobSkgPT4gbS5pZCA9PT0gbWVzc2FnZS5pZCxcbiAgICApO1xuXG4gICAgaWYgKHJlc2VuZGluZ0luZGV4IDwgMCB8fCByZXNlbmRpbmdJbmRleCA+PSBzZXNzaW9uLm1lc3NhZ2VzLmxlbmd0aCkge1xuICAgICAgY29uc29sZS5lcnJvcihcIltDaGF0XSBmYWlsZWQgdG8gZmluZCByZXNlbmRpbmcgbWVzc2FnZVwiLCBtZXNzYWdlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgdXNlck1lc3NhZ2U6IENoYXRNZXNzYWdlIHwgdW5kZWZpbmVkO1xuICAgIGxldCBib3RNZXNzYWdlOiBDaGF0TWVzc2FnZSB8IHVuZGVmaW5lZDtcblxuICAgIGlmIChtZXNzYWdlLnJvbGUgPT09IFwiYXNzaXN0YW50XCIpIHtcbiAgICAgIC8vIGlmIGl0IGlzIHJlc2VuZGluZyBhIGJvdCdzIG1lc3NhZ2UsIGZpbmQgdGhlIHVzZXIgaW5wdXQgZm9yIGl0XG4gICAgICBib3RNZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgIGZvciAobGV0IGkgPSByZXNlbmRpbmdJbmRleDsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICAgICAgaWYgKHNlc3Npb24ubWVzc2FnZXNbaV0ucm9sZSA9PT0gXCJ1c2VyXCIpIHtcbiAgICAgICAgICB1c2VyTWVzc2FnZSA9IHNlc3Npb24ubWVzc2FnZXNbaV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2Uucm9sZSA9PT0gXCJ1c2VyXCIpIHtcbiAgICAgIC8vIGlmIGl0IGlzIHJlc2VuZGluZyBhIHVzZXIncyBpbnB1dCwgZmluZCB0aGUgYm90J3MgcmVzcG9uc2VcbiAgICAgIHVzZXJNZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgIGZvciAobGV0IGkgPSByZXNlbmRpbmdJbmRleDsgaSA8IHNlc3Npb24ubWVzc2FnZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKHNlc3Npb24ubWVzc2FnZXNbaV0ucm9sZSA9PT0gXCJhc3Npc3RhbnRcIikge1xuICAgICAgICAgIGJvdE1lc3NhZ2UgPSBzZXNzaW9uLm1lc3NhZ2VzW2ldO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHVzZXJNZXNzYWdlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbQ2hhdF0gZmFpbGVkIHRvIHJlc2VuZFwiLCBtZXNzYWdlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBkZWxldGUgdGhlIG9yaWdpbmFsIG1lc3NhZ2VzXG4gICAgZGVsZXRlTWVzc2FnZSh1c2VyTWVzc2FnZS5pZCk7XG4gICAgZGVsZXRlTWVzc2FnZShib3RNZXNzYWdlPy5pZCk7XG5cbiAgICAvLyByZXNlbmQgdGhlIG1lc3NhZ2VcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgY2hhdFN0b3JlLm9uVXNlcklucHV0KHVzZXJNZXNzYWdlLmNvbnRlbnQpLnRoZW4oKCkgPT4gc2V0SXNMb2FkaW5nKGZhbHNlKSk7XG4gICAgaW5wdXRSZWYuY3VycmVudD8uZm9jdXMoKTtcbiAgfTtcblxuICBjb25zdCBvblBpbk1lc3NhZ2UgPSAobWVzc2FnZTogQ2hhdE1lc3NhZ2UpID0+IHtcbiAgICBjaGF0U3RvcmUudXBkYXRlQ3VycmVudFNlc3Npb24oKHNlc3Npb24pID0+XG4gICAgICBzZXNzaW9uLm1hc2suY29udGV4dC5wdXNoKG1lc3NhZ2UpLFxuICAgICk7XG5cbiAgICBzaG93VG9hc3QoTG9jYWxlLkNoYXQuQWN0aW9ucy5QaW5Ub2FzdENvbnRlbnQsIHtcbiAgICAgIHRleHQ6IExvY2FsZS5DaGF0LkFjdGlvbnMuUGluVG9hc3RBY3Rpb24sXG4gICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgIHNldFNob3dQcm9tcHRNb2RhbCh0cnVlKTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgY29udGV4dDogUmVuZGVyTWVzc2FnZVtdID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIHNlc3Npb24ubWFzay5oaWRlQ29udGV4dCA/IFtdIDogc2Vzc2lvbi5tYXNrLmNvbnRleHQuc2xpY2UoKTtcbiAgfSwgW3Nlc3Npb24ubWFzay5jb250ZXh0LCBzZXNzaW9uLm1hc2suaGlkZUNvbnRleHRdKTtcbiAgY29uc3QgYWNjZXNzU3RvcmUgPSB1c2VBY2Nlc3NTdG9yZSgpO1xuXG4gIGlmIChcbiAgICBjb250ZXh0Lmxlbmd0aCA9PT0gMCAmJlxuICAgIHNlc3Npb24ubWVzc2FnZXMuYXQoMCk/LmNvbnRlbnQgIT09IEJPVF9IRUxMTy5jb250ZW50XG4gICkge1xuICAgIGNvbnN0IGNvcGllZEhlbGxvID0gT2JqZWN0LmFzc2lnbih7fSwgQk9UX0hFTExPKTtcbiAgICBpZiAoIWFjY2Vzc1N0b3JlLmlzQXV0aG9yaXplZCgpKSB7XG4gICAgICBjb3BpZWRIZWxsby5jb250ZW50ID0gTG9jYWxlLkVycm9yLlVuYXV0aG9yaXplZDtcbiAgICB9XG4gICAgY29udGV4dC5wdXNoKGNvcGllZEhlbGxvKTtcbiAgfVxuXG4gIC8vIHByZXZpZXcgbWVzc2FnZXNcbiAgY29uc3QgcmVuZGVyTWVzc2FnZXMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gY29udGV4dFxuICAgICAgLmNvbmNhdChzZXNzaW9uLm1lc3NhZ2VzIGFzIFJlbmRlck1lc3NhZ2VbXSlcbiAgICAgIC5jb25jYXQoXG4gICAgICAgIGlzTG9hZGluZ1xuICAgICAgICAgID8gW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLi4uY3JlYXRlTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgICAgICAgICAgY29udGVudDogXCLigKbigKZcIixcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBwcmV2aWV3OiB0cnVlLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXVxuICAgICAgICAgIDogW10sXG4gICAgICApXG4gICAgICAuY29uY2F0KFxuICAgICAgICB1c2VySW5wdXQubGVuZ3RoID4gMCAmJiBjb25maWcuc2VuZFByZXZpZXdCdWJibGVcbiAgICAgICAgICA/IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC4uLmNyZWF0ZU1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICAgICAgICAgICAgICBjb250ZW50OiB1c2VySW5wdXQsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgcHJldmlldzogdHJ1ZSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF1cbiAgICAgICAgICA6IFtdLFxuICAgICAgKTtcbiAgfSwgW1xuICAgIGNvbmZpZy5zZW5kUHJldmlld0J1YmJsZSxcbiAgICBjb250ZXh0LFxuICAgIGlzTG9hZGluZyxcbiAgICBzZXNzaW9uLm1lc3NhZ2VzLFxuICAgIHVzZXJJbnB1dCxcbiAgXSk7XG5cbiAgY29uc3QgW21zZ1JlbmRlckluZGV4LCBfc2V0TXNnUmVuZGVySW5kZXhdID0gdXNlU3RhdGUoXG4gICAgTWF0aC5tYXgoMCwgcmVuZGVyTWVzc2FnZXMubGVuZ3RoIC0gQ0hBVF9QQUdFX1NJWkUpLFxuICApO1xuICBmdW5jdGlvbiBzZXRNc2dSZW5kZXJJbmRleChuZXdJbmRleDogbnVtYmVyKSB7XG4gICAgbmV3SW5kZXggPSBNYXRoLm1pbihyZW5kZXJNZXNzYWdlcy5sZW5ndGggLSBDSEFUX1BBR0VfU0laRSwgbmV3SW5kZXgpO1xuICAgIG5ld0luZGV4ID0gTWF0aC5tYXgoMCwgbmV3SW5kZXgpO1xuICAgIF9zZXRNc2dSZW5kZXJJbmRleChuZXdJbmRleCk7XG4gIH1cblxuICBjb25zdCBtZXNzYWdlcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGVuZFJlbmRlckluZGV4ID0gTWF0aC5taW4oXG4gICAgICBtc2dSZW5kZXJJbmRleCArIDMgKiBDSEFUX1BBR0VfU0laRSxcbiAgICAgIHJlbmRlck1lc3NhZ2VzLmxlbmd0aCxcbiAgICApO1xuICAgIHJldHVybiByZW5kZXJNZXNzYWdlcy5zbGljZShtc2dSZW5kZXJJbmRleCwgZW5kUmVuZGVySW5kZXgpO1xuICB9LCBbbXNnUmVuZGVySW5kZXgsIHJlbmRlck1lc3NhZ2VzXSk7XG5cbiAgY29uc3Qgb25DaGF0Qm9keVNjcm9sbCA9IChlOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IGJvdHRvbUhlaWdodCA9IGUuc2Nyb2xsVG9wICsgZS5jbGllbnRIZWlnaHQ7XG4gICAgY29uc3QgZWRnZVRocmVzaG9sZCA9IGUuY2xpZW50SGVpZ2h0O1xuXG4gICAgY29uc3QgaXNUb3VjaFRvcEVkZ2UgPSBlLnNjcm9sbFRvcCA8PSBlZGdlVGhyZXNob2xkO1xuICAgIGNvbnN0IGlzVG91Y2hCb3R0b21FZGdlID0gYm90dG9tSGVpZ2h0ID49IGUuc2Nyb2xsSGVpZ2h0IC0gZWRnZVRocmVzaG9sZDtcbiAgICBjb25zdCBpc0hpdEJvdHRvbSA9XG4gICAgICBib3R0b21IZWlnaHQgPj0gZS5zY3JvbGxIZWlnaHQgLSAoaXNNb2JpbGVTY3JlZW4gPyA0IDogMTApO1xuXG4gICAgY29uc3QgcHJldlBhZ2VNc2dJbmRleCA9IG1zZ1JlbmRlckluZGV4IC0gQ0hBVF9QQUdFX1NJWkU7XG4gICAgY29uc3QgbmV4dFBhZ2VNc2dJbmRleCA9IG1zZ1JlbmRlckluZGV4ICsgQ0hBVF9QQUdFX1NJWkU7XG5cbiAgICBpZiAoaXNUb3VjaFRvcEVkZ2UgJiYgIWlzVG91Y2hCb3R0b21FZGdlKSB7XG4gICAgICBzZXRNc2dSZW5kZXJJbmRleChwcmV2UGFnZU1zZ0luZGV4KTtcbiAgICB9IGVsc2UgaWYgKGlzVG91Y2hCb3R0b21FZGdlKSB7XG4gICAgICBzZXRNc2dSZW5kZXJJbmRleChuZXh0UGFnZU1zZ0luZGV4KTtcbiAgICB9XG5cbiAgICBzZXRIaXRCb3R0b20oaXNIaXRCb3R0b20pO1xuICAgIHNldEF1dG9TY3JvbGwoaXNIaXRCb3R0b20pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHNjcm9sbFRvQm90dG9tKCkge1xuICAgIHNldE1zZ1JlbmRlckluZGV4KHJlbmRlck1lc3NhZ2VzLmxlbmd0aCAtIENIQVRfUEFHRV9TSVpFKTtcbiAgICBzY3JvbGxEb21Ub0JvdHRvbSgpO1xuICB9XG5cbiAgLy8gY2xlYXIgY29udGV4dCBpbmRleCA9IGNvbnRleHQgbGVuZ3RoICsgaW5kZXggaW4gbWVzc2FnZXNcbiAgY29uc3QgY2xlYXJDb250ZXh0SW5kZXggPVxuICAgIChzZXNzaW9uLmNsZWFyQ29udGV4dEluZGV4ID8/IC0xKSA+PSAwXG4gICAgICA/IHNlc3Npb24uY2xlYXJDb250ZXh0SW5kZXghICsgY29udGV4dC5sZW5ndGggLSBtc2dSZW5kZXJJbmRleFxuICAgICAgOiAtMTtcblxuICBjb25zdCBbc2hvd1Byb21wdE1vZGFsLCBzZXRTaG93UHJvbXB0TW9kYWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIGNvbnN0IGNsaWVudENvbmZpZyA9IHVzZU1lbW8oKCkgPT4gZ2V0Q2xpZW50Q29uZmlnKCksIFtdKTtcblxuICBjb25zdCBhdXRvRm9jdXMgPSAhaXNNb2JpbGVTY3JlZW47IC8vIHdvbnQgYXV0byBmb2N1cyBvbiBtb2JpbGUgc2NyZWVuXG4gIGNvbnN0IHNob3dNYXhJY29uID0gIWlzTW9iaWxlU2NyZWVuICYmICFjbGllbnRDb25maWc/LmlzQXBwO1xuXG4gIHVzZUNvbW1hbmQoe1xuICAgIGZpbGw6IHNldFVzZXJJbnB1dCxcbiAgICBzdWJtaXQ6ICh0ZXh0KSA9PiB7XG4gICAgICBkb1N1Ym1pdCh0ZXh0KTtcbiAgICB9LFxuICAgIGNvZGU6ICh0ZXh0KSA9PiB7XG4gICAgICBpZiAoYWNjZXNzU3RvcmUuZGlzYWJsZUZhc3RMaW5rKSByZXR1cm47XG4gICAgICBjb25zb2xlLmxvZyhcIltDb21tYW5kXSBnb3QgY29kZSBmcm9tIHVybDogXCIsIHRleHQpO1xuICAgICAgc2hvd0NvbmZpcm0oTG9jYWxlLlVSTENvbW1hbmQuQ29kZSArIGBjb2RlID0gJHt0ZXh0fWApLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgYWNjZXNzU3RvcmUudXBkYXRlKChhY2Nlc3MpID0+IChhY2Nlc3MuYWNjZXNzQ29kZSA9IHRleHQpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBzZXR0aW5nczogKHRleHQpID0+IHtcbiAgICAgIGlmIChhY2Nlc3NTdG9yZS5kaXNhYmxlRmFzdExpbmspIHJldHVybjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IEpTT04ucGFyc2UodGV4dCkgYXMge1xuICAgICAgICAgIGtleT86IHN0cmluZztcbiAgICAgICAgICB1cmw/OiBzdHJpbmc7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJbQ29tbWFuZF0gZ290IHNldHRpbmdzIGZyb20gdXJsOiBcIiwgcGF5bG9hZCk7XG5cbiAgICAgICAgaWYgKHBheWxvYWQua2V5IHx8IHBheWxvYWQudXJsKSB7XG4gICAgICAgICAgc2hvd0NvbmZpcm0oXG4gICAgICAgICAgICBMb2NhbGUuVVJMQ29tbWFuZC5TZXR0aW5ncyArXG4gICAgICAgICAgICAgIGBcXG4ke0pTT04uc3RyaW5naWZ5KHBheWxvYWQsIG51bGwsIDQpfWAsXG4gICAgICAgICAgKS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgIGlmICghcmVzKSByZXR1cm47XG4gICAgICAgICAgICBpZiAocGF5bG9hZC5rZXkpIHtcbiAgICAgICAgICAgICAgYWNjZXNzU3RvcmUudXBkYXRlKFxuICAgICAgICAgICAgICAgIChhY2Nlc3MpID0+IChhY2Nlc3Mub3BlbmFpQXBpS2V5ID0gcGF5bG9hZC5rZXkhKSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXlsb2FkLnVybCkge1xuICAgICAgICAgICAgICBhY2Nlc3NTdG9yZS51cGRhdGUoKGFjY2VzcykgPT4gKGFjY2Vzcy5vcGVuYWlVcmwgPSBwYXlsb2FkLnVybCEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbQ29tbWFuZF0gZmFpbGVkIHRvIGdldCBzZXR0aW5ncyBmcm9tIHVybDogXCIsIHRleHQpO1xuICAgICAgfVxuICAgIH0sXG4gIH0pO1xuXG4gIC8vIGVkaXQgLyBpbnNlcnQgbWVzc2FnZSBtb2RhbFxuICBjb25zdCBbaXNFZGl0aW5nTWVzc2FnZSwgc2V0SXNFZGl0aW5nTWVzc2FnZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gcmVtZW1iZXIgdW5maW5pc2hlZCBpbnB1dFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIHRyeSB0byBsb2FkIGZyb20gbG9jYWwgc3RvcmFnZVxuICAgIGNvbnN0IGtleSA9IFVORklOSVNIRURfSU5QVVQoc2Vzc2lvbi5pZCk7XG4gICAgY29uc3QgbWF5QmVVbmZpbmlzaGVkSW5wdXQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgIGlmIChtYXlCZVVuZmluaXNoZWRJbnB1dCAmJiB1c2VySW5wdXQubGVuZ3RoID09PSAwKSB7XG4gICAgICBzZXRVc2VySW5wdXQobWF5QmVVbmZpbmlzaGVkSW5wdXQpO1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICB9XG5cbiAgICBjb25zdCBkb20gPSBpbnB1dFJlZi5jdXJyZW50O1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIGRvbT8udmFsdWUgPz8gXCJcIik7XG4gICAgfTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtdKTtcblxuICBjb25zdCBwcm9wczogVXBsb2FkUHJvcHMgPSB7XG4gICAgbmFtZTogJ2ZpbGUnLFxuICAgIGFjdGlvbjogJ2h0dHBzOi8vcnVuLm1vY2t5LmlvL3YzLzQzNWUyMjRjLTQ0ZmItNDc3My05ZmFmLTM4MGM1ZTZhMjE4OCcsXG4gICAgaGVhZGVyczoge1xuICAgICAgYXV0aG9yaXphdGlvbjogJ2F1dGhvcml6YXRpb24tdGV4dCcsXG4gICAgfSxcbiAgICBvbkNoYW5nZShpbmZvKSB7XG4gICAgICBpZiAoaW5mby5maWxlLnN0YXR1cyAhPT0gJ3VwbG9hZGluZycpIHtcbiAgICAgICAgY29uc29sZS5sb2coaW5mby5maWxlLCBpbmZvLmZpbGVMaXN0KTtcbiAgICAgIH1cbiAgICAgIGlmIChpbmZvLmZpbGUuc3RhdHVzID09PSAnZG9uZScpIHtcbiAgICAgICAgbWVzc2FnZS5zdWNjZXNzKGAke2luZm8uZmlsZS5uYW1lfSBmaWxlIHVwbG9hZGVkIHN1Y2Nlc3NmdWxseWApO1xuICAgICAgfSBlbHNlIGlmIChpbmZvLmZpbGUuc3RhdHVzID09PSAnZXJyb3InKSB7XG4gICAgICAgIG1lc3NhZ2UuZXJyb3IoYCR7aW5mby5maWxlLm5hbWV9IGZpbGUgdXBsb2FkIGZhaWxlZC5gKTtcbiAgICAgIH1cbiAgICB9LFxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jaGF0fSBrZXk9e3Nlc3Npb24uaWR9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3aW5kb3ctaGVhZGVyXCIgZGF0YS10YXVyaS1kcmFnLXJlZ2lvbj5cbiAgICAgICAge2lzTW9iaWxlU2NyZWVuICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndpbmRvdy1hY3Rpb25zXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17XCJ3aW5kb3ctYWN0aW9uLWJ1dHRvblwifT5cbiAgICAgICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgICAgICBpY29uPXs8UmV0dXJuSWNvbiAvPn1cbiAgICAgICAgICAgICAgICBib3JkZXJlZFxuICAgICAgICAgICAgICAgIHRpdGxlPXtMb2NhbGUuQ2hhdC5BY3Rpb25zLkNoYXRMaXN0fVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG5hdmlnYXRlKFBhdGguSG9tZSl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHdpbmRvdy1oZWFkZXItdGl0bGUgJHtzdHlsZXNbXCJjaGF0LWJvZHktdGl0bGVcIl19YH0+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgd2luZG93LWhlYWRlci1tYWluLXRpdGxlICR7c3R5bGVzW1wiY2hhdC1ib2R5LW1haW4tdGl0bGVcIl19YH1cbiAgICAgICAgICAgIG9uQ2xpY2tDYXB0dXJlPXsoKSA9PiBzZXRJc0VkaXRpbmdNZXNzYWdlKHRydWUpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHshc2Vzc2lvbi50b3BpYyA/IERFRkFVTFRfVE9QSUMgOiBzZXNzaW9uLnRvcGljfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2luZG93LWhlYWRlci1zdWItdGl0bGVcIj5cbiAgICAgICAgICAgIHtMb2NhbGUuQ2hhdC5TdWJUaXRsZShzZXNzaW9uLm1lc3NhZ2VzLmxlbmd0aCl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2luZG93LWFjdGlvbnNcIj5cbiAgICAgICAgICB7LyogeyFpc01vYmlsZVNjcmVlbiAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndpbmRvdy1hY3Rpb24tYnV0dG9uXCI+XG4gICAgICAgICAgICAgIDxJY29uQnV0dG9uXG4gICAgICAgICAgICAgICAgaWNvbj17PFJlbmFtZUljb24gLz59XG4gICAgICAgICAgICAgICAgYm9yZGVyZWRcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc0VkaXRpbmdNZXNzYWdlKHRydWUpfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndpbmRvdy1hY3Rpb24tYnV0dG9uXCI+XG4gICAgICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgICAgICBpY29uPXs8RXhwb3J0SWNvbiAvPn1cbiAgICAgICAgICAgICAgYm9yZGVyZWRcbiAgICAgICAgICAgICAgdGl0bGU9e0xvY2FsZS5DaGF0LkFjdGlvbnMuRXhwb3J0fVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0U2hvd0V4cG9ydCh0cnVlKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+ICovfVxuICAgICAgICAgIHtzaG93TWF4SWNvbiAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndpbmRvdy1hY3Rpb24tYnV0dG9uXCI+XG4gICAgICAgICAgICAgIDxJY29uQnV0dG9uXG4gICAgICAgICAgICAgICAgaWNvbj17Y29uZmlnLnRpZ2h0Qm9yZGVyID8gPE1pbkljb24gLz4gOiA8TWF4SWNvbiAvPn1cbiAgICAgICAgICAgICAgICBib3JkZXJlZFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbmZpZy51cGRhdGUoXG4gICAgICAgICAgICAgICAgICAgIChjb25maWcpID0+IChjb25maWcudGlnaHRCb3JkZXIgPSAhY29uZmlnLnRpZ2h0Qm9yZGVyKSxcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxQcm9tcHRUb2FzdFxuICAgICAgICAgIHNob3dUb2FzdD17IWhpdEJvdHRvbX1cbiAgICAgICAgICBzaG93TW9kYWw9e3Nob3dQcm9tcHRNb2RhbH1cbiAgICAgICAgICBzZXRTaG93TW9kYWw9e3NldFNob3dQcm9tcHRNb2RhbH1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17c3R5bGVzW1wiY2hhdC1ib2R5XCJdfVxuICAgICAgICByZWY9e3Njcm9sbFJlZn1cbiAgICAgICAgb25TY3JvbGw9eyhlKSA9PiBvbkNoYXRCb2R5U2Nyb2xsKGUuY3VycmVudFRhcmdldCl9XG4gICAgICAgIG9uTW91c2VEb3duPXsoKSA9PiBpbnB1dFJlZi5jdXJyZW50Py5ibHVyKCl9XG4gICAgICAgIG9uVG91Y2hTdGFydD17KCkgPT4ge1xuICAgICAgICAgIGlucHV0UmVmLmN1cnJlbnQ/LmJsdXIoKTtcbiAgICAgICAgICBzZXRBdXRvU2Nyb2xsKGZhbHNlKTtcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAge21lc3NhZ2VzLm1hcCgobWVzc2FnZSwgaSkgPT4ge1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IGlzVXNlciA9IG1lc3NhZ2Uucm9sZSA9PT0gXCJ1c2VyXCI7XG4gICAgICAgICAgY29uc3QgaXNDb250ZXh0ID0gaSA8IGNvbnRleHQubGVuZ3RoO1xuICAgICAgICAgIGNvbnN0IHNob3dBY3Rpb25zID1cbiAgICAgICAgICAgIGkgPiAwICYmXG4gICAgICAgICAgICAhKG1lc3NhZ2UucHJldmlldyB8fCBtZXNzYWdlLmNvbnRlbnQubGVuZ3RoID09PSAwKSAmJlxuICAgICAgICAgICAgIWlzQ29udGV4dDtcbiAgICAgICAgICBjb25zdCBzaG93VHlwaW5nID0gbWVzc2FnZS5wcmV2aWV3IHx8IG1lc3NhZ2Uuc3RyZWFtaW5nO1xuICAgICAgICAgIGNvbnN0IHNob3VsZFNob3dDbGVhckNvbnRleHREaXZpZGVyID0gaSA9PT0gY2xlYXJDb250ZXh0SW5kZXggLSAxO1xuXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxGcmFnbWVudCBrZXk9e21lc3NhZ2UuaWR9PlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtpc1VzZXIgPyBzdHlsZXNbXCJjaGF0LW1lc3NhZ2UtdXNlclwiXSA6IHN0eWxlc1tcImNoYXQtbWVzc2FnZVwiXX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbXCJjaGF0LW1lc3NhZ2UtY29udGFpbmVyXCJdfT5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbXCJjaGF0LW1lc3NhZ2UtaGVhZGVyXCJdfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1tcImNoYXQtbWVzc2FnZS1hdmF0YXJcIl19PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbXCJjaGF0LW1lc3NhZ2UtZWRpdFwiXX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uPXs8RWRpdEljb24gLz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdNZXNzYWdlID0gYXdhaXQgc2hvd1Byb21wdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvY2FsZS5DaGF0LkFjdGlvbnMuRWRpdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhdFN0b3JlLnVwZGF0ZUN1cnJlbnRTZXNzaW9uKChzZXNzaW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtID0gc2Vzc2lvbi5tYXNrLmNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChzZXNzaW9uLm1lc3NhZ2VzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgobSkgPT4gbS5pZCA9PT0gbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtLmNvbnRlbnQgPSBuZXdNZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPjwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICB7aXNVc2VyID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPEF2YXRhciBhdmF0YXI9e2NvbmZpZy5hdmF0YXJ9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtbXCJzeXN0ZW1cIl0uaW5jbHVkZXMobWVzc2FnZS5yb2xlKSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QXZhdGFyIGF2YXRhcj1cIjI2OTktZmUwZlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1hc2tBdmF0YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2YXRhcj17c2Vzc2lvbi5tYXNrLmF2YXRhcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tb2RlbCB8fCBzZXNzaW9uLm1hc2subW9kZWxDb25maWcubW9kZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAge3Nob3dBY3Rpb25zICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1wiY2hhdC1tZXNzYWdlLWFjdGlvbnNcIl19PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1tcImNoYXQtaW5wdXQtYWN0aW9uc1wiXX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLnN0cmVhbWluZyA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hhdEFjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dD17TG9jYWxlLkNoYXQuQWN0aW9ucy5TdG9wfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbj17PFN0b3BJY29uIC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25Vc2VyU3RvcChtZXNzYWdlLmlkID8/IGkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGF0QWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ9e0xvY2FsZS5DaGF0LkFjdGlvbnMuUmV0cnl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249ezxSZXNldEljb24gLz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uUmVzZW5kKG1lc3NhZ2UpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoYXRBY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dD17TG9jYWxlLkNoYXQuQWN0aW9ucy5EZWxldGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249ezxEZWxldGVJY29uIC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvbkRlbGV0ZShtZXNzYWdlLmlkID8/IGkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoYXRBY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dD17TG9jYWxlLkNoYXQuQWN0aW9ucy5QaW59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249ezxQaW5JY29uIC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvblBpbk1lc3NhZ2UobWVzc2FnZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoYXRBY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dD17TG9jYWxlLkNoYXQuQWN0aW9ucy5Db3B5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uPXs8Q29weUljb24gLz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGNvcHlUb0NsaXBib2FyZChtZXNzYWdlLmNvbnRlbnQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICB7c2hvd1R5cGluZyAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbXCJjaGF0LW1lc3NhZ2Utc3RhdHVzXCJdfT5cbiAgICAgICAgICAgICAgICAgICAgICB7TG9jYWxlLkNoYXQuVHlwaW5nfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1wiY2hhdC1tZXNzYWdlLWl0ZW1cIl19PlxuICAgICAgICAgICAgICAgICAgICA8TWFya2Rvd25cbiAgICAgICAgICAgICAgICAgICAgICBjb250ZW50PXttZXNzYWdlLmNvbnRlbnR9XG4gICAgICAgICAgICAgICAgICAgICAgbG9hZGluZz17XG4gICAgICAgICAgICAgICAgICAgICAgICAobWVzc2FnZS5wcmV2aWV3IHx8IG1lc3NhZ2Uuc3RyZWFtaW5nKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb250ZW50Lmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIWlzVXNlclxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNvbnRleHRNZW51PXsoZSkgPT4gb25SaWdodENsaWNrKGUsIG1lc3NhZ2UpfVxuICAgICAgICAgICAgICAgICAgICAgIG9uRG91YmxlQ2xpY2tDYXB0dXJlPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTW9iaWxlU2NyZWVuKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRVc2VySW5wdXQobWVzc2FnZS5jb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplPXtmb250U2l6ZX1cbiAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRSZWY9e3Njcm9sbFJlZn1cbiAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2hvdz17aSA+PSBtZXNzYWdlcy5sZW5ndGggLSA2fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgIHsvKiA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1wiY2hhdC1tZXNzYWdlLWFjdGlvbi1kYXRlXCJdfT5cbiAgICAgICAgICAgICAgICAgICAge2lzQ29udGV4dFxuICAgICAgICAgICAgICAgICAgICAgID8gTG9jYWxlLkNoYXQuSXNDb250ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgOiBtZXNzYWdlLmRhdGUudG9Mb2NhbGVTdHJpbmcoKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PiAqL31cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIHtzaG91bGRTaG93Q2xlYXJDb250ZXh0RGl2aWRlciAmJiA8Q2xlYXJDb250ZXh0RGl2aWRlciAvPn1cbiAgICAgICAgICAgIDwvRnJhZ21lbnQ+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj5cblxuICAgICAgPFVwbG9hZCB7Li4ucHJvcHN9PlxuICAgICAgICAgICAgICAgPE1vdGFpIHdpZHRoPVwiMzBweFwiIGNsYXNzTmFtZT17c3R5bGVzWydtb3RhaSddfS8+XG4gICAgICAgIDwvVXBsb2FkPlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1wiY2hhdC1pbnB1dC1wYW5lbFwiXX0+XG4gICAgICAgIHsvKiA8UHJvbXB0SGludHMgcHJvbXB0cz17cHJvbXB0SGludHN9IG9uUHJvbXB0U2VsZWN0PXtvblByb21wdFNlbGVjdH0gLz4gKi99XG57LyogXG4gICAgICAgIDxDaGF0QWN0aW9uc1xuICAgICAgICAgIHNob3dQcm9tcHRNb2RhbD17KCkgPT4gc2V0U2hvd1Byb21wdE1vZGFsKHRydWUpfVxuICAgICAgICAgIHNjcm9sbFRvQm90dG9tPXtzY3JvbGxUb0JvdHRvbX1cbiAgICAgICAgICBoaXRCb3R0b209e2hpdEJvdHRvbX1cbiAgICAgICAgICBzaG93UHJvbXB0SGludHM9eygpID0+IHtcbiAgICAgICAgICAgIC8vIENsaWNrIGFnYWluIHRvIGNsb3NlXG4gICAgICAgICAgICBpZiAocHJvbXB0SGludHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBzZXRQcm9tcHRIaW50cyhbXSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlucHV0UmVmLmN1cnJlbnQ/LmZvY3VzKCk7XG4gICAgICAgICAgICBzZXRVc2VySW5wdXQoXCIvXCIpO1xuICAgICAgICAgICAgb25TZWFyY2goXCJcIik7XG4gICAgICAgICAgfX1cbiAgICAgICAgLz4gKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbXCJjaGF0LWlucHV0LXBhbmVsLWlubmVyXCJdfT5cbiAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgIHJlZj17aW5wdXRSZWZ9XG4gICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlc1tcImNoYXQtaW5wdXRcIl19XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj17TG9jYWxlLkNoYXQuSW5wdXQoc3VibWl0S2V5KX1cbiAgICAgICAgICAgIG9uSW5wdXQ9eyhlKSA9PiBvbklucHV0KGUuY3VycmVudFRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICB2YWx1ZT17dXNlcklucHV0fVxuICAgICAgICAgICAgb25LZXlEb3duPXtvbklucHV0S2V5RG93bn1cbiAgICAgICAgICAgIG9uRm9jdXM9e3Njcm9sbFRvQm90dG9tfVxuICAgICAgICAgICAgb25DbGljaz17c2Nyb2xsVG9Cb3R0b219XG4gICAgICAgICAgICByb3dzPXtpbnB1dFJvd3N9XG4gICAgICAgICAgICBhdXRvRm9jdXM9e2F1dG9Gb2N1c31cbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIGZvbnRTaXplOiBjb25maWcuZm9udFNpemUsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgIGljb249ezxTZW5kV2hpdGVJY29uIC8+fVxuICAgICAgICAgICAgdGV4dD17TG9jYWxlLkNoYXQuU2VuZH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzW1wiY2hhdC1pbnB1dC1zZW5kXCJdfVxuICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gZG9TdWJtaXQodXNlcklucHV0KX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7c2hvd0V4cG9ydCAmJiAoXG4gICAgICAgIDxFeHBvcnRNZXNzYWdlTW9kYWwgb25DbG9zZT17KCkgPT4gc2V0U2hvd0V4cG9ydChmYWxzZSl9IC8+XG4gICAgICApfVxuXG4gICAgICB7aXNFZGl0aW5nTWVzc2FnZSAmJiAoXG4gICAgICAgIDxFZGl0TWVzc2FnZU1vZGFsXG4gICAgICAgICAgb25DbG9zZT17KCkgPT4ge1xuICAgICAgICAgICAgc2V0SXNFZGl0aW5nTWVzc2FnZShmYWxzZSk7XG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDaGF0KCkge1xuICBjb25zdCBjaGF0U3RvcmUgPSB1c2VDaGF0U3RvcmUoKTtcbiAgY29uc3Qgc2Vzc2lvbkluZGV4ID0gY2hhdFN0b3JlLmN1cnJlbnRTZXNzaW9uSW5kZXg7XG4gIHJldHVybiA8X0NoYXQga2V5PXtzZXNzaW9uSW5kZXh9PjwvX0NoYXQ+O1xufVxuIl0sIm5hbWVzIjpbInVzZURlYm91bmNlZENhbGxiYWNrIiwiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJGcmFnbWVudCIsIlNlbmRXaGl0ZUljb24iLCJCcmFpbkljb24iLCJSZXR1cm5JY29uIiwiQ29weUljb24iLCJMb2FkaW5nSWNvbiIsIlByb21wdEljb24iLCJNYXNrSWNvbiIsIk1heEljb24iLCJNaW5JY29uIiwiUmVzZXRJY29uIiwiQnJlYWtJY29uIiwiU2V0dGluZ3NJY29uIiwiRGVsZXRlSWNvbiIsIlBpbkljb24iLCJFZGl0SWNvbiIsIkNvbmZpcm1JY29uIiwiQ2FuY2VsSWNvbiIsIkxpZ2h0SWNvbiIsIkRhcmtJY29uIiwiQXV0b0ljb24iLCJCb3R0b21JY29uIiwiU3RvcEljb24iLCJSb2JvdEljb24iLCJNb3RhaSIsIlN1Ym1pdEtleSIsInVzZUNoYXRTdG9yZSIsIkJPVF9IRUxMTyIsImNyZWF0ZU1lc3NhZ2UiLCJ1c2VBY2Nlc3NTdG9yZSIsIlRoZW1lIiwidXNlQXBwQ29uZmlnIiwiREVGQVVMVF9UT1BJQyIsImNvcHlUb0NsaXBib2FyZCIsInNlbGVjdE9yQ29weSIsImF1dG9Hcm93VGV4dEFyZWEiLCJ1c2VNb2JpbGVTY3JlZW4iLCJkeW5hbWljIiwiQ2hhdENvbnRyb2xsZXJQb29sIiwidXNlUHJvbXB0U3RvcmUiLCJMb2NhbGUiLCJJY29uQnV0dG9uIiwic3R5bGVzIiwiTGlzdCIsIkxpc3RJdGVtIiwiTW9kYWwiLCJTZWxlY3RvciIsInNob3dDb25maXJtIiwic2hvd1Byb21wdCIsInNob3dUb2FzdCIsInVzZU5hdmlnYXRlIiwiQ0hBVF9QQUdFX1NJWkUiLCJMQVNUX0lOUFVUX0tFWSIsIlBhdGgiLCJSRVFVRVNUX1RJTUVPVVRfTVMiLCJVTkZJTklTSEVEX0lOUFVUIiwiQXZhdGFyIiwiQ29udGV4dFByb21wdHMiLCJNYXNrQXZhdGFyIiwiTWFza0NvbmZpZyIsInVzZU1hc2tTdG9yZSIsIkNoYXRDb21tYW5kUHJlZml4IiwidXNlQ2hhdENvbW1hbmQiLCJ1c2VDb21tYW5kIiwicHJldHR5T2JqZWN0IiwiRXhwb3J0TWVzc2FnZU1vZGFsIiwiZ2V0Q2xpZW50Q29uZmlnIiwidXNlQWxsTW9kZWxzIiwibWVzc2FnZSIsIlVwbG9hZCIsIk1hcmtkb3duIiwibG9hZGluZyIsIlNlc3Npb25Db25maWdNb2RlbCIsInByb3BzIiwiY2hhdFN0b3JlIiwic2Vzc2lvbiIsImN1cnJlbnRTZXNzaW9uIiwibWFza1N0b3JlIiwibmF2aWdhdGUiLCJkaXYiLCJjbGFzc05hbWUiLCJ0aXRsZSIsIkNvbnRleHQiLCJFZGl0Iiwib25DbG9zZSIsImFjdGlvbnMiLCJpY29uIiwiYm9yZGVyZWQiLCJ0ZXh0IiwiQ2hhdCIsIkNvbmZpZyIsIlJlc2V0Iiwib25DbGljayIsIk1lbW9yeSIsIlJlc2V0Q29uZmlybSIsInVwZGF0ZUN1cnJlbnRTZXNzaW9uIiwibWVtb3J5UHJvbXB0IiwiU2F2ZUFzIiwiTWFza3MiLCJzZXRUaW1lb3V0IiwiY3JlYXRlIiwibWFzayIsInVwZGF0ZU1hc2siLCJ1cGRhdGVyIiwic2hvdWxkU3luY0Zyb21HbG9iYWwiLCJleHRyYUxpc3RJdGVtcyIsIm1vZGVsQ29uZmlnIiwic2VuZE1lbW9yeSIsIlRpdGxlIiwibGFzdFN1bW1hcml6ZUluZGV4IiwibWVzc2FnZXMiLCJsZW5ndGgiLCJzdWJUaXRsZSIsIkVtcHR5Q29udGVudCIsIlByb21wdFRvYXN0IiwiY29udGV4dCIsInJvbGUiLCJzZXRTaG93TW9kYWwiLCJzcGFuIiwiVG9hc3QiLCJzaG93TW9kYWwiLCJ1c2VTdWJtaXRIYW5kbGVyIiwiY29uZmlnIiwic3VibWl0S2V5IiwiaXNDb21wb3NpbmciLCJpIiwicmV1c2x0IiwidGltZXIiLCJjb25zb2xlIiwibG9nIiwib25Db21wb3NpdGlvblN0YXJ0IiwiY3VycmVudCIsIm9uQ29tcG9zaXRpb25FbmQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNob3VsZFN1Ym1pdCIsImUiLCJrZXkiLCJuYXRpdmVFdmVudCIsIkFsdEVudGVyIiwiYWx0S2V5IiwiQ3RybEVudGVyIiwiY3RybEtleSIsIlNoaWZ0RW50ZXIiLCJzaGlmdEtleSIsIk1ldGFFbnRlciIsIm1ldGFLZXkiLCJFbnRlciIsIlByb21wdEhpbnRzIiwibm9Qcm9tcHRzIiwicHJvbXB0cyIsInNlbGVjdEluZGV4Iiwic2V0U2VsZWN0SW5kZXgiLCJzZWxlY3RlZFJlZiIsIm9uS2V5RG93biIsImNoYW5nZUluZGV4IiwiZGVsdGEiLCJzdG9wUHJvcGFnYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsIm5leHRJbmRleCIsIk1hdGgiLCJtYXgiLCJtaW4iLCJzY3JvbGxJbnRvVmlldyIsImJsb2NrIiwic2VsZWN0ZWRQcm9tcHQiLCJhdCIsIm9uUHJvbXB0U2VsZWN0IiwibWFwIiwicHJvbXB0IiwicmVmIiwib25Nb3VzZUVudGVyIiwiY29udGVudCIsInRvU3RyaW5nIiwiQ2xlYXJDb250ZXh0RGl2aWRlciIsImNsZWFyQ29udGV4dEluZGV4IiwidW5kZWZpbmVkIiwiQ2xlYXIiLCJSZXZlcnQiLCJDaGF0QWN0aW9uIiwiaWNvblJlZiIsInRleHRSZWYiLCJ3aWR0aCIsInNldFdpZHRoIiwiZnVsbCIsInVwZGF0ZVdpZHRoIiwiZ2V0V2lkdGgiLCJkb20iLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0ZXh0V2lkdGgiLCJpY29uV2lkdGgiLCJvblRvdWNoU3RhcnQiLCJzdHlsZSIsInVzZVNjcm9sbFRvQm90dG9tIiwic2Nyb2xsUmVmIiwiYXV0b1Njcm9sbCIsInNldEF1dG9TY3JvbGwiLCJzY3JvbGxEb21Ub0JvdHRvbSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInNjcm9sbFRvIiwic2Nyb2xsSGVpZ2h0IiwiQ2hhdEFjdGlvbnMiLCJ0aGVtZSIsIm5leHRUaGVtZSIsInRoZW1lcyIsIkF1dG8iLCJMaWdodCIsIkRhcmsiLCJ0aGVtZUluZGV4IiwiaW5kZXhPZiIsInVwZGF0ZSIsImNvdWxkU3RvcCIsImhhc1BlbmRpbmciLCJzdG9wQWxsIiwiY3VycmVudE1vZGVsIiwibW9kZWwiLCJhbGxNb2RlbHMiLCJtb2RlbHMiLCJmaWx0ZXIiLCJtIiwiYXZhaWxhYmxlIiwic2hvd01vZGVsU2VsZWN0b3IiLCJzZXRTaG93TW9kZWxTZWxlY3RvciIsImlzVW5hdmFsaWFibGVNb2RlbCIsInNvbWUiLCJuYW1lIiwibmV4dE1vZGVsIiwiSW5wdXRBY3Rpb25zIiwiU3RvcCIsImhpdEJvdHRvbSIsInNjcm9sbFRvQm90dG9tIiwiVG9Cb3R0b20iLCJzaG93UHJvbXB0TW9kYWwiLCJTZXR0aW5ncyIsInNob3dQcm9tcHRIaW50cyIsIlByb21wdCIsImRlZmF1bHRTZWxlY3RlZFZhbHVlIiwiaXRlbXMiLCJkaXNwbGF5TmFtZSIsInZhbHVlIiwib25TZWxlY3Rpb24iLCJzIiwic3luY0dsb2JhbENvbmZpZyIsIkVkaXRNZXNzYWdlTW9kYWwiLCJzZXRNZXNzYWdlcyIsInNsaWNlIiwiRWRpdE1lc3NhZ2UiLCJVSSIsIkNhbmNlbCIsInR5cGUiLCJDb25maXJtIiwiVG9waWMiLCJTdWJUaXRsZSIsImlucHV0IiwidG9waWMiLCJvbklucHV0IiwiY3VycmVudFRhcmdldCIsInVwZGF0ZUNvbnRleHQiLCJuZXdNZXNzYWdlcyIsIl9DaGF0IiwiY2xpZW50Q29uZmlnIiwiZm9udFNpemUiLCJzaG93RXhwb3J0Iiwic2V0U2hvd0V4cG9ydCIsImlucHV0UmVmIiwidXNlcklucHV0Iiwic2V0VXNlcklucHV0IiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwic2V0SGl0Qm90dG9tIiwiaXNNb2JpbGVTY3JlZW4iLCJwcm9tcHRTdG9yZSIsInByb21wdEhpbnRzIiwic2V0UHJvbXB0SGludHMiLCJvblNlYXJjaCIsIm1hdGNoZWRQcm9tcHRzIiwic2VhcmNoIiwibGVhZGluZyIsInRyYWlsaW5nIiwiaW5wdXRSb3dzIiwic2V0SW5wdXRSb3dzIiwibWVhc3VyZSIsInJvd3MiLCJOdW1iZXIiLCJjaGF0Q29tbWFuZHMiLCJuZXciLCJuZXdTZXNzaW9uIiwibmV3bSIsIk5ld0NoYXQiLCJwcmV2IiwibmV4dFNlc3Npb24iLCJuZXh0IiwiY2xlYXIiLCJkZWwiLCJkZWxldGVTZXNzaW9uIiwiY3VycmVudFNlc3Npb25JbmRleCIsIlNFQVJDSF9URVhUX0xJTUlUIiwibiIsInRyaW0iLCJzdGFydHNXaXRoIiwiZGlzYWJsZVByb21wdEhpbnQiLCJzZWFyY2hUZXh0IiwiZG9TdWJtaXQiLCJtYXRjaENvbW1hbmQiLCJtYXRjaCIsIm1hdGNoZWQiLCJpbnZva2UiLCJvblVzZXJJbnB1dCIsInRoZW4iLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiZm9jdXMiLCJtYXRjaGVkQ2hhdENvbW1hbmQiLCJvblVzZXJTdG9wIiwibWVzc2FnZUlkIiwic3RvcCIsImlkIiwic3RvcFRpbWluZyIsIkRhdGUiLCJub3ciLCJmb3JFYWNoIiwiaXNFcnJvciIsImRhdGUiLCJnZXRUaW1lIiwic3RyZWFtaW5nIiwiZXJyb3IiLCJvbklucHV0S2V5RG93biIsImdldEl0ZW0iLCJvblJpZ2h0Q2xpY2siLCJkZWxldGVNZXNzYWdlIiwibXNnSWQiLCJvbkRlbGV0ZSIsIm9uUmVzZW5kIiwiYm90TWVzc2FnZSIsInJlc2VuZGluZ0luZGV4IiwiZmluZEluZGV4IiwidXNlck1lc3NhZ2UiLCJvblBpbk1lc3NhZ2UiLCJwdXNoIiwiQWN0aW9ucyIsIlBpblRvYXN0Q29udGVudCIsIlBpblRvYXN0QWN0aW9uIiwic2V0U2hvd1Byb21wdE1vZGFsIiwiaGlkZUNvbnRleHQiLCJhY2Nlc3NTdG9yZSIsImNvcGllZEhlbGxvIiwiT2JqZWN0IiwiYXNzaWduIiwiaXNBdXRob3JpemVkIiwiRXJyb3IiLCJVbmF1dGhvcml6ZWQiLCJyZW5kZXJNZXNzYWdlcyIsImNvbmNhdCIsInByZXZpZXciLCJzZW5kUHJldmlld0J1YmJsZSIsIm1zZ1JlbmRlckluZGV4IiwiX3NldE1zZ1JlbmRlckluZGV4Iiwic2V0TXNnUmVuZGVySW5kZXgiLCJuZXdJbmRleCIsImVuZFJlbmRlckluZGV4Iiwib25DaGF0Qm9keVNjcm9sbCIsImJvdHRvbUhlaWdodCIsInNjcm9sbFRvcCIsImNsaWVudEhlaWdodCIsImVkZ2VUaHJlc2hvbGQiLCJpc1RvdWNoVG9wRWRnZSIsImlzVG91Y2hCb3R0b21FZGdlIiwiaXNIaXRCb3R0b20iLCJwcmV2UGFnZU1zZ0luZGV4IiwibmV4dFBhZ2VNc2dJbmRleCIsImF1dG9Gb2N1cyIsInNob3dNYXhJY29uIiwiaXNBcHAiLCJmaWxsIiwic3VibWl0IiwiY29kZSIsImRpc2FibGVGYXN0TGluayIsIlVSTENvbW1hbmQiLCJDb2RlIiwicmVzIiwiYWNjZXNzIiwiYWNjZXNzQ29kZSIsInNldHRpbmdzIiwicGF5bG9hZCIsIkpTT04iLCJwYXJzZSIsInVybCIsInN0cmluZ2lmeSIsIm9wZW5haUFwaUtleSIsIm9wZW5haVVybCIsImlzRWRpdGluZ01lc3NhZ2UiLCJzZXRJc0VkaXRpbmdNZXNzYWdlIiwibWF5QmVVbmZpbmlzaGVkSW5wdXQiLCJyZW1vdmVJdGVtIiwiYWN0aW9uIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJvbkNoYW5nZSIsImluZm8iLCJmaWxlIiwic3RhdHVzIiwiZmlsZUxpc3QiLCJzdWNjZXNzIiwiY2hhdCIsImRhdGEtdGF1cmktZHJhZy1yZWdpb24iLCJDaGF0TGlzdCIsIkhvbWUiLCJvbkNsaWNrQ2FwdHVyZSIsInRpZ2h0Qm9yZGVyIiwib25TY3JvbGwiLCJvbk1vdXNlRG93biIsImJsdXIiLCJpc1VzZXIiLCJpc0NvbnRleHQiLCJzaG93QWN0aW9ucyIsInNob3dUeXBpbmciLCJzaG91bGRTaG93Q2xlYXJDb250ZXh0RGl2aWRlciIsIm5ld01lc3NhZ2UiLCJmaW5kIiwiYXZhdGFyIiwiaW5jbHVkZXMiLCJSZXRyeSIsIkRlbGV0ZSIsIlBpbiIsIkNvcHkiLCJUeXBpbmciLCJvbkNvbnRleHRNZW51Iiwib25Eb3VibGVDbGlja0NhcHR1cmUiLCJwYXJlbnRSZWYiLCJkZWZhdWx0U2hvdyIsInRleHRhcmVhIiwicGxhY2Vob2xkZXIiLCJJbnB1dCIsIm9uRm9jdXMiLCJTZW5kIiwic2Vzc2lvbkluZGV4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-client)/./app/components/chat.tsx\n"));

/***/ })

});