"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-client_app_components_chat_tsx",{

/***/ "(app-client)/./app/components/chat.tsx":
/*!*********************************!*\
  !*** ./app/components/chat.tsx ***!
  \*********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Chat: function() { return /* binding */ Chat; },\n/* harmony export */   ChatActions: function() { return /* binding */ ChatActions; },\n/* harmony export */   EditMessageModal: function() { return /* binding */ EditMessageModal; },\n/* harmony export */   PromptHints: function() { return /* binding */ PromptHints; },\n/* harmony export */   SessionConfigModel: function() { return /* binding */ SessionConfigModel; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-client)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var use_debounce__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! use-debounce */ \"(app-client)/./node_modules/use-debounce/dist/index.module.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-client)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _icons_send_white_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../icons/send-white.svg */ \"(app-client)/./app/icons/send-white.svg\");\n/* harmony import */ var _icons_brain_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../icons/brain.svg */ \"(app-client)/./app/icons/brain.svg\");\n/* harmony import */ var _icons_return_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../icons/return.svg */ \"(app-client)/./app/icons/return.svg\");\n/* harmony import */ var _icons_copy_svg__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../icons/copy.svg */ \"(app-client)/./app/icons/copy.svg\");\n/* harmony import */ var _icons_three_dots_svg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../icons/three-dots.svg */ \"(app-client)/./app/icons/three-dots.svg\");\n/* harmony import */ var _icons_prompt_svg__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../icons/prompt.svg */ \"(app-client)/./app/icons/prompt.svg\");\n/* harmony import */ var _icons_mask_svg__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../icons/mask.svg */ \"(app-client)/./app/icons/mask.svg\");\n/* harmony import */ var _icons_max_svg__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../icons/max.svg */ \"(app-client)/./app/icons/max.svg\");\n/* harmony import */ var _icons_min_svg__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../icons/min.svg */ \"(app-client)/./app/icons/min.svg\");\n/* harmony import */ var _icons_reload_svg__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../icons/reload.svg */ \"(app-client)/./app/icons/reload.svg\");\n/* harmony import */ var _icons_break_svg__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../icons/break.svg */ \"(app-client)/./app/icons/break.svg\");\n/* harmony import */ var _icons_chat_settings_svg__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../icons/chat-settings.svg */ \"(app-client)/./app/icons/chat-settings.svg\");\n/* harmony import */ var _icons_confirm_svg__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../icons/confirm.svg */ \"(app-client)/./app/icons/confirm.svg\");\n/* harmony import */ var _icons_cancel_svg__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../icons/cancel.svg */ \"(app-client)/./app/icons/cancel.svg\");\n/* harmony import */ var _icons_light_svg__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../icons/light.svg */ \"(app-client)/./app/icons/light.svg\");\n/* harmony import */ var _icons_dark_svg__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../icons/dark.svg */ \"(app-client)/./app/icons/dark.svg\");\n/* harmony import */ var _icons_auto_svg__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../icons/auto.svg */ \"(app-client)/./app/icons/auto.svg\");\n/* harmony import */ var _icons_bottom_svg__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../icons/bottom.svg */ \"(app-client)/./app/icons/bottom.svg\");\n/* harmony import */ var _icons_pause_svg__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../icons/pause.svg */ \"(app-client)/./app/icons/pause.svg\");\n/* harmony import */ var _icons_robot_svg__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../icons/robot.svg */ \"(app-client)/./app/icons/robot.svg\");\n/* harmony import */ var _icons_motai_svg__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../icons/motai.svg */ \"(app-client)/./app/icons/motai.svg\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../store */ \"(app-client)/./app/store/index.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../utils */ \"(app-client)/./app/utils.ts\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! next/dynamic */ \"(app-client)/./node_modules/next/dist/shared/lib/app-dynamic.js\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(next_dynamic__WEBPACK_IMPORTED_MODULE_25__);\n/* harmony import */ var _client_controller__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../client/controller */ \"(app-client)/./app/client/controller.ts\");\n/* harmony import */ var _store_prompt__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../store/prompt */ \"(app-client)/./app/store/prompt.ts\");\n/* harmony import */ var _locales__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../locales */ \"(app-client)/./app/locales/index.ts\");\n/* harmony import */ var _button__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./button */ \"(app-client)/./app/components/button.tsx\");\n/* harmony import */ var _chat_module_scss__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./chat.module.scss */ \"(app-client)/./app/components/chat.module.scss\");\n/* harmony import */ var _chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default = /*#__PURE__*/__webpack_require__.n(_chat_module_scss__WEBPACK_IMPORTED_MODULE_40__);\n/* harmony import */ var _ui_lib__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./ui-lib */ \"(app-client)/./app/components/ui-lib.tsx\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! react-router-dom */ \"(app-client)/./node_modules/react-router/dist/index.js\");\n/* harmony import */ var _constant__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../constant */ \"(app-client)/./app/constant.ts\");\n/* harmony import */ var _mask__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./mask */ \"(app-client)/./app/components/mask.tsx\");\n/* harmony import */ var _store_mask__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../store/mask */ \"(app-client)/./app/store/mask.ts\");\n/* harmony import */ var _command__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../command */ \"(app-client)/./app/command.ts\");\n/* harmony import */ var _utils_format__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../utils/format */ \"(app-client)/./app/utils/format.ts\");\n/* harmony import */ var _exporter__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./exporter */ \"(app-client)/./app/components/exporter.tsx\");\n/* harmony import */ var _config_client__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../config/client */ \"(app-client)/./app/config/client.ts\");\n/* harmony import */ var _utils_hooks__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../utils/hooks */ \"(app-client)/./app/utils/hooks.ts\");\n/* harmony import */ var antd_lib_message__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! antd/lib/message */ \"(app-client)/./node_modules/antd/lib/message/index.js\");\n/* harmony import */ var antd_lib_upload__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! antd/lib/upload */ \"(app-client)/./node_modules/antd/lib/upload/index.js\");\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$(), _s3 = $RefreshSig$(), _s4 = $RefreshSig$(), _s5 = $RefreshSig$(), _s6 = $RefreshSig$(), _s7 = $RefreshSig$(), _s8 = $RefreshSig$(), _s9 = $RefreshSig$(), _s10 = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Markdown = next_dynamic__WEBPACK_IMPORTED_MODULE_25___default()(_c = async ()=>(await __webpack_require__.e(/*! import() */ \"_app-client_app_components_markdown_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ./markdown */ \"(app-client)/./app/components/markdown.tsx\"))).Markdown, {\n    loadableGenerated: {\n        modules: [\n            \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx -> \" + \"./markdown\"\n        ]\n    },\n    loading: ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_three_dots_svg__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}, void 0, false, {\n            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n            lineNumber: 94,\n            columnNumber: 18\n        }, undefined)\n});\n_c1 = Markdown;\nfunction SessionConfigModel(props) {\n    _s();\n    const chatStore = (0,_store__WEBPACK_IMPORTED_MODULE_23__.useChatStore)();\n    const session = chatStore.currentSession();\n    const maskStore = (0,_store_mask__WEBPACK_IMPORTED_MODULE_33__.useMaskStore)();\n    const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_39__.useNavigate)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"modal-mask\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_lib__WEBPACK_IMPORTED_MODULE_30__.Modal, {\n            title: _locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].Context.Edit,\n            onClose: ()=>props.onClose(),\n            actions: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_button__WEBPACK_IMPORTED_MODULE_29__.IconButton, {\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_reload_svg__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {}, void 0, false, void 0, void 0),\n                    bordered: true,\n                    text: _locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].Chat.Config.Reset,\n                    onClick: async ()=>{\n                        if (await (0,_ui_lib__WEBPACK_IMPORTED_MODULE_30__.showConfirm)(_locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].Memory.ResetConfirm)) {\n                            chatStore.updateCurrentSession((session)=>session.memoryPrompt = \"\");\n                        }\n                    }\n                }, \"reset\", false, void 0, void 0),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_button__WEBPACK_IMPORTED_MODULE_29__.IconButton, {\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_copy_svg__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {}, void 0, false, void 0, void 0),\n                    bordered: true,\n                    text: _locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].Chat.Config.SaveAs,\n                    onClick: ()=>{\n                        navigate(_constant__WEBPACK_IMPORTED_MODULE_31__.Path.Masks);\n                        setTimeout(()=>{\n                            maskStore.create(session.mask);\n                        }, 500);\n                    }\n                }, \"copy\", false, void 0, void 0)\n            ],\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mask__WEBPACK_IMPORTED_MODULE_32__.MaskConfig, {\n                mask: session.mask,\n                updateMask: (updater)=>{\n                    const mask = {\n                        ...session.mask\n                    };\n                    updater(mask);\n                    chatStore.updateCurrentSession((session)=>session.mask = mask);\n                },\n                shouldSyncFromGlobal: true,\n                extraListItems: session.mask.modelConfig.sendMemory ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_lib__WEBPACK_IMPORTED_MODULE_30__.ListItem, {\n                    className: \"copyable\",\n                    title: \"\".concat(_locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].Memory.Title, \" (\").concat(session.lastSummarizeIndex, \" of \").concat(session.messages.length, \")\"),\n                    subTitle: session.memoryPrompt || _locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].Memory.EmptyContent\n                }, void 0, false, void 0, void 0) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}, void 0, false)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 136,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n            lineNumber: 105,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n        lineNumber: 104,\n        columnNumber: 5\n    }, this);\n}\n_s(SessionConfigModel, \"z78RVOGmEODqWKBe7iegWqnpLi4=\", false, function() {\n    return [\n        _store__WEBPACK_IMPORTED_MODULE_23__.useChatStore,\n        _store_mask__WEBPACK_IMPORTED_MODULE_33__.useMaskStore,\n        react_router_dom__WEBPACK_IMPORTED_MODULE_39__.useNavigate\n    ];\n});\n_c2 = SessionConfigModel;\nfunction PromptToast(props) {\n    _s1();\n    const chatStore = (0,_store__WEBPACK_IMPORTED_MODULE_23__.useChatStore)();\n    const session = chatStore.currentSession();\n    const context = session.mask.context;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"prompt-toast\"]),\n        children: [\n            props.showToast && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"prompt-toast-inner\"]) + \" clickable\",\n                role: \"button\",\n                onClick: ()=>props.setShowModal(true),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_brain_svg__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {}, void 0, false, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 178,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"prompt-toast-content\"]),\n                        children: _locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].Context.Toast(context.length)\n                    }, void 0, false, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 179,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 173,\n                columnNumber: 9\n            }, this),\n            props.showModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SessionConfigModel, {\n                onClose: ()=>props.setShowModal(false)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 185,\n                columnNumber: 9\n            }, this)\n        ]\n    }, \"prompt-toast\", true, {\n        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n        lineNumber: 171,\n        columnNumber: 5\n    }, this);\n}\n_s1(PromptToast, \"VEZRjRiHFhGEe/E6z12rT6r9BBA=\", false, function() {\n    return [\n        _store__WEBPACK_IMPORTED_MODULE_23__.useChatStore\n    ];\n});\n_c3 = PromptToast;\nfunction useSubmitHandler() {\n    _s2();\n    const config = (0,_store__WEBPACK_IMPORTED_MODULE_23__.useAppConfig)();\n    const submitKey = config.submitKey;\n    const isComposing = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        for(var i = 1; i <= 5; i++){\n            setTimeout(function timer() {\n                console.log(i);\n            }, 0);\n        }\n        const onCompositionStart = ()=>{\n            isComposing.current = true;\n        };\n        const onCompositionEnd = ()=>{\n            isComposing.current = false;\n        };\n        window.addEventListener(\"compositionstart\", onCompositionStart);\n        window.addEventListener(\"compositionend\", onCompositionEnd);\n        return ()=>{\n            window.removeEventListener(\"compositionstart\", onCompositionStart);\n            window.removeEventListener(\"compositionend\", onCompositionEnd);\n        };\n    }, []);\n    const shouldSubmit = (e)=>{\n        if (e.key !== \"Enter\") return false;\n        if (e.key === \"Enter\" && (e.nativeEvent.isComposing || isComposing.current)) return false;\n        return config.submitKey === _store__WEBPACK_IMPORTED_MODULE_23__.SubmitKey.AltEnter && e.altKey || config.submitKey === _store__WEBPACK_IMPORTED_MODULE_23__.SubmitKey.CtrlEnter && e.ctrlKey || config.submitKey === _store__WEBPACK_IMPORTED_MODULE_23__.SubmitKey.ShiftEnter && e.shiftKey || config.submitKey === _store__WEBPACK_IMPORTED_MODULE_23__.SubmitKey.MetaEnter && e.metaKey || config.submitKey === _store__WEBPACK_IMPORTED_MODULE_23__.SubmitKey.Enter && !e.altKey && !e.ctrlKey && !e.shiftKey && !e.metaKey;\n    };\n    return {\n        submitKey,\n        shouldSubmit\n    };\n}\n_s2(useSubmitHandler, \"RhLmiAbheqFHJx+YtGZ+eIpCF80=\", false, function() {\n    return [\n        _store__WEBPACK_IMPORTED_MODULE_23__.useAppConfig\n    ];\n});\nfunction PromptHints(props) {\n    _s3();\n    const noPrompts = props.prompts.length === 0;\n    const [selectIndex, setSelectIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const selectedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setSelectIndex(0);\n    }, [\n        props.prompts.length\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const onKeyDown = (e)=>{\n            if (noPrompts || e.metaKey || e.altKey || e.ctrlKey) {\n                return;\n            }\n            // arrow up / down to select prompt\n            const changeIndex = (delta)=>{\n                var _selectedRef_current;\n                e.stopPropagation();\n                e.preventDefault();\n                const nextIndex = Math.max(0, Math.min(props.prompts.length - 1, selectIndex + delta));\n                setSelectIndex(nextIndex);\n                (_selectedRef_current = selectedRef.current) === null || _selectedRef_current === void 0 ? void 0 : _selectedRef_current.scrollIntoView({\n                    block: \"center\"\n                });\n            };\n            if (e.key === \"ArrowUp\") {\n                changeIndex(1);\n            } else if (e.key === \"ArrowDown\") {\n                changeIndex(-1);\n            } else if (e.key === \"Enter\") {\n                const selectedPrompt = props.prompts.at(selectIndex);\n                if (selectedPrompt) {\n                    props.onPromptSelect(selectedPrompt);\n                }\n            }\n        };\n        window.addEventListener(\"keydown\", onKeyDown);\n        return ()=>window.removeEventListener(\"keydown\", onKeyDown);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        props.prompts.length,\n        selectIndex\n    ]);\n    if (noPrompts) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"prompt-hints\"]),\n        children: props.prompts.map((prompt, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: i === selectIndex ? selectedRef : null,\n                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"prompt-hint\"]) + \" \".concat(i === selectIndex ? (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"prompt-hint-selected\"]) : \"\"),\n                onClick: ()=>props.onPromptSelect(prompt),\n                onMouseEnter: ()=>setSelectIndex(i),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"hint-title\"]),\n                        children: prompt.title\n                    }, void 0, false, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 308,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"hint-content\"]),\n                        children: prompt.content\n                    }, void 0, false, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 309,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, prompt.title + i.toString(), true, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 298,\n                columnNumber: 9\n            }, this))\n    }, void 0, false, {\n        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n        lineNumber: 296,\n        columnNumber: 5\n    }, this);\n}\n_s3(PromptHints, \"qRy81yzrODnly+hCrZ8AH+LDmLY=\");\n_c4 = PromptHints;\nfunction ClearContextDivider() {\n    _s4();\n    const chatStore = (0,_store__WEBPACK_IMPORTED_MODULE_23__.useChatStore)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"clear-context\"]),\n        onClick: ()=>chatStore.updateCurrentSession((session)=>session.clearContextIndex = undefined),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"clear-context-tips\"]),\n                children: _locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].Context.Clear\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 328,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"clear-context-revert-btn\"]),\n                children: _locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].Context.Revert\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 329,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n        lineNumber: 320,\n        columnNumber: 5\n    }, this);\n}\n_s4(ClearContextDivider, \"VEZRjRiHFhGEe/E6z12rT6r9BBA=\", false, function() {\n    return [\n        _store__WEBPACK_IMPORTED_MODULE_23__.useChatStore\n    ];\n});\n_c5 = ClearContextDivider;\nfunction ChatAction(props) {\n    _s5();\n    const iconRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const textRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [width, setWidth] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        full: 16,\n        icon: 16\n    });\n    function updateWidth() {\n        if (!iconRef.current || !textRef.current) return;\n        const getWidth = (dom)=>dom.getBoundingClientRect().width;\n        const textWidth = getWidth(textRef.current);\n        const iconWidth = getWidth(iconRef.current);\n        setWidth({\n            full: textWidth + iconWidth,\n            icon: iconWidth\n        });\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"\".concat((_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"chat-input-action\"]), \" clickable\"),\n        onClick: ()=>{\n            props.onClick();\n            setTimeout(updateWidth, 1);\n        },\n        onMouseEnter: updateWidth,\n        onTouchStart: updateWidth,\n        style: {\n            \"--icon-width\": \"\".concat(width.icon, \"px\"),\n            \"--full-width\": \"\".concat(width.full, \"px\")\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: iconRef,\n                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default().icon),\n                children: props.icon\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 375,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default().text),\n                ref: textRef,\n                children: props.text\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 378,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n        lineNumber: 360,\n        columnNumber: 5\n    }, this);\n}\n_s5(ChatAction, \"6GyWLM0xTk1RJLP38MM5lMkPPOo=\");\n_c6 = ChatAction;\nfunction useScrollToBottom() {\n    _s6();\n    // for auto-scroll\n    const scrollRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [autoScroll, setAutoScroll] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    function scrollDomToBottom() {\n        const dom = scrollRef.current;\n        if (dom) {\n            requestAnimationFrame(()=>{\n                setAutoScroll(true);\n                dom.scrollTo(0, dom.scrollHeight);\n            });\n        }\n    }\n    // auto scroll\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (autoScroll) {\n            scrollDomToBottom();\n        }\n    });\n    return {\n        scrollRef,\n        autoScroll,\n        setAutoScroll,\n        scrollDomToBottom\n    };\n}\n_s6(useScrollToBottom, \"yJQBBh+OiMUyHghtCC5WHUlLfio=\");\nfunction ChatActions(props) {\n    _s7();\n    const config = (0,_store__WEBPACK_IMPORTED_MODULE_23__.useAppConfig)();\n    const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_39__.useNavigate)();\n    const chatStore = (0,_store__WEBPACK_IMPORTED_MODULE_23__.useChatStore)();\n    // switch themes\n    const theme = config.theme;\n    function nextTheme() {\n        const themes = [\n            _store__WEBPACK_IMPORTED_MODULE_23__.Theme.Auto,\n            _store__WEBPACK_IMPORTED_MODULE_23__.Theme.Light,\n            _store__WEBPACK_IMPORTED_MODULE_23__.Theme.Dark\n        ];\n        const themeIndex = themes.indexOf(theme);\n        const nextIndex = (themeIndex + 1) % themes.length;\n        const nextTheme = themes[nextIndex];\n        config.update((config)=>config.theme = nextTheme);\n    }\n    // stop all responses\n    const couldStop = _client_controller__WEBPACK_IMPORTED_MODULE_26__.ChatControllerPool.hasPending();\n    const stopAll = ()=>_client_controller__WEBPACK_IMPORTED_MODULE_26__.ChatControllerPool.stopAll();\n    // switch model\n    const currentModel = chatStore.currentSession().mask.modelConfig.model;\n    const allModels = (0,_utils_hooks__WEBPACK_IMPORTED_MODULE_38__.useAllModels)();\n    const models = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>allModels.filter((m)=>m.available), [\n        allModels\n    ]);\n    const [showModelSelector, setShowModelSelector] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // if current model is not available\n        // switch to first available model\n        const isUnavaliableModel = !models.some((m)=>m.name === currentModel);\n        if (isUnavaliableModel && models.length > 0) {\n            const nextModel = models[0].name;\n            chatStore.updateCurrentSession((session)=>session.mask.modelConfig.model = nextModel);\n            (0,_ui_lib__WEBPACK_IMPORTED_MODULE_30__.showToast)(nextModel);\n        }\n    }, [\n        chatStore,\n        currentModel,\n        models\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"chat-input-actions\"]),\n        children: [\n            couldStop && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                onClick: stopAll,\n                text: _locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].Chat.InputActions.Stop,\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_pause_svg__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {}, void 0, false, void 0, void 0)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 464,\n                columnNumber: 9\n            }, this),\n            !props.hitBottom && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                onClick: props.scrollToBottom,\n                text: _locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].Chat.InputActions.ToBottom,\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_bottom_svg__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {}, void 0, false, void 0, void 0)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 471,\n                columnNumber: 9\n            }, this),\n            props.hitBottom && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                onClick: props.showPromptModal,\n                text: _locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].Chat.InputActions.Settings,\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_chat_settings_svg__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {}, void 0, false, void 0, void 0)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 478,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                onClick: nextTheme,\n                text: _locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].Chat.InputActions.Theme[theme],\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: theme === _store__WEBPACK_IMPORTED_MODULE_23__.Theme.Auto ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_auto_svg__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {}, void 0, false, void 0, void 0) : theme === _store__WEBPACK_IMPORTED_MODULE_23__.Theme.Light ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_light_svg__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {}, void 0, false, void 0, void 0) : theme === _store__WEBPACK_IMPORTED_MODULE_23__.Theme.Dark ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_dark_svg__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {}, void 0, false, void 0, void 0) : null\n                }, void 0, false)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 485,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                onClick: props.showPromptHints,\n                text: _locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].Chat.InputActions.Prompt,\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_prompt_svg__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {}, void 0, false, void 0, void 0)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 501,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                onClick: ()=>{\n                    navigate(_constant__WEBPACK_IMPORTED_MODULE_31__.Path.Masks);\n                },\n                text: _locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].Chat.InputActions.Masks,\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_mask_svg__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {}, void 0, false, void 0, void 0)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 507,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                text: _locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].Chat.InputActions.Clear,\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_break_svg__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {}, void 0, false, void 0, void 0),\n                onClick: ()=>{\n                    chatStore.updateCurrentSession((session)=>{\n                        if (session.clearContextIndex === session.messages.length) {\n                            session.clearContextIndex = undefined;\n                        } else {\n                            session.clearContextIndex = session.messages.length;\n                            session.memoryPrompt = \"\"; // will clear memory\n                        }\n                    });\n                }\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 515,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                onClick: ()=>setShowModelSelector(true),\n                text: currentModel,\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_robot_svg__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {}, void 0, false, void 0, void 0)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 530,\n                columnNumber: 7\n            }, this),\n            showModelSelector && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_lib__WEBPACK_IMPORTED_MODULE_30__.Selector, {\n                defaultSelectedValue: currentModel,\n                items: models.map((m)=>({\n                        title: m.displayName,\n                        value: m.name\n                    })),\n                onClose: ()=>setShowModelSelector(false),\n                onSelection: (s)=>{\n                    if (s.length === 0) return;\n                    chatStore.updateCurrentSession((session)=>{\n                        session.mask.modelConfig.model = s[0];\n                        session.mask.syncGlobalConfig = false;\n                    });\n                    (0,_ui_lib__WEBPACK_IMPORTED_MODULE_30__.showToast)(s[0]);\n                }\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 537,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n        lineNumber: 462,\n        columnNumber: 5\n    }, this);\n}\n_s7(ChatActions, \"SKdCl+52LLR0RuP2XyyUMMA35fc=\", false, function() {\n    return [\n        _store__WEBPACK_IMPORTED_MODULE_23__.useAppConfig,\n        react_router_dom__WEBPACK_IMPORTED_MODULE_39__.useNavigate,\n        _store__WEBPACK_IMPORTED_MODULE_23__.useChatStore,\n        _utils_hooks__WEBPACK_IMPORTED_MODULE_38__.useAllModels\n    ];\n});\n_c7 = ChatActions;\nfunction EditMessageModal(props) {\n    _s8();\n    const chatStore = (0,_store__WEBPACK_IMPORTED_MODULE_23__.useChatStore)();\n    const session = chatStore.currentSession();\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(session.messages.slice());\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"modal-mask\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_lib__WEBPACK_IMPORTED_MODULE_30__.Modal, {\n            title: _locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].Chat.EditMessage.Title,\n            onClose: props.onClose,\n            actions: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_button__WEBPACK_IMPORTED_MODULE_29__.IconButton, {\n                    text: _locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].UI.Cancel,\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_cancel_svg__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {}, void 0, false, void 0, void 0),\n                    onClick: ()=>{\n                        props.onClose();\n                    }\n                }, \"cancel\", false, void 0, void 0),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_button__WEBPACK_IMPORTED_MODULE_29__.IconButton, {\n                    type: \"primary\",\n                    text: _locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].UI.Confirm,\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_confirm_svg__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {}, void 0, false, void 0, void 0),\n                    onClick: ()=>{\n                        chatStore.updateCurrentSession((session)=>session.messages = messages);\n                        props.onClose();\n                    }\n                }, \"ok\", false, void 0, void 0)\n            ],\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_lib__WEBPACK_IMPORTED_MODULE_30__.List, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_lib__WEBPACK_IMPORTED_MODULE_30__.ListItem, {\n                        title: _locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].Chat.EditMessage.Topic.Title,\n                        subTitle: _locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].Chat.EditMessage.Topic.SubTitle,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"text\",\n                            value: session.topic,\n                            onInput: (e)=>chatStore.updateCurrentSession((session)=>session.topic = e.currentTarget.value)\n                        }, void 0, false, {\n                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                            lineNumber: 596,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 592,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                    lineNumber: 591,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mask__WEBPACK_IMPORTED_MODULE_32__.ContextPrompts, {\n                    context: messages,\n                    updateContext: (updater)=>{\n                        const newMessages = messages.slice();\n                        updater(newMessages);\n                        setMessages(newMessages);\n                    }\n                }, void 0, false, {\n                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                    lineNumber: 607,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n            lineNumber: 565,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n        lineNumber: 564,\n        columnNumber: 5\n    }, this);\n}\n_s8(EditMessageModal, \"PNpuWAMa1wFKZALzUiT027BVX2s=\", false, function() {\n    return [\n        _store__WEBPACK_IMPORTED_MODULE_23__.useChatStore\n    ];\n});\n_c8 = EditMessageModal;\nfunction _Chat() {\n    var _session_messages_at, _clientConfig;\n    _s9();\n    const chatStore = (0,_store__WEBPACK_IMPORTED_MODULE_23__.useChatStore)();\n    const session = chatStore.currentSession();\n    const config = (0,_store__WEBPACK_IMPORTED_MODULE_23__.useAppConfig)();\n    const fontSize = config.fontSize;\n    const [showExport, setShowExport] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [userInput, setUserInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { submitKey, shouldSubmit } = useSubmitHandler();\n    const { scrollRef, setAutoScroll, scrollDomToBottom } = useScrollToBottom();\n    const [hitBottom, setHitBottom] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const isMobileScreen = (0,_utils__WEBPACK_IMPORTED_MODULE_24__.useMobileScreen)();\n    const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_39__.useNavigate)();\n    // prompt hints\n    const promptStore = (0,_store_prompt__WEBPACK_IMPORTED_MODULE_27__.usePromptStore)();\n    const [promptHints, setPromptHints] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const onSearch = (0,use_debounce__WEBPACK_IMPORTED_MODULE_41__.useDebouncedCallback)((text)=>{\n        const matchedPrompts = promptStore.search(text);\n        setPromptHints(matchedPrompts);\n    }, 100, {\n        leading: true,\n        trailing: true\n    });\n    // auto grow input\n    const [inputRows, setInputRows] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(2);\n    const measure = (0,use_debounce__WEBPACK_IMPORTED_MODULE_41__.useDebouncedCallback)(()=>{\n        const rows = inputRef.current ? (0,_utils__WEBPACK_IMPORTED_MODULE_24__.autoGrowTextArea)(inputRef.current) : 1;\n        const inputRows = Math.min(20, Math.max(2 + Number(!isMobileScreen), rows));\n        setInputRows(inputRows);\n    }, 100, {\n        leading: true,\n        trailing: true\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(measure, [\n        userInput\n    ]);\n    // chat commands shortcuts\n    const chatCommands = (0,_command__WEBPACK_IMPORTED_MODULE_34__.useChatCommand)({\n        new: ()=>chatStore.newSession(),\n        newm: ()=>navigate(_constant__WEBPACK_IMPORTED_MODULE_31__.Path.NewChat),\n        prev: ()=>chatStore.nextSession(-1),\n        next: ()=>chatStore.nextSession(1),\n        clear: ()=>chatStore.updateCurrentSession((session)=>session.clearContextIndex = session.messages.length),\n        del: ()=>chatStore.deleteSession(chatStore.currentSessionIndex)\n    });\n    // only search prompts when user input is short\n    const SEARCH_TEXT_LIMIT = 30;\n    const onInput = (text)=>{\n        setUserInput(text);\n        const n = text.trim().length;\n        // clear search results\n        if (n === 0) {\n            setPromptHints([]);\n        } else if (text.startsWith(_command__WEBPACK_IMPORTED_MODULE_34__.ChatCommandPrefix)) {\n            setPromptHints(chatCommands.search(text));\n        } else if (!config.disablePromptHint && n < SEARCH_TEXT_LIMIT) {\n            // check if need to trigger auto completion\n            if (text.startsWith(\"/\")) {\n                let searchText = text.slice(1);\n                onSearch(searchText);\n            }\n        }\n    };\n    const doSubmit = (userInput)=>{\n        var _inputRef_current;\n        if (userInput.trim() === \"\") return;\n        const matchCommand = chatCommands.match(userInput);\n        if (matchCommand.matched) {\n            setUserInput(\"\");\n            setPromptHints([]);\n            matchCommand.invoke();\n            return;\n        }\n        setIsLoading(true);\n        chatStore.onUserInput(userInput).then(()=>setIsLoading(false));\n        localStorage.setItem(_constant__WEBPACK_IMPORTED_MODULE_31__.LAST_INPUT_KEY, userInput);\n        setUserInput(\"\");\n        setPromptHints([]);\n        if (!isMobileScreen) (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n        setAutoScroll(true);\n    };\n    const onPromptSelect = (prompt)=>{\n        setTimeout(()=>{\n            var _inputRef_current;\n            setPromptHints([]);\n            const matchedChatCommand = chatCommands.match(prompt.content);\n            if (matchedChatCommand.matched) {\n                // if user is selecting a chat command, just trigger it\n                matchedChatCommand.invoke();\n                setUserInput(\"\");\n            } else {\n                // or fill the prompt\n                setUserInput(prompt.content);\n            }\n            (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n        }, 30);\n    };\n    // stop response\n    const onUserStop = (messageId)=>{\n        _client_controller__WEBPACK_IMPORTED_MODULE_26__.ChatControllerPool.stop(session.id, messageId);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        chatStore.updateCurrentSession((session)=>{\n            const stopTiming = Date.now() - _constant__WEBPACK_IMPORTED_MODULE_31__.REQUEST_TIMEOUT_MS;\n            session.messages.forEach((m)=>{\n                // check if should stop all stale messages\n                if (m.isError || new Date(m.date).getTime() < stopTiming) {\n                    if (m.streaming) {\n                        m.streaming = false;\n                    }\n                    if (m.content.length === 0) {\n                        m.isError = true;\n                        m.content = (0,_utils_format__WEBPACK_IMPORTED_MODULE_35__.prettyObject)({\n                            error: true,\n                            message: \"empty response\"\n                        });\n                    }\n                }\n            });\n            // auto sync mask config from global config\n            if (session.mask.syncGlobalConfig) {\n                console.log(\"[Mask] syncing from global, name = \", session.mask.name);\n                session.mask.modelConfig = {\n                    ...config.modelConfig\n                };\n            }\n        });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    // check if should send message\n    const onInputKeyDown = (e)=>{\n        // if ArrowUp and no userInput, fill with last input\n        if (e.key === \"ArrowUp\" && userInput.length <= 0 && !(e.metaKey || e.altKey || e.ctrlKey)) {\n            var _localStorage_getItem;\n            setUserInput((_localStorage_getItem = localStorage.getItem(_constant__WEBPACK_IMPORTED_MODULE_31__.LAST_INPUT_KEY)) !== null && _localStorage_getItem !== void 0 ? _localStorage_getItem : \"\");\n            e.preventDefault();\n            return;\n        }\n        if (shouldSubmit(e) && promptHints.length === 0) {\n            doSubmit(userInput);\n            e.preventDefault();\n        }\n    };\n    const onRightClick = (e, message)=>{\n        // copy to clipboard\n        if ((0,_utils__WEBPACK_IMPORTED_MODULE_24__.selectOrCopy)(e.currentTarget, message.content)) {\n            if (userInput.length === 0) {\n                setUserInput(message.content);\n            }\n            e.preventDefault();\n        }\n    };\n    const deleteMessage = (msgId)=>{\n        chatStore.updateCurrentSession((session)=>session.messages = session.messages.filter((m)=>m.id !== msgId));\n    };\n    const onDelete = (msgId)=>{\n        deleteMessage(msgId);\n    };\n    const onResend = (message)=>{\n        var _botMessage, _inputRef_current;\n        // when it is resending a message\n        // 1. for a user's message, find the next bot response\n        // 2. for a bot's message, find the last user's input\n        // 3. delete original user input and bot's message\n        // 4. resend the user's input\n        const resendingIndex = session.messages.findIndex((m)=>m.id === message.id);\n        if (resendingIndex < 0 || resendingIndex >= session.messages.length) {\n            console.error(\"[Chat] failed to find resending message\", message);\n            return;\n        }\n        let userMessage;\n        let botMessage;\n        if (message.role === \"assistant\") {\n            // if it is resending a bot's message, find the user input for it\n            botMessage = message;\n            for(let i = resendingIndex; i >= 0; i -= 1){\n                if (session.messages[i].role === \"user\") {\n                    userMessage = session.messages[i];\n                    break;\n                }\n            }\n        } else if (message.role === \"user\") {\n            // if it is resending a user's input, find the bot's response\n            userMessage = message;\n            for(let i = resendingIndex; i < session.messages.length; i += 1){\n                if (session.messages[i].role === \"assistant\") {\n                    botMessage = session.messages[i];\n                    break;\n                }\n            }\n        }\n        if (userMessage === undefined) {\n            console.error(\"[Chat] failed to resend\", message);\n            return;\n        }\n        // delete the original messages\n        deleteMessage(userMessage.id);\n        deleteMessage((_botMessage = botMessage) === null || _botMessage === void 0 ? void 0 : _botMessage.id);\n        // resend the message\n        setIsLoading(true);\n        chatStore.onUserInput(userMessage.content).then(()=>setIsLoading(false));\n        (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n    };\n    const onPinMessage = (message)=>{\n        chatStore.updateCurrentSession((session)=>session.mask.context.push(message));\n        (0,_ui_lib__WEBPACK_IMPORTED_MODULE_30__.showToast)(_locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].Chat.Actions.PinToastContent, {\n            text: _locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].Chat.Actions.PinToastAction,\n            onClick: ()=>{\n                setShowPromptModal(true);\n            }\n        });\n    };\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        return session.mask.hideContext ? [] : session.mask.context.slice();\n    }, [\n        session.mask.context,\n        session.mask.hideContext\n    ]);\n    const accessStore = (0,_store__WEBPACK_IMPORTED_MODULE_23__.useAccessStore)();\n    if (context.length === 0 && ((_session_messages_at = session.messages.at(0)) === null || _session_messages_at === void 0 ? void 0 : _session_messages_at.content) !== _store__WEBPACK_IMPORTED_MODULE_23__.BOT_HELLO.content) {\n        const copiedHello = Object.assign({}, _store__WEBPACK_IMPORTED_MODULE_23__.BOT_HELLO);\n        if (!accessStore.isAuthorized()) {\n            copiedHello.content = _locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].Error.Unauthorized;\n        }\n        context.push(copiedHello);\n    }\n    // preview messages\n    const renderMessages = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        return context.concat(session.messages).concat(isLoading ? [\n            {\n                ...(0,_store__WEBPACK_IMPORTED_MODULE_23__.createMessage)({\n                    role: \"assistant\",\n                    content: \"……\"\n                }),\n                preview: true\n            }\n        ] : []).concat(userInput.length > 0 && config.sendPreviewBubble ? [\n            {\n                ...(0,_store__WEBPACK_IMPORTED_MODULE_23__.createMessage)({\n                    role: \"user\",\n                    content: userInput\n                }),\n                preview: true\n            }\n        ] : []);\n    }, [\n        config.sendPreviewBubble,\n        context,\n        isLoading,\n        session.messages,\n        userInput\n    ]);\n    const [msgRenderIndex, _setMsgRenderIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(Math.max(0, renderMessages.length - _constant__WEBPACK_IMPORTED_MODULE_31__.CHAT_PAGE_SIZE));\n    function setMsgRenderIndex(newIndex) {\n        newIndex = Math.min(renderMessages.length - _constant__WEBPACK_IMPORTED_MODULE_31__.CHAT_PAGE_SIZE, newIndex);\n        newIndex = Math.max(0, newIndex);\n        _setMsgRenderIndex(newIndex);\n    }\n    const messages = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const endRenderIndex = Math.min(msgRenderIndex + 3 * _constant__WEBPACK_IMPORTED_MODULE_31__.CHAT_PAGE_SIZE, renderMessages.length);\n        return renderMessages.slice(msgRenderIndex, endRenderIndex);\n    }, [\n        msgRenderIndex,\n        renderMessages\n    ]);\n    const onChatBodyScroll = (e)=>{\n        const bottomHeight = e.scrollTop + e.clientHeight;\n        const edgeThreshold = e.clientHeight;\n        const isTouchTopEdge = e.scrollTop <= edgeThreshold;\n        const isTouchBottomEdge = bottomHeight >= e.scrollHeight - edgeThreshold;\n        const isHitBottom = bottomHeight >= e.scrollHeight - (isMobileScreen ? 4 : 10);\n        const prevPageMsgIndex = msgRenderIndex - _constant__WEBPACK_IMPORTED_MODULE_31__.CHAT_PAGE_SIZE;\n        const nextPageMsgIndex = msgRenderIndex + _constant__WEBPACK_IMPORTED_MODULE_31__.CHAT_PAGE_SIZE;\n        if (isTouchTopEdge && !isTouchBottomEdge) {\n            setMsgRenderIndex(prevPageMsgIndex);\n        } else if (isTouchBottomEdge) {\n            setMsgRenderIndex(nextPageMsgIndex);\n        }\n        setHitBottom(isHitBottom);\n        setAutoScroll(isHitBottom);\n    };\n    function scrollToBottom() {\n        setMsgRenderIndex(renderMessages.length - _constant__WEBPACK_IMPORTED_MODULE_31__.CHAT_PAGE_SIZE);\n        scrollDomToBottom();\n    }\n    var _session_clearContextIndex;\n    // clear context index = context length + index in messages\n    const clearContextIndex = ((_session_clearContextIndex = session.clearContextIndex) !== null && _session_clearContextIndex !== void 0 ? _session_clearContextIndex : -1) >= 0 ? session.clearContextIndex + context.length - msgRenderIndex : -1;\n    const [showPromptModal, setShowPromptModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const clientConfig = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>(0,_config_client__WEBPACK_IMPORTED_MODULE_37__.getClientConfig)(), []);\n    const autoFocus = !isMobileScreen; // wont auto focus on mobile screen\n    const showMaxIcon = !isMobileScreen && !((_clientConfig = clientConfig) === null || _clientConfig === void 0 ? void 0 : _clientConfig.isApp);\n    (0,_command__WEBPACK_IMPORTED_MODULE_34__.useCommand)({\n        fill: setUserInput,\n        submit: (text)=>{\n            doSubmit(text);\n        },\n        code: (text)=>{\n            if (accessStore.disableFastLink) return;\n            console.log(\"[Command] got code from url: \", text);\n            (0,_ui_lib__WEBPACK_IMPORTED_MODULE_30__.showConfirm)(_locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].URLCommand.Code + \"code = \".concat(text)).then((res)=>{\n                if (res) {\n                    accessStore.update((access)=>access.accessCode = text);\n                }\n            });\n        },\n        settings: (text)=>{\n            if (accessStore.disableFastLink) return;\n            try {\n                const payload = JSON.parse(text);\n                console.log(\"[Command] got settings from url: \", payload);\n                if (payload.key || payload.url) {\n                    (0,_ui_lib__WEBPACK_IMPORTED_MODULE_30__.showConfirm)(_locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].URLCommand.Settings + \"\\n\".concat(JSON.stringify(payload, null, 4))).then((res)=>{\n                        if (!res) return;\n                        if (payload.key) {\n                            accessStore.update((access)=>access.openaiApiKey = payload.key);\n                        }\n                        if (payload.url) {\n                            accessStore.update((access)=>access.openaiUrl = payload.url);\n                        }\n                    });\n                }\n            } catch (e) {\n                console.error(\"[Command] failed to get settings from url: \", text);\n            }\n        }\n    });\n    // edit / insert message modal\n    const [isEditingMessage, setIsEditingMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // remember unfinished input\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // try to load from local storage\n        const key = (0,_constant__WEBPACK_IMPORTED_MODULE_31__.UNFINISHED_INPUT)(session.id);\n        const mayBeUnfinishedInput = localStorage.getItem(key);\n        if (mayBeUnfinishedInput && userInput.length === 0) {\n            setUserInput(mayBeUnfinishedInput);\n            localStorage.removeItem(key);\n        }\n        const dom = inputRef.current;\n        return ()=>{\n            var _dom;\n            var _dom_value;\n            localStorage.setItem(key, (_dom_value = (_dom = dom) === null || _dom === void 0 ? void 0 : _dom.value) !== null && _dom_value !== void 0 ? _dom_value : \"\");\n        };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    const props = {\n        name: \"file\",\n        action: \"https://run.mocky.io/v3/435e224c-44fb-4773-9faf-380c5e6a2188\",\n        headers: {\n            authorization: \"authorization-text\"\n        },\n        onChange (info) {\n            if (info.file.status !== \"uploading\") {\n                console.log(info.file, info.fileList);\n            }\n            if (info.file.status === \"done\") {\n                antd_lib_message__WEBPACK_IMPORTED_MODULE_42__[\"default\"].success(\"\".concat(info.file.name, \" file uploaded successfully\"));\n            } else if (info.file.status === \"error\") {\n                antd_lib_message__WEBPACK_IMPORTED_MODULE_42__[\"default\"].error(\"\".concat(info.file.name, \" file upload failed.\"));\n            }\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default().chat),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"window-header\",\n                \"data-tauri-drag-region\": true,\n                children: [\n                    isMobileScreen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"window-actions\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"window-action-button\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_button__WEBPACK_IMPORTED_MODULE_29__.IconButton, {\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_return_svg__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, void 0, void 0),\n                                bordered: true,\n                                title: _locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].Chat.Actions.ChatList,\n                                onClick: ()=>navigate(_constant__WEBPACK_IMPORTED_MODULE_31__.Path.Home)\n                            }, void 0, false, {\n                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                lineNumber: 1082,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                            lineNumber: 1081,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 1080,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"window-header-title \".concat((_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"chat-body-title\"])),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"window-header-main-title \".concat((_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"chat-body-main-title\"])),\n                                onClickCapture: ()=>setIsEditingMessage(true),\n                                children: !session.topic ? _store__WEBPACK_IMPORTED_MODULE_23__.DEFAULT_TOPIC : session.topic\n                            }, void 0, false, {\n                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                lineNumber: 1093,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"window-header-sub-title\",\n                                children: _locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].Chat.SubTitle(session.messages.length)\n                            }, void 0, false, {\n                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                lineNumber: 1099,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 1092,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"window-actions\",\n                        children: showMaxIcon && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"window-action-button\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_button__WEBPACK_IMPORTED_MODULE_29__.IconButton, {\n                                icon: config.tightBorder ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_min_svg__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {}, void 0, false, void 0, void 0) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_max_svg__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {}, void 0, false, void 0, void 0),\n                                bordered: true,\n                                onClick: ()=>{\n                                    config.update((config)=>config.tightBorder = !config.tightBorder);\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                lineNumber: 1126,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                            lineNumber: 1125,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 1104,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PromptToast, {\n                        showToast: !hitBottom,\n                        showModal: showPromptModal,\n                        setShowModal: setShowPromptModal\n                    }, void 0, false, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 1139,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 1078,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"chat-body\"]),\n                ref: scrollRef,\n                onScroll: (e)=>onChatBodyScroll(e.currentTarget),\n                onMouseDown: ()=>{\n                    var _inputRef_current;\n                    return (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.blur();\n                },\n                onTouchStart: ()=>{\n                    var _inputRef_current;\n                    (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.blur();\n                    setAutoScroll(false);\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"prompt-wrapper-title\"]),\n                                children: \"Ask a question to get started.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                lineNumber: 1158,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"prompt-wrapper-subtitle\"]),\n                                children: \"Example Prompts\"\n                            }, void 0, false, {\n                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                lineNumber: 1159,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"prompt-wrapper\"]),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"prompt-card\"]),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"prompt-card-title\"]),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                    src: \"https://www.stratosphere.io/assets/images/search/logos/ADBE.svg\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                    lineNumber: 1163,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                lineNumber: 1162,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: \" Provide an overview of Microsoft's business fundamentals.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                lineNumber: 1165,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                        lineNumber: 1161,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"prompt-card\"]),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"prompt-card-title\"]),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                    src: \"https://www.stratosphere.io/assets/images/search/logos/ADBE.svg\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                    lineNumber: 1169,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                lineNumber: 1168,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: \" Provide an overview of Microsoft's business fundamentals.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                lineNumber: 1171,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                        lineNumber: 1167,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"prompt-card\"]),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"prompt-card-title\"]),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                    src: \"https://www.stratosphere.io/assets/images/search/logos/ADBE.svg\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                    lineNumber: 1175,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                lineNumber: 1174,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: \" Provide an overview of Microsoft's business fundamentals.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                lineNumber: 1177,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                        lineNumber: 1173,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"prompt-card\"]),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"prompt-card-title\"]),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                    src: \"https://www.stratosphere.io/assets/images/search/logos/ADBE.svg\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                    lineNumber: 1181,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                lineNumber: 1180,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: \" Provide an overview of Microsoft's business fundamentals.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                lineNumber: 1183,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                        lineNumber: 1179,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"prompt-card\"]),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"prompt-card-title\"]),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                    src: \"https://www.stratosphere.io/assets/images/search/logos/ADBE.svg\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                    lineNumber: 1187,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                lineNumber: 1186,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: \" Provide an overview of Microsoft's business fundamentals.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                lineNumber: 1189,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                        lineNumber: 1185,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"prompt-card\"]),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"prompt-card-title\"]),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                    src: \"https://www.stratosphere.io/assets/images/search/logos/ADBE.svg\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                    lineNumber: 1193,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                lineNumber: 1192,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: \" Provide an overview of Microsoft's business fundamentals.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                lineNumber: 1195,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                        lineNumber: 1191,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"prompt-card\"]),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"prompt-card-title\"]),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                    src: \"https://www.stratosphere.io/assets/images/search/logos/ADBE.svg\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                    lineNumber: 1199,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                lineNumber: 1198,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: \" Provide an overview of Microsoft's business fundamentals.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                lineNumber: 1201,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                        lineNumber: 1197,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"prompt-card\"]),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"prompt-card-title\"]),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                    src: \"https://www.stratosphere.io/assets/images/search/logos/ADBE.svg\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                    lineNumber: 1205,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                lineNumber: 1204,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: \" Provide an overview of Microsoft's business fundamentals.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                lineNumber: 1207,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                        lineNumber: 1203,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"prompt-card\"]),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"prompt-card-title\"]),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                    src: \"https://www.stratosphere.io/assets/images/search/logos/ADBE.svg\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                    lineNumber: 1211,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                lineNumber: 1210,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: \" Provide an overview of Microsoft's business fundamentals.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                lineNumber: 1213,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                        lineNumber: 1209,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                lineNumber: 1160,\n                                columnNumber: 17\n                            }, this)\n                        ]\n                    }, void 0, true),\n                    messages.map((message, i)=>{\n                        const isUser = message.role === \"user\";\n                        const isContext = i < context.length;\n                        const showActions = i > 0 && !(message.preview || message.content.length === 0) && !isContext;\n                        const showTyping = message.preview || message.streaming;\n                        const shouldShowClearContextDivider = i === clearContextIndex - 1;\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: isUser ? (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"chat-message-user\"]) : (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"chat-message\"]),\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"chat-message-container\"])\n                                    }, void 0, false, {\n                                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                        lineNumber: 1234,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                    lineNumber: 1231,\n                                    columnNumber: 15\n                                }, this),\n                                shouldShowClearContextDivider && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ClearContextDivider, {}, void 0, false, {\n                                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                    lineNumber: 1347,\n                                    columnNumber: 49\n                                }, this)\n                            ]\n                        }, message.id, true, {\n                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                            lineNumber: 1230,\n                            columnNumber: 13\n                        }, this);\n                    })\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 1146,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(antd_lib_upload__WEBPACK_IMPORTED_MODULE_43__[\"default\"], {\n                ...props,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_motai_svg__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                    width: \"30px\",\n                    className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default().motai)\n                }, void 0, false, {\n                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                    lineNumber: 1354,\n                    columnNumber: 16\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 1353,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"chat-input-panel\"]),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"chat-input-panel-inner\"]),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                            ref: inputRef,\n                            className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"chat-input\"]),\n                            placeholder: _locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].Chat.Input(submitKey),\n                            onInput: (e)=>onInput(e.currentTarget.value),\n                            value: userInput,\n                            onKeyDown: onInputKeyDown,\n                            onFocus: scrollToBottom,\n                            onClick: scrollToBottom,\n                            rows: inputRows,\n                            autoFocus: autoFocus,\n                            style: {\n                                fontSize: config.fontSize\n                            }\n                        }, void 0, false, {\n                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                            lineNumber: 1376,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_button__WEBPACK_IMPORTED_MODULE_29__.IconButton, {\n                            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_send_white_svg__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {}, void 0, false, void 0, void 0),\n                            text: _locales__WEBPACK_IMPORTED_MODULE_28__[\"default\"].Chat.Send,\n                            className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_40___default()[\"chat-input-send\"]),\n                            type: \"primary\",\n                            onClick: ()=>doSubmit(userInput)\n                        }, void 0, false, {\n                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                            lineNumber: 1391,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                    lineNumber: 1375,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 1357,\n                columnNumber: 7\n            }, this),\n            showExport && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_exporter__WEBPACK_IMPORTED_MODULE_36__.ExportMessageModal, {\n                onClose: ()=>setShowExport(false)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 1402,\n                columnNumber: 9\n            }, this),\n            isEditingMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(EditMessageModal, {\n                onClose: ()=>{\n                    setIsEditingMessage(false);\n                }\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 1406,\n                columnNumber: 9\n            }, this)\n        ]\n    }, session.id, true, {\n        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n        lineNumber: 1077,\n        columnNumber: 5\n    }, this);\n}\n_s9(_Chat, \"Loe978PfWKJNd3K7rcOKUXcJhzg=\", false, function() {\n    return [\n        _store__WEBPACK_IMPORTED_MODULE_23__.useChatStore,\n        _store__WEBPACK_IMPORTED_MODULE_23__.useAppConfig,\n        useSubmitHandler,\n        useScrollToBottom,\n        _utils__WEBPACK_IMPORTED_MODULE_24__.useMobileScreen,\n        react_router_dom__WEBPACK_IMPORTED_MODULE_39__.useNavigate,\n        _store_prompt__WEBPACK_IMPORTED_MODULE_27__.usePromptStore,\n        use_debounce__WEBPACK_IMPORTED_MODULE_41__.useDebouncedCallback,\n        use_debounce__WEBPACK_IMPORTED_MODULE_41__.useDebouncedCallback,\n        _command__WEBPACK_IMPORTED_MODULE_34__.useChatCommand,\n        _store__WEBPACK_IMPORTED_MODULE_23__.useAccessStore,\n        _command__WEBPACK_IMPORTED_MODULE_34__.useCommand\n    ];\n});\nfunction Chat() {\n    _s10();\n    const chatStore = (0,_store__WEBPACK_IMPORTED_MODULE_23__.useChatStore)();\n    const sessionIndex = chatStore.currentSessionIndex;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Chat, {}, sessionIndex, false, {\n        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n        lineNumber: 1419,\n        columnNumber: 10\n    }, this);\n}\n_s10(Chat, \"VEZRjRiHFhGEe/E6z12rT6r9BBA=\", false, function() {\n    return [\n        _store__WEBPACK_IMPORTED_MODULE_23__.useChatStore\n    ];\n});\n_c9 = Chat;\nvar _c, _c1, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n$RefreshReg$(_c, \"Markdown$dynamic\");\n$RefreshReg$(_c1, \"Markdown\");\n$RefreshReg$(_c2, \"SessionConfigModel\");\n$RefreshReg$(_c3, \"PromptToast\");\n$RefreshReg$(_c4, \"PromptHints\");\n$RefreshReg$(_c5, \"ClearContextDivider\");\n$RefreshReg$(_c6, \"ChatAction\");\n$RefreshReg$(_c7, \"ChatActions\");\n$RefreshReg$(_c8, \"EditMessageModal\");\n$RefreshReg$(_c9, \"Chat\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1jbGllbnQpLy4vYXBwL2NvbXBvbmVudHMvY2hhdC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW9EO0FBUXJDO0FBQ3FDO0FBQ1Q7QUFHRTtBQUNKO0FBQ1M7QUFDTDtBQUNKO0FBQ0Y7QUFDQTtBQUNLO0FBQ0Q7QUFDVztBQUlQO0FBQ0Y7QUFDRjtBQUNGO0FBQ0E7QUFDSTtBQUNIO0FBQ0M7QUFDSjtBQVlyQjtBQU9BO0FBRWlCO0FBRXVCO0FBQ0Q7QUFDekI7QUFFTTtBQUNFO0FBVXRCO0FBQzZCO0FBTzFCO0FBRTJDO0FBQ25CO0FBQzhCO0FBQzVCO0FBQ0M7QUFDRztBQUNMO0FBRUM7QUFBQTtBQUUvQyxNQUFNcUUsV0FBVzlCLG9EQUFPQSxNQUFDLFVBQVksQ0FBQyxNQUFNLG9NQUFtQixFQUFHOEIsUUFBUTs7Ozs7O0lBQ3hFQyxTQUFTLGtCQUFNLDhEQUFDM0QsNkRBQVdBOzs7Ozs7O0FBR3RCLFNBQVM0RCxtQkFBbUJDLEtBQThCOztJQUMvRCxNQUFNQyxZQUFZNUMscURBQVlBO0lBQzlCLE1BQU02QyxVQUFVRCxVQUFVRSxjQUFjO0lBQ3hDLE1BQU1DLFlBQVlqQiwwREFBWUE7SUFDOUIsTUFBTWtCLFdBQVcxQiw4REFBV0E7SUFFNUIscUJBQ0UsOERBQUMyQjtRQUFJQyxXQUFVO2tCQUNiLDRFQUFDaEMsMkNBQUtBO1lBQ0ppQyxPQUFPdEMsaURBQU1BLENBQUN1QyxPQUFPLENBQUNDLElBQUk7WUFDMUJDLFNBQVMsSUFBTVgsTUFBTVcsT0FBTztZQUM1QkMsU0FBUzs4QkFDUCw4REFBQ3pDLGdEQUFVQTtvQkFFVDBDLG9CQUFNLDhEQUFDckUsMERBQVNBO29CQUNoQnNFLFFBQVE7b0JBQ1JDLE1BQU03QyxpREFBTUEsQ0FBQzhDLElBQUksQ0FBQ0MsTUFBTSxDQUFDQyxLQUFLO29CQUM5QkMsU0FBUzt3QkFDUCxJQUFJLE1BQU0xQyxxREFBV0Es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Q0FDTHFFLFVBQVUzSSxPQUFPMkksUUFBUTs0QkFDM0I7Ozs7OztzQ0FFRiw4REFBQ3pOLGdEQUFVQTs0QkFDVDBDLG9CQUFNLDhEQUFDOUUsNkRBQWFBOzRCQUNwQmdGLE1BQU03QyxpREFBTUEsQ0FBQzhDLElBQUksQ0FBQ2dWLElBQUk7NEJBQ3RCelYsV0FBV25DLDhFQUF5Qjs0QkFDcEM0TSxNQUFLOzRCQUNMN0osU0FBUyxJQUFNa04sU0FBU3JDOzs7Ozs7Ozs7Ozs7Ozs7OztZQUs3QkgsNEJBQ0MsOERBQUNyTSwwREFBa0JBO2dCQUFDbUIsU0FBUyxJQUFNbUwsY0FBYzs7Ozs7O1lBR2xEK0gsa0NBQ0MsOERBQUNuSjtnQkFDQy9KLFNBQVM7b0JBQ1BtVCxvQkFBb0I7Z0JBQ3RCOzs7Ozs7O09BNVU0QjVULFFBQVFpUCxFQUFFOzs7OztBQWlWaEQ7SUExeEJTekQ7O1FBR1dyTyxpREFBWUE7UUFFZkssaURBQVlBO1FBUVNzRjtRQUNvQndFO1FBRWpDMUosb0RBQWVBO1FBQ3JCYSwwREFBV0E7UUFHUlYsMERBQWNBO1FBRWpCekMsK0RBQW9CQTtRQVdyQkEsK0RBQW9CQTtRQW9CZjZELHFEQUFjQTtRQWtOZjdCLG1EQUFjQTtRQTRHbEM4QixpREFBVUE7OztBQXlhTCxTQUFTMEI7O0lBQ2QsTUFBTWYsWUFBWTVDLHFEQUFZQTtJQUM5QixNQUFNNFksZUFBZWhXLFVBQVU2TixtQkFBbUI7SUFDbEQscUJBQU8sOERBQUNwQyxXQUFXdUs7Ozs7O0FBQ3JCO0tBSmdCalY7O1FBQ0kzRCxpREFBWUE7OztNQURoQjJEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2FwcC9jb21wb25lbnRzL2NoYXQudHN4PzhkNjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRGVib3VuY2VkQ2FsbGJhY2sgfSBmcm9tIFwidXNlLWRlYm91bmNlXCI7XG5pbXBvcnQgUmVhY3QsIHtcbiAgdXNlU3RhdGUsXG4gIHVzZVJlZixcbiAgdXNlRWZmZWN0LFxuICB1c2VNZW1vLFxuICB1c2VDYWxsYmFjayxcbiAgRnJhZ21lbnQsXG59IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFNlbmRXaGl0ZUljb24gZnJvbSBcIi4uL2ljb25zL3NlbmQtd2hpdGUuc3ZnXCI7XG5pbXBvcnQgQnJhaW5JY29uIGZyb20gXCIuLi9pY29ucy9icmFpbi5zdmdcIjtcbmltcG9ydCBSZW5hbWVJY29uIGZyb20gXCIuLi9pY29ucy9yZW5hbWUuc3ZnXCI7XG5pbXBvcnQgRXhwb3J0SWNvbiBmcm9tIFwiLi4vaWNvbnMvc2hhcmUuc3ZnXCI7XG5pbXBvcnQgUmV0dXJuSWNvbiBmcm9tIFwiLi4vaWNvbnMvcmV0dXJuLnN2Z1wiO1xuaW1wb3J0IENvcHlJY29uIGZyb20gXCIuLi9pY29ucy9jb3B5LnN2Z1wiO1xuaW1wb3J0IExvYWRpbmdJY29uIGZyb20gXCIuLi9pY29ucy90aHJlZS1kb3RzLnN2Z1wiO1xuaW1wb3J0IFByb21wdEljb24gZnJvbSBcIi4uL2ljb25zL3Byb21wdC5zdmdcIjtcbmltcG9ydCBNYXNrSWNvbiBmcm9tIFwiLi4vaWNvbnMvbWFzay5zdmdcIjtcbmltcG9ydCBNYXhJY29uIGZyb20gXCIuLi9pY29ucy9tYXguc3ZnXCI7XG5pbXBvcnQgTWluSWNvbiBmcm9tIFwiLi4vaWNvbnMvbWluLnN2Z1wiO1xuaW1wb3J0IFJlc2V0SWNvbiBmcm9tIFwiLi4vaWNvbnMvcmVsb2FkLnN2Z1wiO1xuaW1wb3J0IEJyZWFrSWNvbiBmcm9tIFwiLi4vaWNvbnMvYnJlYWsuc3ZnXCI7XG5pbXBvcnQgU2V0dGluZ3NJY29uIGZyb20gXCIuLi9pY29ucy9jaGF0LXNldHRpbmdzLnN2Z1wiO1xuaW1wb3J0IERlbGV0ZUljb24gZnJvbSBcIi4uL2ljb25zL2NsZWFyLnN2Z1wiO1xuaW1wb3J0IFBpbkljb24gZnJvbSBcIi4uL2ljb25zL3Bpbi5zdmdcIjtcbmltcG9ydCBFZGl0SWNvbiBmcm9tIFwiLi4vaWNvbnMvcmVuYW1lLnN2Z1wiO1xuaW1wb3J0IENvbmZpcm1JY29uIGZyb20gXCIuLi9pY29ucy9jb25maXJtLnN2Z1wiO1xuaW1wb3J0IENhbmNlbEljb24gZnJvbSBcIi4uL2ljb25zL2NhbmNlbC5zdmdcIjtcbmltcG9ydCBMaWdodEljb24gZnJvbSBcIi4uL2ljb25zL2xpZ2h0LnN2Z1wiO1xuaW1wb3J0IERhcmtJY29uIGZyb20gXCIuLi9pY29ucy9kYXJrLnN2Z1wiO1xuaW1wb3J0IEF1dG9JY29uIGZyb20gXCIuLi9pY29ucy9hdXRvLnN2Z1wiO1xuaW1wb3J0IEJvdHRvbUljb24gZnJvbSBcIi4uL2ljb25zL2JvdHRvbS5zdmdcIjtcbmltcG9ydCBTdG9wSWNvbiBmcm9tIFwiLi4vaWNvbnMvcGF1c2Uuc3ZnXCI7XG5pbXBvcnQgUm9ib3RJY29uIGZyb20gXCIuLi9pY29ucy9yb2JvdC5zdmdcIjtcbmltcG9ydCBNb3RhaSBmcm9tIFwiLi4vaWNvbnMvbW90YWkuc3ZnXCI7XG5pbXBvcnQge1xuICBDaGF0TWVzc2FnZSxcbiAgU3VibWl0S2V5LFxuICB1c2VDaGF0U3RvcmUsXG4gIEJPVF9IRUxMTyxcbiAgY3JlYXRlTWVzc2FnZSxcbiAgdXNlQWNjZXNzU3RvcmUsXG4gIFRoZW1lLFxuICB1c2VBcHBDb25maWcsXG4gIERFRkFVTFRfVE9QSUMsXG4gIE1vZGVsVHlwZSxcbn0gZnJvbSBcIi4uL3N0b3JlXCI7XG5cbmltcG9ydCB7XG4gIGNvcHlUb0NsaXBib2FyZCxcbiAgc2VsZWN0T3JDb3B5LFxuICBhdXRvR3Jvd1RleHRBcmVhLFxuICB1c2VNb2JpbGVTY3JlZW4sXG59IGZyb20gXCIuLi91dGlsc1wiO1xuXG5pbXBvcnQgZHluYW1pYyBmcm9tIFwibmV4dC9keW5hbWljXCI7XG5cbmltcG9ydCB7IENoYXRDb250cm9sbGVyUG9vbCB9IGZyb20gXCIuLi9jbGllbnQvY29udHJvbGxlclwiO1xuaW1wb3J0IHsgUHJvbXB0LCB1c2VQcm9tcHRTdG9yZSB9IGZyb20gXCIuLi9zdG9yZS9wcm9tcHRcIjtcbmltcG9ydCBMb2NhbGUgZnJvbSBcIi4uL2xvY2FsZXNcIjtcblxuaW1wb3J0IHsgSWNvbkJ1dHRvbiB9IGZyb20gXCIuL2J1dHRvblwiO1xuaW1wb3J0IHN0eWxlcyBmcm9tIFwiLi9jaGF0Lm1vZHVsZS5zY3NzXCI7XG5cbmltcG9ydCB7XG4gIExpc3QsXG4gIExpc3RJdGVtLFxuICBNb2RhbCxcbiAgU2VsZWN0b3IsXG4gIHNob3dDb25maXJtLFxuICBzaG93UHJvbXB0LFxuICBzaG93VG9hc3QsXG59IGZyb20gXCIuL3VpLWxpYlwiO1xuaW1wb3J0IHsgdXNlTmF2aWdhdGUgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuaW1wb3J0IHtcbiAgQ0hBVF9QQUdFX1NJWkUsXG4gIExBU1RfSU5QVVRfS0VZLFxuICBQYXRoLFxuICBSRVFVRVNUX1RJTUVPVVRfTVMsXG4gIFVORklOSVNIRURfSU5QVVQsXG59IGZyb20gXCIuLi9jb25zdGFudFwiO1xuaW1wb3J0IHsgQXZhdGFyIH0gZnJvbSBcIi4vZW1vamlcIjtcbmltcG9ydCB7IENvbnRleHRQcm9tcHRzLCBNYXNrQXZhdGFyLCBNYXNrQ29uZmlnIH0gZnJvbSBcIi4vbWFza1wiO1xuaW1wb3J0IHsgdXNlTWFza1N0b3JlIH0gZnJvbSBcIi4uL3N0b3JlL21hc2tcIjtcbmltcG9ydCB7IENoYXRDb21tYW5kUHJlZml4LCB1c2VDaGF0Q29tbWFuZCwgdXNlQ29tbWFuZCB9IGZyb20gXCIuLi9jb21tYW5kXCI7XG5pbXBvcnQgeyBwcmV0dHlPYmplY3QgfSBmcm9tIFwiLi4vdXRpbHMvZm9ybWF0XCI7XG5pbXBvcnQgeyBFeHBvcnRNZXNzYWdlTW9kYWwgfSBmcm9tIFwiLi9leHBvcnRlclwiO1xuaW1wb3J0IHsgZ2V0Q2xpZW50Q29uZmlnIH0gZnJvbSBcIi4uL2NvbmZpZy9jbGllbnRcIjtcbmltcG9ydCB7IHVzZUFsbE1vZGVscyB9IGZyb20gXCIuLi91dGlscy9ob29rc1wiO1xuaW1wb3J0IHR5cGUgeyBVcGxvYWRQcm9wcyB9IGZyb20gJ2FudGQnO1xuaW1wb3J0IHsgQnV0dG9uLCBtZXNzYWdlLCBVcGxvYWQgfSBmcm9tICdhbnRkJztcblxuY29uc3QgTWFya2Rvd24gPSBkeW5hbWljKGFzeW5jICgpID0+IChhd2FpdCBpbXBvcnQoXCIuL21hcmtkb3duXCIpKS5NYXJrZG93biwge1xuICBsb2FkaW5nOiAoKSA9PiA8TG9hZGluZ0ljb24gLz4sXG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIFNlc3Npb25Db25maWdNb2RlbChwcm9wczogeyBvbkNsb3NlOiAoKSA9PiB2b2lkIH0pIHtcbiAgY29uc3QgY2hhdFN0b3JlID0gdXNlQ2hhdFN0b3JlKCk7XG4gIGNvbnN0IHNlc3Npb24gPSBjaGF0U3RvcmUuY3VycmVudFNlc3Npb24oKTtcbiAgY29uc3QgbWFza1N0b3JlID0gdXNlTWFza1N0b3JlKCk7XG4gIGNvbnN0IG5hdmlnYXRlID0gdXNlTmF2aWdhdGUoKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtbWFza1wiPlxuICAgICAgPE1vZGFsXG4gICAgICAgIHRpdGxlPXtMb2NhbGUuQ29udGV4dC5FZGl0fVxuICAgICAgICBvbkNsb3NlPXsoKSA9PiBwcm9wcy5vbkNsb3NlKCl9XG4gICAgICAgIGFjdGlvbnM9e1tcbiAgICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgICAga2V5PVwicmVzZXRcIlxuICAgICAgICAgICAgaWNvbj17PFJlc2V0SWNvbiAvPn1cbiAgICAgICAgICAgIGJvcmRlcmVkXG4gICAgICAgICAgICB0ZXh0PXtMb2NhbGUuQ2hhdC5Db25maWcuUmVzZXR9XG4gICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChhd2FpdCBzaG93Q29uZmlybShMb2NhbGUuTWVtb3J5LlJlc2V0Q29uZmlybSkpIHtcbiAgICAgICAgICAgICAgICBjaGF0U3RvcmUudXBkYXRlQ3VycmVudFNlc3Npb24oXG4gICAgICAgICAgICAgICAgICAoc2Vzc2lvbikgPT4gKHNlc3Npb24ubWVtb3J5UHJvbXB0ID0gXCJcIiksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPixcbiAgICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgICAga2V5PVwiY29weVwiXG4gICAgICAgICAgICBpY29uPXs8Q29weUljb24gLz59XG4gICAgICAgICAgICBib3JkZXJlZFxuICAgICAgICAgICAgdGV4dD17TG9jYWxlLkNoYXQuQ29uZmlnLlNhdmVBc31cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgbmF2aWdhdGUoUGF0aC5NYXNrcyk7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIG1hc2tTdG9yZS5jcmVhdGUoc2Vzc2lvbi5tYXNrKTtcbiAgICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgLz4sXG4gICAgICAgIF19XG4gICAgICA+XG4gICAgICAgIDxNYXNrQ29uZmlnXG4gICAgICAgICAgbWFzaz17c2Vzc2lvbi5tYXNrfVxuICAgICAgICAgIHVwZGF0ZU1hc2s9eyh1cGRhdGVyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtYXNrID0geyAuLi5zZXNzaW9uLm1hc2sgfTtcbiAgICAgICAgICAgIHVwZGF0ZXIobWFzayk7XG4gICAgICAgICAgICBjaGF0U3RvcmUudXBkYXRlQ3VycmVudFNlc3Npb24oKHNlc3Npb24pID0+IChzZXNzaW9uLm1hc2sgPSBtYXNrKSk7XG4gICAgICAgICAgfX1cbiAgICAgICAgICBzaG91bGRTeW5jRnJvbUdsb2JhbFxuICAgICAgICAgIGV4dHJhTGlzdEl0ZW1zPXtcbiAgICAgICAgICAgIHNlc3Npb24ubWFzay5tb2RlbENvbmZpZy5zZW5kTWVtb3J5ID8gKFxuICAgICAgICAgICAgICA8TGlzdEl0ZW1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjb3B5YWJsZVwiXG4gICAgICAgICAgICAgICAgdGl0bGU9e2Ake0xvY2FsZS5NZW1vcnkuVGl0bGV9ICgke3Nlc3Npb24ubGFzdFN1bW1hcml6ZUluZGV4fSBvZiAke3Nlc3Npb24ubWVzc2FnZXMubGVuZ3RofSlgfVxuICAgICAgICAgICAgICAgIHN1YlRpdGxlPXtzZXNzaW9uLm1lbW9yeVByb21wdCB8fCBMb2NhbGUuTWVtb3J5LkVtcHR5Q29udGVudH1cbiAgICAgICAgICAgICAgPjwvTGlzdEl0ZW0+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8PjwvPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgPjwvTWFza0NvbmZpZz5cbiAgICAgIDwvTW9kYWw+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIFByb21wdFRvYXN0KHByb3BzOiB7XG4gIHNob3dUb2FzdD86IGJvb2xlYW47XG4gIHNob3dNb2RhbD86IGJvb2xlYW47XG4gIHNldFNob3dNb2RhbDogKF86IGJvb2xlYW4pID0+IHZvaWQ7XG59KSB7XG4gIGNvbnN0IGNoYXRTdG9yZSA9IHVzZUNoYXRTdG9yZSgpO1xuICBjb25zdCBzZXNzaW9uID0gY2hhdFN0b3JlLmN1cnJlbnRTZXNzaW9uKCk7XG4gIGNvbnN0IGNvbnRleHQgPSBzZXNzaW9uLm1hc2suY29udGV4dDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbXCJwcm9tcHQtdG9hc3RcIl19IGtleT1cInByb21wdC10b2FzdFwiPlxuICAgICAge3Byb3BzLnNob3dUb2FzdCAmJiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlc1tcInByb21wdC10b2FzdC1pbm5lclwiXSArIFwiIGNsaWNrYWJsZVwifVxuICAgICAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHByb3BzLnNldFNob3dNb2RhbCh0cnVlKX1cbiAgICAgICAgPlxuICAgICAgICAgIDxCcmFpbkljb24gLz5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3N0eWxlc1tcInByb21wdC10b2FzdC1jb250ZW50XCJdfT5cbiAgICAgICAgICAgIHtMb2NhbGUuQ29udGV4dC5Ub2FzdChjb250ZXh0Lmxlbmd0aCl9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICB7cHJvcHMuc2hvd01vZGFsICYmIChcbiAgICAgICAgPFNlc3Npb25Db25maWdNb2RlbCBvbkNsb3NlPXsoKSA9PiBwcm9wcy5zZXRTaG93TW9kYWwoZmFsc2UpfSAvPlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gdXNlU3VibWl0SGFuZGxlcigpIHtcbiAgY29uc3QgY29uZmlnID0gdXNlQXBwQ29uZmlnKCk7XG4gIGNvbnN0IHN1Ym1pdEtleSA9IGNvbmZpZy5zdWJtaXRLZXk7XG4gIGNvbnN0IGlzQ29tcG9zaW5nID0gdXNlUmVmKGZhbHNlKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gNTsgaSsrKXtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gdGltZXIoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGkpXG4gICAgICB9LCAwKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgb25Db21wb3NpdGlvblN0YXJ0ID0gKCkgPT4ge1xuICAgICAgaXNDb21wb3NpbmcuY3VycmVudCA9IHRydWU7XG4gICAgfTtcbiAgICBjb25zdCBvbkNvbXBvc2l0aW9uRW5kID0gKCkgPT4ge1xuICAgICAgaXNDb21wb3NpbmcuY3VycmVudCA9IGZhbHNlO1xuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNvbXBvc2l0aW9uc3RhcnRcIiwgb25Db21wb3NpdGlvblN0YXJ0KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNvbXBvc2l0aW9uZW5kXCIsIG9uQ29tcG9zaXRpb25FbmQpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY29tcG9zaXRpb25zdGFydFwiLCBvbkNvbXBvc2l0aW9uU3RhcnQpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjb21wb3NpdGlvbmVuZFwiLCBvbkNvbXBvc2l0aW9uRW5kKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgY29uc3Qgc2hvdWxkU3VibWl0ID0gKGU6IFJlYWN0LktleWJvYXJkRXZlbnQ8SFRNTFRleHRBcmVhRWxlbWVudD4pID0+IHtcbiAgICBpZiAoZS5rZXkgIT09IFwiRW50ZXJcIikgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiICYmIChlLm5hdGl2ZUV2ZW50LmlzQ29tcG9zaW5nIHx8IGlzQ29tcG9zaW5nLmN1cnJlbnQpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiAoXG4gICAgICAoY29uZmlnLnN1Ym1pdEtleSA9PT0gU3VibWl0S2V5LkFsdEVudGVyICYmIGUuYWx0S2V5KSB8fFxuICAgICAgKGNvbmZpZy5zdWJtaXRLZXkgPT09IFN1Ym1pdEtleS5DdHJsRW50ZXIgJiYgZS5jdHJsS2V5KSB8fFxuICAgICAgKGNvbmZpZy5zdWJtaXRLZXkgPT09IFN1Ym1pdEtleS5TaGlmdEVudGVyICYmIGUuc2hpZnRLZXkpIHx8XG4gICAgICAoY29uZmlnLnN1Ym1pdEtleSA9PT0gU3VibWl0S2V5Lk1ldGFFbnRlciAmJiBlLm1ldGFLZXkpIHx8XG4gICAgICAoY29uZmlnLnN1Ym1pdEtleSA9PT0gU3VibWl0S2V5LkVudGVyICYmXG4gICAgICAgICFlLmFsdEtleSAmJlxuICAgICAgICAhZS5jdHJsS2V5ICYmXG4gICAgICAgICFlLnNoaWZ0S2V5ICYmXG4gICAgICAgICFlLm1ldGFLZXkpXG4gICAgKTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHN1Ym1pdEtleSxcbiAgICBzaG91bGRTdWJtaXQsXG4gIH07XG59XG5cbmV4cG9ydCB0eXBlIFJlbmRlclBvbXB0ID0gUGljazxQcm9tcHQsIFwidGl0bGVcIiB8IFwiY29udGVudFwiPjtcblxuZXhwb3J0IGZ1bmN0aW9uIFByb21wdEhpbnRzKHByb3BzOiB7XG4gIHByb21wdHM6IFJlbmRlclBvbXB0W107XG4gIG9uUHJvbXB0U2VsZWN0OiAocHJvbXB0OiBSZW5kZXJQb21wdCkgPT4gdm9pZDtcbn0pIHtcbiAgY29uc3Qgbm9Qcm9tcHRzID0gcHJvcHMucHJvbXB0cy5sZW5ndGggPT09IDA7XG4gIGNvbnN0IFtzZWxlY3RJbmRleCwgc2V0U2VsZWN0SW5kZXhdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IHNlbGVjdGVkUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldFNlbGVjdEluZGV4KDApO1xuICB9LCBbcHJvcHMucHJvbXB0cy5sZW5ndGhdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IG9uS2V5RG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICBpZiAobm9Qcm9tcHRzIHx8IGUubWV0YUtleSB8fCBlLmFsdEtleSB8fCBlLmN0cmxLZXkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gYXJyb3cgdXAgLyBkb3duIHRvIHNlbGVjdCBwcm9tcHRcbiAgICAgIGNvbnN0IGNoYW5nZUluZGV4ID0gKGRlbHRhOiBudW1iZXIpID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBuZXh0SW5kZXggPSBNYXRoLm1heChcbiAgICAgICAgICAwLFxuICAgICAgICAgIE1hdGgubWluKHByb3BzLnByb21wdHMubGVuZ3RoIC0gMSwgc2VsZWN0SW5kZXggKyBkZWx0YSksXG4gICAgICAgICk7XG4gICAgICAgIHNldFNlbGVjdEluZGV4KG5leHRJbmRleCk7XG4gICAgICAgIHNlbGVjdGVkUmVmLmN1cnJlbnQ/LnNjcm9sbEludG9WaWV3KHtcbiAgICAgICAgICBibG9jazogXCJjZW50ZXJcIixcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBpZiAoZS5rZXkgPT09IFwiQXJyb3dVcFwiKSB7XG4gICAgICAgIGNoYW5nZUluZGV4KDEpO1xuICAgICAgfSBlbHNlIGlmIChlLmtleSA9PT0gXCJBcnJvd0Rvd25cIikge1xuICAgICAgICBjaGFuZ2VJbmRleCgtMSk7XG4gICAgICB9IGVsc2UgaWYgKGUua2V5ID09PSBcIkVudGVyXCIpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRQcm9tcHQgPSBwcm9wcy5wcm9tcHRzLmF0KHNlbGVjdEluZGV4KTtcbiAgICAgICAgaWYgKHNlbGVjdGVkUHJvbXB0KSB7XG4gICAgICAgICAgcHJvcHMub25Qcm9tcHRTZWxlY3Qoc2VsZWN0ZWRQcm9tcHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBvbktleURvd24pO1xuXG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBvbktleURvd24pO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW3Byb3BzLnByb21wdHMubGVuZ3RoLCBzZWxlY3RJbmRleF0pO1xuXG4gIGlmIChub1Byb21wdHMpIHJldHVybiBudWxsO1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbXCJwcm9tcHQtaGludHNcIl19PlxuICAgICAge3Byb3BzLnByb21wdHMubWFwKChwcm9tcHQsIGkpID0+IChcbiAgICAgICAgPGRpdlxuICAgICAgICAgIHJlZj17aSA9PT0gc2VsZWN0SW5kZXggPyBzZWxlY3RlZFJlZiA6IG51bGx9XG4gICAgICAgICAgY2xhc3NOYW1lPXtcbiAgICAgICAgICAgIHN0eWxlc1tcInByb21wdC1oaW50XCJdICtcbiAgICAgICAgICAgIGAgJHtpID09PSBzZWxlY3RJbmRleCA/IHN0eWxlc1tcInByb21wdC1oaW50LXNlbGVjdGVkXCJdIDogXCJcIn1gXG4gICAgICAgICAgfVxuICAgICAgICAgIGtleT17cHJvbXB0LnRpdGxlICsgaS50b1N0cmluZygpfVxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHByb3BzLm9uUHJvbXB0U2VsZWN0KHByb21wdCl9XG4gICAgICAgICAgb25Nb3VzZUVudGVyPXsoKSA9PiBzZXRTZWxlY3RJbmRleChpKX1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbXCJoaW50LXRpdGxlXCJdfT57cHJvbXB0LnRpdGxlfTwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbXCJoaW50LWNvbnRlbnRcIl19Pntwcm9tcHQuY29udGVudH08L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gQ2xlYXJDb250ZXh0RGl2aWRlcigpIHtcbiAgY29uc3QgY2hhdFN0b3JlID0gdXNlQ2hhdFN0b3JlKCk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9e3N0eWxlc1tcImNsZWFyLWNvbnRleHRcIl19XG4gICAgICBvbkNsaWNrPXsoKSA9PlxuICAgICAgICBjaGF0U3RvcmUudXBkYXRlQ3VycmVudFNlc3Npb24oXG4gICAgICAgICAgKHNlc3Npb24pID0+IChzZXNzaW9uLmNsZWFyQ29udGV4dEluZGV4ID0gdW5kZWZpbmVkKSxcbiAgICAgICAgKVxuICAgICAgfVxuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbXCJjbGVhci1jb250ZXh0LXRpcHNcIl19PntMb2NhbGUuQ29udGV4dC5DbGVhcn08L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbXCJjbGVhci1jb250ZXh0LXJldmVydC1idG5cIl19PlxuICAgICAgICB7TG9jYWxlLkNvbnRleHQuUmV2ZXJ0fVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIENoYXRBY3Rpb24ocHJvcHM6IHtcbiAgdGV4dDogc3RyaW5nO1xuICBpY29uOiBKU1guRWxlbWVudDtcbiAgb25DbGljazogKCkgPT4gdm9pZDtcbn0pIHtcbiAgY29uc3QgaWNvblJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IHRleHRSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBbd2lkdGgsIHNldFdpZHRoXSA9IHVzZVN0YXRlKHtcbiAgICBmdWxsOiAxNixcbiAgICBpY29uOiAxNixcbiAgfSk7XG5cbiAgZnVuY3Rpb24gdXBkYXRlV2lkdGgoKSB7XG4gICAgaWYgKCFpY29uUmVmLmN1cnJlbnQgfHwgIXRleHRSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgIGNvbnN0IGdldFdpZHRoID0gKGRvbTogSFRNTERpdkVsZW1lbnQpID0+IGRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICBjb25zdCB0ZXh0V2lkdGggPSBnZXRXaWR0aCh0ZXh0UmVmLmN1cnJlbnQpO1xuICAgIGNvbnN0IGljb25XaWR0aCA9IGdldFdpZHRoKGljb25SZWYuY3VycmVudCk7XG4gICAgc2V0V2lkdGgoe1xuICAgICAgZnVsbDogdGV4dFdpZHRoICsgaWNvbldpZHRoLFxuICAgICAgaWNvbjogaWNvbldpZHRoLFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9e2Ake3N0eWxlc1tcImNoYXQtaW5wdXQtYWN0aW9uXCJdfSBjbGlja2FibGVgfVxuICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICBwcm9wcy5vbkNsaWNrKCk7XG4gICAgICAgIHNldFRpbWVvdXQodXBkYXRlV2lkdGgsIDEpO1xuICAgICAgfX1cbiAgICAgIG9uTW91c2VFbnRlcj17dXBkYXRlV2lkdGh9XG4gICAgICBvblRvdWNoU3RhcnQ9e3VwZGF0ZVdpZHRofVxuICAgICAgc3R5bGU9e1xuICAgICAgICB7XG4gICAgICAgICAgXCItLWljb24td2lkdGhcIjogYCR7d2lkdGguaWNvbn1weGAsXG4gICAgICAgICAgXCItLWZ1bGwtd2lkdGhcIjogYCR7d2lkdGguZnVsbH1weGAsXG4gICAgICAgIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllc1xuICAgICAgfVxuICAgID5cbiAgICAgIDxkaXYgcmVmPXtpY29uUmVmfSBjbGFzc05hbWU9e3N0eWxlc1tcImljb25cIl19PlxuICAgICAgICB7cHJvcHMuaWNvbn1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1tcInRleHRcIl19IHJlZj17dGV4dFJlZn0+XG4gICAgICAgIHtwcm9wcy50ZXh0fVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIHVzZVNjcm9sbFRvQm90dG9tKCkge1xuICAvLyBmb3IgYXV0by1zY3JvbGxcbiAgY29uc3Qgc2Nyb2xsUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgW2F1dG9TY3JvbGwsIHNldEF1dG9TY3JvbGxdID0gdXNlU3RhdGUodHJ1ZSk7XG5cbiAgZnVuY3Rpb24gc2Nyb2xsRG9tVG9Cb3R0b20oKSB7XG4gICAgY29uc3QgZG9tID0gc2Nyb2xsUmVmLmN1cnJlbnQ7XG4gICAgaWYgKGRvbSkge1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgc2V0QXV0b1Njcm9sbCh0cnVlKTtcbiAgICAgICAgZG9tLnNjcm9sbFRvKDAsIGRvbS5zY3JvbGxIZWlnaHQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gYXV0byBzY3JvbGxcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYXV0b1Njcm9sbCkge1xuICAgICAgc2Nyb2xsRG9tVG9Cb3R0b20oKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgc2Nyb2xsUmVmLFxuICAgIGF1dG9TY3JvbGwsXG4gICAgc2V0QXV0b1Njcm9sbCxcbiAgICBzY3JvbGxEb21Ub0JvdHRvbSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENoYXRBY3Rpb25zKHByb3BzOiB7XG4gIHNob3dQcm9tcHRNb2RhbDogKCkgPT4gdm9pZDtcbiAgc2Nyb2xsVG9Cb3R0b206ICgpID0+IHZvaWQ7XG4gIHNob3dQcm9tcHRIaW50czogKCkgPT4gdm9pZDtcbiAgaGl0Qm90dG9tOiBib29sZWFuO1xufSkge1xuICBjb25zdCBjb25maWcgPSB1c2VBcHBDb25maWcoKTtcbiAgY29uc3QgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpO1xuICBjb25zdCBjaGF0U3RvcmUgPSB1c2VDaGF0U3RvcmUoKTtcblxuICAvLyBzd2l0Y2ggdGhlbWVzXG4gIGNvbnN0IHRoZW1lID0gY29uZmlnLnRoZW1lO1xuICBmdW5jdGlvbiBuZXh0VGhlbWUoKSB7XG4gICAgY29uc3QgdGhlbWVzID0gW1RoZW1lLkF1dG8sIFRoZW1lLkxpZ2h0LCBUaGVtZS5EYXJrXTtcbiAgICBjb25zdCB0aGVtZUluZGV4ID0gdGhlbWVzLmluZGV4T2YodGhlbWUpO1xuICAgIGNvbnN0IG5leHRJbmRleCA9ICh0aGVtZUluZGV4ICsgMSkgJSB0aGVtZXMubGVuZ3RoO1xuICAgIGNvbnN0IG5leHRUaGVtZSA9IHRoZW1lc1tuZXh0SW5kZXhdO1xuICAgIGNvbmZpZy51cGRhdGUoKGNvbmZpZykgPT4gKGNvbmZpZy50aGVtZSA9IG5leHRUaGVtZSkpO1xuICB9XG5cbiAgLy8gc3RvcCBhbGwgcmVzcG9uc2VzXG4gIGNvbnN0IGNvdWxkU3RvcCA9IENoYXRDb250cm9sbGVyUG9vbC5oYXNQZW5kaW5nKCk7XG4gIGNvbnN0IHN0b3BBbGwgPSAoKSA9PiBDaGF0Q29udHJvbGxlclBvb2wuc3RvcEFsbCgpO1xuXG4gIC8vIHN3aXRjaCBtb2RlbFxuICBjb25zdCBjdXJyZW50TW9kZWwgPSBjaGF0U3RvcmUuY3VycmVudFNlc3Npb24oKS5tYXNrLm1vZGVsQ29uZmlnLm1vZGVsO1xuICBjb25zdCBhbGxNb2RlbHMgPSB1c2VBbGxNb2RlbHMoKTtcbiAgY29uc3QgbW9kZWxzID0gdXNlTWVtbyhcbiAgICAoKSA9PiBhbGxNb2RlbHMuZmlsdGVyKChtKSA9PiBtLmF2YWlsYWJsZSksXG4gICAgW2FsbE1vZGVsc10sXG4gICk7XG4gIGNvbnN0IFtzaG93TW9kZWxTZWxlY3Rvciwgc2V0U2hvd01vZGVsU2VsZWN0b3JdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gaWYgY3VycmVudCBtb2RlbCBpcyBub3QgYXZhaWxhYmxlXG4gICAgLy8gc3dpdGNoIHRvIGZpcnN0IGF2YWlsYWJsZSBtb2RlbFxuICAgIGNvbnN0IGlzVW5hdmFsaWFibGVNb2RlbCA9ICFtb2RlbHMuc29tZSgobSkgPT4gbS5uYW1lID09PSBjdXJyZW50TW9kZWwpO1xuICAgIGlmIChpc1VuYXZhbGlhYmxlTW9kZWwgJiYgbW9kZWxzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IG5leHRNb2RlbCA9IG1vZGVsc1swXS5uYW1lIGFzIE1vZGVsVHlwZTtcbiAgICAgIGNoYXRTdG9yZS51cGRhdGVDdXJyZW50U2Vzc2lvbihcbiAgICAgICAgKHNlc3Npb24pID0+IChzZXNzaW9uLm1hc2subW9kZWxDb25maWcubW9kZWwgPSBuZXh0TW9kZWwpLFxuICAgICAgKTtcbiAgICAgIHNob3dUb2FzdChuZXh0TW9kZWwpO1xuICAgIH1cbiAgfSwgW2NoYXRTdG9yZSwgY3VycmVudE1vZGVsLCBtb2RlbHNdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbXCJjaGF0LWlucHV0LWFjdGlvbnNcIl19PlxuICAgICAge2NvdWxkU3RvcCAmJiAoXG4gICAgICAgIDxDaGF0QWN0aW9uXG4gICAgICAgICAgb25DbGljaz17c3RvcEFsbH1cbiAgICAgICAgICB0ZXh0PXtMb2NhbGUuQ2hhdC5JbnB1dEFjdGlvbnMuU3RvcH1cbiAgICAgICAgICBpY29uPXs8U3RvcEljb24gLz59XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgICAgeyFwcm9wcy5oaXRCb3R0b20gJiYgKFxuICAgICAgICA8Q2hhdEFjdGlvblxuICAgICAgICAgIG9uQ2xpY2s9e3Byb3BzLnNjcm9sbFRvQm90dG9tfVxuICAgICAgICAgIHRleHQ9e0xvY2FsZS5DaGF0LklucHV0QWN0aW9ucy5Ub0JvdHRvbX1cbiAgICAgICAgICBpY29uPXs8Qm90dG9tSWNvbiAvPn1cbiAgICAgICAgLz5cbiAgICAgICl9XG4gICAgICB7cHJvcHMuaGl0Qm90dG9tICYmIChcbiAgICAgICAgPENoYXRBY3Rpb25cbiAgICAgICAgICBvbkNsaWNrPXtwcm9wcy5zaG93UHJvbXB0TW9kYWx9XG4gICAgICAgICAgdGV4dD17TG9jYWxlLkNoYXQuSW5wdXRBY3Rpb25zLlNldHRpbmdzfVxuICAgICAgICAgIGljb249ezxTZXR0aW5nc0ljb24gLz59XG4gICAgICAgIC8+XG4gICAgICApfVxuXG4gICAgICA8Q2hhdEFjdGlvblxuICAgICAgICBvbkNsaWNrPXtuZXh0VGhlbWV9XG4gICAgICAgIHRleHQ9e0xvY2FsZS5DaGF0LklucHV0QWN0aW9ucy5UaGVtZVt0aGVtZV19XG4gICAgICAgIGljb249e1xuICAgICAgICAgIDw+XG4gICAgICAgICAgICB7dGhlbWUgPT09IFRoZW1lLkF1dG8gPyAoXG4gICAgICAgICAgICAgIDxBdXRvSWNvbiAvPlxuICAgICAgICAgICAgKSA6IHRoZW1lID09PSBUaGVtZS5MaWdodCA/IChcbiAgICAgICAgICAgICAgPExpZ2h0SWNvbiAvPlxuICAgICAgICAgICAgKSA6IHRoZW1lID09PSBUaGVtZS5EYXJrID8gKFxuICAgICAgICAgICAgICA8RGFya0ljb24gLz5cbiAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgIDwvPlxuICAgICAgICB9XG4gICAgICAvPlxuXG4gICAgICA8Q2hhdEFjdGlvblxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5zaG93UHJvbXB0SGludHN9XG4gICAgICAgIHRleHQ9e0xvY2FsZS5DaGF0LklucHV0QWN0aW9ucy5Qcm9tcHR9XG4gICAgICAgIGljb249ezxQcm9tcHRJY29uIC8+fVxuICAgICAgLz5cblxuICAgICAgPENoYXRBY3Rpb25cbiAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgIG5hdmlnYXRlKFBhdGguTWFza3MpO1xuICAgICAgICB9fVxuICAgICAgICB0ZXh0PXtMb2NhbGUuQ2hhdC5JbnB1dEFjdGlvbnMuTWFza3N9XG4gICAgICAgIGljb249ezxNYXNrSWNvbiAvPn1cbiAgICAgIC8+XG5cbiAgICAgIDxDaGF0QWN0aW9uXG4gICAgICAgIHRleHQ9e0xvY2FsZS5DaGF0LklucHV0QWN0aW9ucy5DbGVhcn1cbiAgICAgICAgaWNvbj17PEJyZWFrSWNvbiAvPn1cbiAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgIGNoYXRTdG9yZS51cGRhdGVDdXJyZW50U2Vzc2lvbigoc2Vzc2lvbikgPT4ge1xuICAgICAgICAgICAgaWYgKHNlc3Npb24uY2xlYXJDb250ZXh0SW5kZXggPT09IHNlc3Npb24ubWVzc2FnZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHNlc3Npb24uY2xlYXJDb250ZXh0SW5kZXggPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzZXNzaW9uLmNsZWFyQ29udGV4dEluZGV4ID0gc2Vzc2lvbi5tZXNzYWdlcy5sZW5ndGg7XG4gICAgICAgICAgICAgIHNlc3Npb24ubWVtb3J5UHJvbXB0ID0gXCJcIjsgLy8gd2lsbCBjbGVhciBtZW1vcnlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfX1cbiAgICAgIC8+XG5cbiAgICAgIDxDaGF0QWN0aW9uXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dNb2RlbFNlbGVjdG9yKHRydWUpfVxuICAgICAgICB0ZXh0PXtjdXJyZW50TW9kZWx9XG4gICAgICAgIGljb249ezxSb2JvdEljb24gLz59XG4gICAgICAvPlxuXG4gICAgICB7c2hvd01vZGVsU2VsZWN0b3IgJiYgKFxuICAgICAgICA8U2VsZWN0b3JcbiAgICAgICAgICBkZWZhdWx0U2VsZWN0ZWRWYWx1ZT17Y3VycmVudE1vZGVsfVxuICAgICAgICAgIGl0ZW1zPXttb2RlbHMubWFwKChtKSA9PiAoe1xuICAgICAgICAgICAgdGl0bGU6IG0uZGlzcGxheU5hbWUsXG4gICAgICAgICAgICB2YWx1ZTogbS5uYW1lLFxuICAgICAgICAgIH0pKX1cbiAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRTaG93TW9kZWxTZWxlY3RvcihmYWxzZSl9XG4gICAgICAgICAgb25TZWxlY3Rpb249eyhzKSA9PiB7XG4gICAgICAgICAgICBpZiAocy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgICAgICAgIGNoYXRTdG9yZS51cGRhdGVDdXJyZW50U2Vzc2lvbigoc2Vzc2lvbikgPT4ge1xuICAgICAgICAgICAgICBzZXNzaW9uLm1hc2subW9kZWxDb25maWcubW9kZWwgPSBzWzBdIGFzIE1vZGVsVHlwZTtcbiAgICAgICAgICAgICAgc2Vzc2lvbi5tYXNrLnN5bmNHbG9iYWxDb25maWcgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2hvd1RvYXN0KHNbMF0pO1xuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRWRpdE1lc3NhZ2VNb2RhbChwcm9wczogeyBvbkNsb3NlOiAoKSA9PiB2b2lkIH0pIHtcbiAgY29uc3QgY2hhdFN0b3JlID0gdXNlQ2hhdFN0b3JlKCk7XG4gIGNvbnN0IHNlc3Npb24gPSBjaGF0U3RvcmUuY3VycmVudFNlc3Npb24oKTtcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZShzZXNzaW9uLm1lc3NhZ2VzLnNsaWNlKCkpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1tYXNrXCI+XG4gICAgICA8TW9kYWxcbiAgICAgICAgdGl0bGU9e0xvY2FsZS5DaGF0LkVkaXRNZXNzYWdlLlRpdGxlfVxuICAgICAgICBvbkNsb3NlPXtwcm9wcy5vbkNsb3NlfVxuICAgICAgICBhY3Rpb25zPXtbXG4gICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgIHRleHQ9e0xvY2FsZS5VSS5DYW5jZWx9XG4gICAgICAgICAgICBpY29uPXs8Q2FuY2VsSWNvbiAvPn1cbiAgICAgICAgICAgIGtleT1cImNhbmNlbFwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgIHByb3BzLm9uQ2xvc2UoKTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgLz4sXG4gICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgIHRleHQ9e0xvY2FsZS5VSS5Db25maXJtfVxuICAgICAgICAgICAgaWNvbj17PENvbmZpcm1JY29uIC8+fVxuICAgICAgICAgICAga2V5PVwib2tcIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICBjaGF0U3RvcmUudXBkYXRlQ3VycmVudFNlc3Npb24oXG4gICAgICAgICAgICAgICAgKHNlc3Npb24pID0+IChzZXNzaW9uLm1lc3NhZ2VzID0gbWVzc2FnZXMpLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBwcm9wcy5vbkNsb3NlKCk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+LFxuICAgICAgICBdfVxuICAgICAgPlxuICAgICAgICA8TGlzdD5cbiAgICAgICAgICA8TGlzdEl0ZW1cbiAgICAgICAgICAgIHRpdGxlPXtMb2NhbGUuQ2hhdC5FZGl0TWVzc2FnZS5Ub3BpYy5UaXRsZX1cbiAgICAgICAgICAgIHN1YlRpdGxlPXtMb2NhbGUuQ2hhdC5FZGl0TWVzc2FnZS5Ub3BpYy5TdWJUaXRsZX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICB2YWx1ZT17c2Vzc2lvbi50b3BpY31cbiAgICAgICAgICAgICAgb25JbnB1dD17KGUpID0+XG4gICAgICAgICAgICAgICAgY2hhdFN0b3JlLnVwZGF0ZUN1cnJlbnRTZXNzaW9uKFxuICAgICAgICAgICAgICAgICAgKHNlc3Npb24pID0+IChzZXNzaW9uLnRvcGljID0gZS5jdXJyZW50VGFyZ2V0LnZhbHVlKSxcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgID48L2lucHV0PlxuICAgICAgICAgIDwvTGlzdEl0ZW0+XG4gICAgICAgIDwvTGlzdD5cbiAgICAgICAgPENvbnRleHRQcm9tcHRzXG4gICAgICAgICAgY29udGV4dD17bWVzc2FnZXN9XG4gICAgICAgICAgdXBkYXRlQ29udGV4dD17KHVwZGF0ZXIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld01lc3NhZ2VzID0gbWVzc2FnZXMuc2xpY2UoKTtcbiAgICAgICAgICAgIHVwZGF0ZXIobmV3TWVzc2FnZXMpO1xuICAgICAgICAgICAgc2V0TWVzc2FnZXMobmV3TWVzc2FnZXMpO1xuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICA8L01vZGFsPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5mdW5jdGlvbiBfQ2hhdCgpIHtcbiAgdHlwZSBSZW5kZXJNZXNzYWdlID0gQ2hhdE1lc3NhZ2UgJiB7IHByZXZpZXc/OiBib29sZWFuIH07XG5cbiAgY29uc3QgY2hhdFN0b3JlID0gdXNlQ2hhdFN0b3JlKCk7XG4gIGNvbnN0IHNlc3Npb24gPSBjaGF0U3RvcmUuY3VycmVudFNlc3Npb24oKTtcbiAgY29uc3QgY29uZmlnID0gdXNlQXBwQ29uZmlnKCk7XG4gIGNvbnN0IGZvbnRTaXplID0gY29uZmlnLmZvbnRTaXplO1xuXG4gIGNvbnN0IFtzaG93RXhwb3J0LCBzZXRTaG93RXhwb3J0XSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBpbnB1dFJlZiA9IHVzZVJlZjxIVE1MVGV4dEFyZWFFbGVtZW50PihudWxsKTtcbiAgY29uc3QgW3VzZXJJbnB1dCwgc2V0VXNlcklucHV0XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCB7IHN1Ym1pdEtleSwgc2hvdWxkU3VibWl0IH0gPSB1c2VTdWJtaXRIYW5kbGVyKCk7XG4gIGNvbnN0IHsgc2Nyb2xsUmVmLCBzZXRBdXRvU2Nyb2xsLCBzY3JvbGxEb21Ub0JvdHRvbSB9ID0gdXNlU2Nyb2xsVG9Cb3R0b20oKTtcbiAgY29uc3QgW2hpdEJvdHRvbSwgc2V0SGl0Qm90dG9tXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBpc01vYmlsZVNjcmVlbiA9IHVzZU1vYmlsZVNjcmVlbigpO1xuICBjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XG5cbiAgLy8gcHJvbXB0IGhpbnRzXG4gIGNvbnN0IHByb21wdFN0b3JlID0gdXNlUHJvbXB0U3RvcmUoKTtcbiAgY29uc3QgW3Byb21wdEhpbnRzLCBzZXRQcm9tcHRIaW50c10gPSB1c2VTdGF0ZTxSZW5kZXJQb21wdFtdPihbXSk7XG4gIGNvbnN0IG9uU2VhcmNoID0gdXNlRGVib3VuY2VkQ2FsbGJhY2soXG4gICAgKHRleHQ6IHN0cmluZykgPT4ge1xuICAgICAgY29uc3QgbWF0Y2hlZFByb21wdHMgPSBwcm9tcHRTdG9yZS5zZWFyY2godGV4dCk7XG4gICAgICBzZXRQcm9tcHRIaW50cyhtYXRjaGVkUHJvbXB0cyk7XG4gICAgfSxcbiAgICAxMDAsXG4gICAgeyBsZWFkaW5nOiB0cnVlLCB0cmFpbGluZzogdHJ1ZSB9LFxuICApO1xuXG4gIC8vIGF1dG8gZ3JvdyBpbnB1dFxuICBjb25zdCBbaW5wdXRSb3dzLCBzZXRJbnB1dFJvd3NdID0gdXNlU3RhdGUoMik7XG4gIGNvbnN0IG1lYXN1cmUgPSB1c2VEZWJvdW5jZWRDYWxsYmFjayhcbiAgICAoKSA9PiB7XG4gICAgICBjb25zdCByb3dzID0gaW5wdXRSZWYuY3VycmVudCA/IGF1dG9Hcm93VGV4dEFyZWEoaW5wdXRSZWYuY3VycmVudCkgOiAxO1xuICAgICAgY29uc3QgaW5wdXRSb3dzID0gTWF0aC5taW4oXG4gICAgICAgIDIwLFxuICAgICAgICBNYXRoLm1heCgyICsgTnVtYmVyKCFpc01vYmlsZVNjcmVlbiksIHJvd3MpLFxuICAgICAgKTtcbiAgICAgIHNldElucHV0Um93cyhpbnB1dFJvd3MpO1xuICAgIH0sXG4gICAgMTAwLFxuICAgIHtcbiAgICAgIGxlYWRpbmc6IHRydWUsXG4gICAgICB0cmFpbGluZzogdHJ1ZSxcbiAgICB9LFxuICApO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgdXNlRWZmZWN0KG1lYXN1cmUsIFt1c2VySW5wdXRdKTtcblxuICAvLyBjaGF0IGNvbW1hbmRzIHNob3J0Y3V0c1xuICBjb25zdCBjaGF0Q29tbWFuZHMgPSB1c2VDaGF0Q29tbWFuZCh7XG4gICAgbmV3OiAoKSA9PiBjaGF0U3RvcmUubmV3U2Vzc2lvbigpLFxuICAgIG5ld206ICgpID0+IG5hdmlnYXRlKFBhdGguTmV3Q2hhdCksXG4gICAgcHJldjogKCkgPT4gY2hhdFN0b3JlLm5leHRTZXNzaW9uKC0xKSxcbiAgICBuZXh0OiAoKSA9PiBjaGF0U3RvcmUubmV4dFNlc3Npb24oMSksXG4gICAgY2xlYXI6ICgpID0+XG4gICAgICBjaGF0U3RvcmUudXBkYXRlQ3VycmVudFNlc3Npb24oXG4gICAgICAgIChzZXNzaW9uKSA9PiAoc2Vzc2lvbi5jbGVhckNvbnRleHRJbmRleCA9IHNlc3Npb24ubWVzc2FnZXMubGVuZ3RoKSxcbiAgICAgICksXG4gICAgZGVsOiAoKSA9PiBjaGF0U3RvcmUuZGVsZXRlU2Vzc2lvbihjaGF0U3RvcmUuY3VycmVudFNlc3Npb25JbmRleCksXG4gIH0pO1xuXG4gIC8vIG9ubHkgc2VhcmNoIHByb21wdHMgd2hlbiB1c2VyIGlucHV0IGlzIHNob3J0XG4gIGNvbnN0IFNFQVJDSF9URVhUX0xJTUlUID0gMzA7XG4gIGNvbnN0IG9uSW5wdXQgPSAodGV4dDogc3RyaW5nKSA9PiB7XG4gICAgc2V0VXNlcklucHV0KHRleHQpO1xuICAgIGNvbnN0IG4gPSB0ZXh0LnRyaW0oKS5sZW5ndGg7XG5cbiAgICAvLyBjbGVhciBzZWFyY2ggcmVzdWx0c1xuICAgIGlmIChuID09PSAwKSB7XG4gICAgICBzZXRQcm9tcHRIaW50cyhbXSk7XG4gICAgfSBlbHNlIGlmICh0ZXh0LnN0YXJ0c1dpdGgoQ2hhdENvbW1hbmRQcmVmaXgpKSB7XG4gICAgICBzZXRQcm9tcHRIaW50cyhjaGF0Q29tbWFuZHMuc2VhcmNoKHRleHQpKTtcbiAgICB9IGVsc2UgaWYgKCFjb25maWcuZGlzYWJsZVByb21wdEhpbnQgJiYgbiA8IFNFQVJDSF9URVhUX0xJTUlUKSB7XG4gICAgICAvLyBjaGVjayBpZiBuZWVkIHRvIHRyaWdnZXIgYXV0byBjb21wbGV0aW9uXG4gICAgICBpZiAodGV4dC5zdGFydHNXaXRoKFwiL1wiKSkge1xuICAgICAgICBsZXQgc2VhcmNoVGV4dCA9IHRleHQuc2xpY2UoMSk7XG4gICAgICAgIG9uU2VhcmNoKHNlYXJjaFRleHQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBkb1N1Ym1pdCA9ICh1c2VySW5wdXQ6IHN0cmluZykgPT4ge1xuICAgIGlmICh1c2VySW5wdXQudHJpbSgpID09PSBcIlwiKSByZXR1cm47XG4gICAgY29uc3QgbWF0Y2hDb21tYW5kID0gY2hhdENvbW1hbmRzLm1hdGNoKHVzZXJJbnB1dCk7XG4gICAgaWYgKG1hdGNoQ29tbWFuZC5tYXRjaGVkKSB7XG4gICAgICBzZXRVc2VySW5wdXQoXCJcIik7XG4gICAgICBzZXRQcm9tcHRIaW50cyhbXSk7XG4gICAgICBtYXRjaENvbW1hbmQuaW52b2tlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICBjaGF0U3RvcmUub25Vc2VySW5wdXQodXNlcklucHV0KS50aGVuKCgpID0+IHNldElzTG9hZGluZyhmYWxzZSkpO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKExBU1RfSU5QVVRfS0VZLCB1c2VySW5wdXQpO1xuICAgIHNldFVzZXJJbnB1dChcIlwiKTtcbiAgICBzZXRQcm9tcHRIaW50cyhbXSk7XG4gICAgaWYgKCFpc01vYmlsZVNjcmVlbikgaW5wdXRSZWYuY3VycmVudD8uZm9jdXMoKTtcbiAgICBzZXRBdXRvU2Nyb2xsKHRydWUpO1xuICB9O1xuXG4gIGNvbnN0IG9uUHJvbXB0U2VsZWN0ID0gKHByb21wdDogUmVuZGVyUG9tcHQpID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNldFByb21wdEhpbnRzKFtdKTtcblxuICAgICAgY29uc3QgbWF0Y2hlZENoYXRDb21tYW5kID0gY2hhdENvbW1hbmRzLm1hdGNoKHByb21wdC5jb250ZW50KTtcbiAgICAgIGlmIChtYXRjaGVkQ2hhdENvbW1hbmQubWF0Y2hlZCkge1xuICAgICAgICAvLyBpZiB1c2VyIGlzIHNlbGVjdGluZyBhIGNoYXQgY29tbWFuZCwganVzdCB0cmlnZ2VyIGl0XG4gICAgICAgIG1hdGNoZWRDaGF0Q29tbWFuZC5pbnZva2UoKTtcbiAgICAgICAgc2V0VXNlcklucHV0KFwiXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gb3IgZmlsbCB0aGUgcHJvbXB0XG4gICAgICAgIHNldFVzZXJJbnB1dChwcm9tcHQuY29udGVudCk7XG4gICAgICB9XG4gICAgICBpbnB1dFJlZi5jdXJyZW50Py5mb2N1cygpO1xuICAgIH0sIDMwKTtcbiAgfTtcblxuICAvLyBzdG9wIHJlc3BvbnNlXG4gIGNvbnN0IG9uVXNlclN0b3AgPSAobWVzc2FnZUlkOiBzdHJpbmcpID0+IHtcbiAgICBDaGF0Q29udHJvbGxlclBvb2wuc3RvcChzZXNzaW9uLmlkLCBtZXNzYWdlSWQpO1xuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY2hhdFN0b3JlLnVwZGF0ZUN1cnJlbnRTZXNzaW9uKChzZXNzaW9uKSA9PiB7XG4gICAgICBjb25zdCBzdG9wVGltaW5nID0gRGF0ZS5ub3coKSAtIFJFUVVFU1RfVElNRU9VVF9NUztcbiAgICAgIHNlc3Npb24ubWVzc2FnZXMuZm9yRWFjaCgobSkgPT4ge1xuICAgICAgICAvLyBjaGVjayBpZiBzaG91bGQgc3RvcCBhbGwgc3RhbGUgbWVzc2FnZXNcbiAgICAgICAgaWYgKG0uaXNFcnJvciB8fCBuZXcgRGF0ZShtLmRhdGUpLmdldFRpbWUoKSA8IHN0b3BUaW1pbmcpIHtcbiAgICAgICAgICBpZiAobS5zdHJlYW1pbmcpIHtcbiAgICAgICAgICAgIG0uc3RyZWFtaW5nID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtLmNvbnRlbnQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBtLmlzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgbS5jb250ZW50ID0gcHJldHR5T2JqZWN0KHtcbiAgICAgICAgICAgICAgZXJyb3I6IHRydWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZW1wdHkgcmVzcG9uc2VcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIGF1dG8gc3luYyBtYXNrIGNvbmZpZyBmcm9tIGdsb2JhbCBjb25maWdcbiAgICAgIGlmIChzZXNzaW9uLm1hc2suc3luY0dsb2JhbENvbmZpZykge1xuICAgICAgICBjb25zb2xlLmxvZyhcIltNYXNrXSBzeW5jaW5nIGZyb20gZ2xvYmFsLCBuYW1lID0gXCIsIHNlc3Npb24ubWFzay5uYW1lKTtcbiAgICAgICAgc2Vzc2lvbi5tYXNrLm1vZGVsQ29uZmlnID0geyAuLi5jb25maWcubW9kZWxDb25maWcgfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtdKTtcblxuICAvLyBjaGVjayBpZiBzaG91bGQgc2VuZCBtZXNzYWdlXG4gIGNvbnN0IG9uSW5wdXRLZXlEb3duID0gKGU6IFJlYWN0LktleWJvYXJkRXZlbnQ8SFRNTFRleHRBcmVhRWxlbWVudD4pID0+IHtcbiAgICAvLyBpZiBBcnJvd1VwIGFuZCBubyB1c2VySW5wdXQsIGZpbGwgd2l0aCBsYXN0IGlucHV0XG4gICAgaWYgKFxuICAgICAgZS5rZXkgPT09IFwiQXJyb3dVcFwiICYmXG4gICAgICB1c2VySW5wdXQubGVuZ3RoIDw9IDAgJiZcbiAgICAgICEoZS5tZXRhS2V5IHx8IGUuYWx0S2V5IHx8IGUuY3RybEtleSlcbiAgICApIHtcbiAgICAgIHNldFVzZXJJbnB1dChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShMQVNUX0lOUFVUX0tFWSkgPz8gXCJcIik7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzaG91bGRTdWJtaXQoZSkgJiYgcHJvbXB0SGludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBkb1N1Ym1pdCh1c2VySW5wdXQpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBvblJpZ2h0Q2xpY2sgPSAoZTogYW55LCBtZXNzYWdlOiBDaGF0TWVzc2FnZSkgPT4ge1xuICAgIC8vIGNvcHkgdG8gY2xpcGJvYXJkXG4gICAgaWYgKHNlbGVjdE9yQ29weShlLmN1cnJlbnRUYXJnZXQsIG1lc3NhZ2UuY29udGVudCkpIHtcbiAgICAgIGlmICh1c2VySW5wdXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHNldFVzZXJJbnB1dChtZXNzYWdlLmNvbnRlbnQpO1xuICAgICAgfVxuXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGRlbGV0ZU1lc3NhZ2UgPSAobXNnSWQ/OiBzdHJpbmcpID0+IHtcbiAgICBjaGF0U3RvcmUudXBkYXRlQ3VycmVudFNlc3Npb24oXG4gICAgICAoc2Vzc2lvbikgPT5cbiAgICAgICAgKHNlc3Npb24ubWVzc2FnZXMgPSBzZXNzaW9uLm1lc3NhZ2VzLmZpbHRlcigobSkgPT4gbS5pZCAhPT0gbXNnSWQpKSxcbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IG9uRGVsZXRlID0gKG1zZ0lkOiBzdHJpbmcpID0+IHtcbiAgICBkZWxldGVNZXNzYWdlKG1zZ0lkKTtcbiAgfTtcblxuICBjb25zdCBvblJlc2VuZCA9IChtZXNzYWdlOiBDaGF0TWVzc2FnZSkgPT4ge1xuICAgIC8vIHdoZW4gaXQgaXMgcmVzZW5kaW5nIGEgbWVzc2FnZVxuICAgIC8vIDEuIGZvciBhIHVzZXIncyBtZXNzYWdlLCBmaW5kIHRoZSBuZXh0IGJvdCByZXNwb25zZVxuICAgIC8vIDIuIGZvciBhIGJvdCdzIG1lc3NhZ2UsIGZpbmQgdGhlIGxhc3QgdXNlcidzIGlucHV0XG4gICAgLy8gMy4gZGVsZXRlIG9yaWdpbmFsIHVzZXIgaW5wdXQgYW5kIGJvdCdzIG1lc3NhZ2VcbiAgICAvLyA0LiByZXNlbmQgdGhlIHVzZXIncyBpbnB1dFxuXG4gICAgY29uc3QgcmVzZW5kaW5nSW5kZXggPSBzZXNzaW9uLm1lc3NhZ2VzLmZpbmRJbmRleChcbiAgICAgIChtKSA9PiBtLmlkID09PSBtZXNzYWdlLmlkLFxuICAgICk7XG5cbiAgICBpZiAocmVzZW5kaW5nSW5kZXggPCAwIHx8IHJlc2VuZGluZ0luZGV4ID49IHNlc3Npb24ubWVzc2FnZXMubGVuZ3RoKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiW0NoYXRdIGZhaWxlZCB0byBmaW5kIHJlc2VuZGluZyBtZXNzYWdlXCIsIG1lc3NhZ2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCB1c2VyTWVzc2FnZTogQ2hhdE1lc3NhZ2UgfCB1bmRlZmluZWQ7XG4gICAgbGV0IGJvdE1lc3NhZ2U6IENoYXRNZXNzYWdlIHwgdW5kZWZpbmVkO1xuXG4gICAgaWYgKG1lc3NhZ2Uucm9sZSA9PT0gXCJhc3Npc3RhbnRcIikge1xuICAgICAgLy8gaWYgaXQgaXMgcmVzZW5kaW5nIGEgYm90J3MgbWVzc2FnZSwgZmluZCB0aGUgdXNlciBpbnB1dCBmb3IgaXRcbiAgICAgIGJvdE1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgZm9yIChsZXQgaSA9IHJlc2VuZGluZ0luZGV4OyBpID49IDA7IGkgLT0gMSkge1xuICAgICAgICBpZiAoc2Vzc2lvbi5tZXNzYWdlc1tpXS5yb2xlID09PSBcInVzZXJcIikge1xuICAgICAgICAgIHVzZXJNZXNzYWdlID0gc2Vzc2lvbi5tZXNzYWdlc1tpXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobWVzc2FnZS5yb2xlID09PSBcInVzZXJcIikge1xuICAgICAgLy8gaWYgaXQgaXMgcmVzZW5kaW5nIGEgdXNlcidzIGlucHV0LCBmaW5kIHRoZSBib3QncyByZXNwb25zZVxuICAgICAgdXNlck1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgZm9yIChsZXQgaSA9IHJlc2VuZGluZ0luZGV4OyBpIDwgc2Vzc2lvbi5tZXNzYWdlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoc2Vzc2lvbi5tZXNzYWdlc1tpXS5yb2xlID09PSBcImFzc2lzdGFudFwiKSB7XG4gICAgICAgICAgYm90TWVzc2FnZSA9IHNlc3Npb24ubWVzc2FnZXNbaV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXNlck1lc3NhZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc29sZS5lcnJvcihcIltDaGF0XSBmYWlsZWQgdG8gcmVzZW5kXCIsIG1lc3NhZ2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGRlbGV0ZSB0aGUgb3JpZ2luYWwgbWVzc2FnZXNcbiAgICBkZWxldGVNZXNzYWdlKHVzZXJNZXNzYWdlLmlkKTtcbiAgICBkZWxldGVNZXNzYWdlKGJvdE1lc3NhZ2U/LmlkKTtcblxuICAgIC8vIHJlc2VuZCB0aGUgbWVzc2FnZVxuICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICBjaGF0U3RvcmUub25Vc2VySW5wdXQodXNlck1lc3NhZ2UuY29udGVudCkudGhlbigoKSA9PiBzZXRJc0xvYWRpbmcoZmFsc2UpKTtcbiAgICBpbnB1dFJlZi5jdXJyZW50Py5mb2N1cygpO1xuICB9O1xuXG4gIGNvbnN0IG9uUGluTWVzc2FnZSA9IChtZXNzYWdlOiBDaGF0TWVzc2FnZSkgPT4ge1xuICAgIGNoYXRTdG9yZS51cGRhdGVDdXJyZW50U2Vzc2lvbigoc2Vzc2lvbikgPT5cbiAgICAgIHNlc3Npb24ubWFzay5jb250ZXh0LnB1c2gobWVzc2FnZSksXG4gICAgKTtcblxuICAgIHNob3dUb2FzdChMb2NhbGUuQ2hhdC5BY3Rpb25zLlBpblRvYXN0Q29udGVudCwge1xuICAgICAgdGV4dDogTG9jYWxlLkNoYXQuQWN0aW9ucy5QaW5Ub2FzdEFjdGlvbixcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgc2V0U2hvd1Byb21wdE1vZGFsKHRydWUpO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBjb250ZXh0OiBSZW5kZXJNZXNzYWdlW10gPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gc2Vzc2lvbi5tYXNrLmhpZGVDb250ZXh0ID8gW10gOiBzZXNzaW9uLm1hc2suY29udGV4dC5zbGljZSgpO1xuICB9LCBbc2Vzc2lvbi5tYXNrLmNvbnRleHQsIHNlc3Npb24ubWFzay5oaWRlQ29udGV4dF0pO1xuICBjb25zdCBhY2Nlc3NTdG9yZSA9IHVzZUFjY2Vzc1N0b3JlKCk7XG5cbiAgaWYgKFxuICAgIGNvbnRleHQubGVuZ3RoID09PSAwICYmXG4gICAgc2Vzc2lvbi5tZXNzYWdlcy5hdCgwKT8uY29udGVudCAhPT0gQk9UX0hFTExPLmNvbnRlbnRcbiAgKSB7XG4gICAgY29uc3QgY29waWVkSGVsbG8gPSBPYmplY3QuYXNzaWduKHt9LCBCT1RfSEVMTE8pO1xuICAgIGlmICghYWNjZXNzU3RvcmUuaXNBdXRob3JpemVkKCkpIHtcbiAgICAgIGNvcGllZEhlbGxvLmNvbnRlbnQgPSBMb2NhbGUuRXJyb3IuVW5hdXRob3JpemVkO1xuICAgIH1cbiAgICBjb250ZXh0LnB1c2goY29waWVkSGVsbG8pO1xuICB9XG5cbiAgLy8gcHJldmlldyBtZXNzYWdlc1xuICBjb25zdCByZW5kZXJNZXNzYWdlcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBjb250ZXh0XG4gICAgICAuY29uY2F0KHNlc3Npb24ubWVzc2FnZXMgYXMgUmVuZGVyTWVzc2FnZVtdKVxuICAgICAgLmNvbmNhdChcbiAgICAgICAgaXNMb2FkaW5nXG4gICAgICAgICAgPyBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAuLi5jcmVhdGVNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgICAgICAgICAgICBjb250ZW50OiBcIuKApuKAplwiLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHByZXZpZXc6IHRydWUsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdXG4gICAgICAgICAgOiBbXSxcbiAgICAgIClcbiAgICAgIC5jb25jYXQoXG4gICAgICAgIHVzZXJJbnB1dC5sZW5ndGggPiAwICYmIGNvbmZpZy5zZW5kUHJldmlld0J1YmJsZVxuICAgICAgICAgID8gW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLi4uY3JlYXRlTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHVzZXJJbnB1dCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBwcmV2aWV3OiB0cnVlLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXVxuICAgICAgICAgIDogW10sXG4gICAgICApO1xuICB9LCBbXG4gICAgY29uZmlnLnNlbmRQcmV2aWV3QnViYmxlLFxuICAgIGNvbnRleHQsXG4gICAgaXNMb2FkaW5nLFxuICAgIHNlc3Npb24ubWVzc2FnZXMsXG4gICAgdXNlcklucHV0LFxuICBdKTtcblxuICBjb25zdCBbbXNnUmVuZGVySW5kZXgsIF9zZXRNc2dSZW5kZXJJbmRleF0gPSB1c2VTdGF0ZShcbiAgICBNYXRoLm1heCgwLCByZW5kZXJNZXNzYWdlcy5sZW5ndGggLSBDSEFUX1BBR0VfU0laRSksXG4gICk7XG4gIGZ1bmN0aW9uIHNldE1zZ1JlbmRlckluZGV4KG5ld0luZGV4OiBudW1iZXIpIHtcbiAgICBuZXdJbmRleCA9IE1hdGgubWluKHJlbmRlck1lc3NhZ2VzLmxlbmd0aCAtIENIQVRfUEFHRV9TSVpFLCBuZXdJbmRleCk7XG4gICAgbmV3SW5kZXggPSBNYXRoLm1heCgwLCBuZXdJbmRleCk7XG4gICAgX3NldE1zZ1JlbmRlckluZGV4KG5ld0luZGV4KTtcbiAgfVxuXG4gIGNvbnN0IG1lc3NhZ2VzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgZW5kUmVuZGVySW5kZXggPSBNYXRoLm1pbihcbiAgICAgIG1zZ1JlbmRlckluZGV4ICsgMyAqIENIQVRfUEFHRV9TSVpFLFxuICAgICAgcmVuZGVyTWVzc2FnZXMubGVuZ3RoLFxuICAgICk7XG4gICAgcmV0dXJuIHJlbmRlck1lc3NhZ2VzLnNsaWNlKG1zZ1JlbmRlckluZGV4LCBlbmRSZW5kZXJJbmRleCk7XG4gIH0sIFttc2dSZW5kZXJJbmRleCwgcmVuZGVyTWVzc2FnZXNdKTtcblxuICBjb25zdCBvbkNoYXRCb2R5U2Nyb2xsID0gKGU6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgY29uc3QgYm90dG9tSGVpZ2h0ID0gZS5zY3JvbGxUb3AgKyBlLmNsaWVudEhlaWdodDtcbiAgICBjb25zdCBlZGdlVGhyZXNob2xkID0gZS5jbGllbnRIZWlnaHQ7XG5cbiAgICBjb25zdCBpc1RvdWNoVG9wRWRnZSA9IGUuc2Nyb2xsVG9wIDw9IGVkZ2VUaHJlc2hvbGQ7XG4gICAgY29uc3QgaXNUb3VjaEJvdHRvbUVkZ2UgPSBib3R0b21IZWlnaHQgPj0gZS5zY3JvbGxIZWlnaHQgLSBlZGdlVGhyZXNob2xkO1xuICAgIGNvbnN0IGlzSGl0Qm90dG9tID1cbiAgICAgIGJvdHRvbUhlaWdodCA+PSBlLnNjcm9sbEhlaWdodCAtIChpc01vYmlsZVNjcmVlbiA/IDQgOiAxMCk7XG5cbiAgICBjb25zdCBwcmV2UGFnZU1zZ0luZGV4ID0gbXNnUmVuZGVySW5kZXggLSBDSEFUX1BBR0VfU0laRTtcbiAgICBjb25zdCBuZXh0UGFnZU1zZ0luZGV4ID0gbXNnUmVuZGVySW5kZXggKyBDSEFUX1BBR0VfU0laRTtcblxuICAgIGlmIChpc1RvdWNoVG9wRWRnZSAmJiAhaXNUb3VjaEJvdHRvbUVkZ2UpIHtcbiAgICAgIHNldE1zZ1JlbmRlckluZGV4KHByZXZQYWdlTXNnSW5kZXgpO1xuICAgIH0gZWxzZSBpZiAoaXNUb3VjaEJvdHRvbUVkZ2UpIHtcbiAgICAgIHNldE1zZ1JlbmRlckluZGV4KG5leHRQYWdlTXNnSW5kZXgpO1xuICAgIH1cblxuICAgIHNldEhpdEJvdHRvbShpc0hpdEJvdHRvbSk7XG4gICAgc2V0QXV0b1Njcm9sbChpc0hpdEJvdHRvbSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gc2Nyb2xsVG9Cb3R0b20oKSB7XG4gICAgc2V0TXNnUmVuZGVySW5kZXgocmVuZGVyTWVzc2FnZXMubGVuZ3RoIC0gQ0hBVF9QQUdFX1NJWkUpO1xuICAgIHNjcm9sbERvbVRvQm90dG9tKCk7XG4gIH1cblxuICAvLyBjbGVhciBjb250ZXh0IGluZGV4ID0gY29udGV4dCBsZW5ndGggKyBpbmRleCBpbiBtZXNzYWdlc1xuICBjb25zdCBjbGVhckNvbnRleHRJbmRleCA9XG4gICAgKHNlc3Npb24uY2xlYXJDb250ZXh0SW5kZXggPz8gLTEpID49IDBcbiAgICAgID8gc2Vzc2lvbi5jbGVhckNvbnRleHRJbmRleCEgKyBjb250ZXh0Lmxlbmd0aCAtIG1zZ1JlbmRlckluZGV4XG4gICAgICA6IC0xO1xuXG4gIGNvbnN0IFtzaG93UHJvbXB0TW9kYWwsIHNldFNob3dQcm9tcHRNb2RhbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgY2xpZW50Q29uZmlnID0gdXNlTWVtbygoKSA9PiBnZXRDbGllbnRDb25maWcoKSwgW10pO1xuXG4gIGNvbnN0IGF1dG9Gb2N1cyA9ICFpc01vYmlsZVNjcmVlbjsgLy8gd29udCBhdXRvIGZvY3VzIG9uIG1vYmlsZSBzY3JlZW5cbiAgY29uc3Qgc2hvd01heEljb24gPSAhaXNNb2JpbGVTY3JlZW4gJiYgIWNsaWVudENvbmZpZz8uaXNBcHA7XG5cbiAgdXNlQ29tbWFuZCh7XG4gICAgZmlsbDogc2V0VXNlcklucHV0LFxuICAgIHN1Ym1pdDogKHRleHQpID0+IHtcbiAgICAgIGRvU3VibWl0KHRleHQpO1xuICAgIH0sXG4gICAgY29kZTogKHRleHQpID0+IHtcbiAgICAgIGlmIChhY2Nlc3NTdG9yZS5kaXNhYmxlRmFzdExpbmspIHJldHVybjtcbiAgICAgIGNvbnNvbGUubG9nKFwiW0NvbW1hbmRdIGdvdCBjb2RlIGZyb20gdXJsOiBcIiwgdGV4dCk7XG4gICAgICBzaG93Q29uZmlybShMb2NhbGUuVVJMQ29tbWFuZC5Db2RlICsgYGNvZGUgPSAke3RleHR9YCkudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMpIHtcbiAgICAgICAgICBhY2Nlc3NTdG9yZS51cGRhdGUoKGFjY2VzcykgPT4gKGFjY2Vzcy5hY2Nlc3NDb2RlID0gdGV4dCkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHNldHRpbmdzOiAodGV4dCkgPT4ge1xuICAgICAgaWYgKGFjY2Vzc1N0b3JlLmRpc2FibGVGYXN0TGluaykgcmV0dXJuO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gSlNPTi5wYXJzZSh0ZXh0KSBhcyB7XG4gICAgICAgICAga2V5Pzogc3RyaW5nO1xuICAgICAgICAgIHVybD86IHN0cmluZztcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIltDb21tYW5kXSBnb3Qgc2V0dGluZ3MgZnJvbSB1cmw6IFwiLCBwYXlsb2FkKTtcblxuICAgICAgICBpZiAocGF5bG9hZC5rZXkgfHwgcGF5bG9hZC51cmwpIHtcbiAgICAgICAgICBzaG93Q29uZmlybShcbiAgICAgICAgICAgIExvY2FsZS5VUkxDb21tYW5kLlNldHRpbmdzICtcbiAgICAgICAgICAgICAgYFxcbiR7SlNPTi5zdHJpbmdpZnkocGF5bG9hZCwgbnVsbCwgNCl9YCxcbiAgICAgICAgICApLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgaWYgKCFyZXMpIHJldHVybjtcbiAgICAgICAgICAgIGlmIChwYXlsb2FkLmtleSkge1xuICAgICAgICAgICAgICBhY2Nlc3NTdG9yZS51cGRhdGUoXG4gICAgICAgICAgICAgICAgKGFjY2VzcykgPT4gKGFjY2Vzcy5vcGVuYWlBcGlLZXkgPSBwYXlsb2FkLmtleSEpLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBheWxvYWQudXJsKSB7XG4gICAgICAgICAgICAgIGFjY2Vzc1N0b3JlLnVwZGF0ZSgoYWNjZXNzKSA9PiAoYWNjZXNzLm9wZW5haVVybCA9IHBheWxvYWQudXJsISkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIltDb21tYW5kXSBmYWlsZWQgdG8gZ2V0IHNldHRpbmdzIGZyb20gdXJsOiBcIiwgdGV4dCk7XG4gICAgICB9XG4gICAgfSxcbiAgfSk7XG5cbiAgLy8gZWRpdCAvIGluc2VydCBtZXNzYWdlIG1vZGFsXG4gIGNvbnN0IFtpc0VkaXRpbmdNZXNzYWdlLCBzZXRJc0VkaXRpbmdNZXNzYWdlXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyByZW1lbWJlciB1bmZpbmlzaGVkIGlucHV0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gdHJ5IHRvIGxvYWQgZnJvbSBsb2NhbCBzdG9yYWdlXG4gICAgY29uc3Qga2V5ID0gVU5GSU5JU0hFRF9JTlBVVChzZXNzaW9uLmlkKTtcbiAgICBjb25zdCBtYXlCZVVuZmluaXNoZWRJbnB1dCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgaWYgKG1heUJlVW5maW5pc2hlZElucHV0ICYmIHVzZXJJbnB1dC5sZW5ndGggPT09IDApIHtcbiAgICAgIHNldFVzZXJJbnB1dChtYXlCZVVuZmluaXNoZWRJbnB1dCk7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgIH1cblxuICAgIGNvbnN0IGRvbSA9IGlucHV0UmVmLmN1cnJlbnQ7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgZG9tPy52YWx1ZSA/PyBcIlwiKTtcbiAgICB9O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW10pO1xuXG4gIGNvbnN0IHByb3BzOiBVcGxvYWRQcm9wcyA9IHtcbiAgICBuYW1lOiAnZmlsZScsXG4gICAgYWN0aW9uOiAnaHR0cHM6Ly9ydW4ubW9ja3kuaW8vdjMvNDM1ZTIyNGMtNDRmYi00NzczLTlmYWYtMzgwYzVlNmEyMTg4JyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICBhdXRob3JpemF0aW9uOiAnYXV0aG9yaXphdGlvbi10ZXh0JyxcbiAgICB9LFxuICAgIG9uQ2hhbmdlKGluZm8pIHtcbiAgICAgIGlmIChpbmZvLmZpbGUuc3RhdHVzICE9PSAndXBsb2FkaW5nJykge1xuICAgICAgICBjb25zb2xlLmxvZyhpbmZvLmZpbGUsIGluZm8uZmlsZUxpc3QpO1xuICAgICAgfVxuICAgICAgaWYgKGluZm8uZmlsZS5zdGF0dXMgPT09ICdkb25lJykge1xuICAgICAgICBtZXNzYWdlLnN1Y2Nlc3MoYCR7aW5mby5maWxlLm5hbWV9IGZpbGUgdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5YCk7XG4gICAgICB9IGVsc2UgaWYgKGluZm8uZmlsZS5zdGF0dXMgPT09ICdlcnJvcicpIHtcbiAgICAgICAgbWVzc2FnZS5lcnJvcihgJHtpbmZvLmZpbGUubmFtZX0gZmlsZSB1cGxvYWQgZmFpbGVkLmApO1xuICAgICAgfVxuICAgIH0sXG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNoYXR9IGtleT17c2Vzc2lvbi5pZH0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIndpbmRvdy1oZWFkZXJcIiBkYXRhLXRhdXJpLWRyYWctcmVnaW9uPlxuICAgICAgICB7aXNNb2JpbGVTY3JlZW4gJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2luZG93LWFjdGlvbnNcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtcIndpbmRvdy1hY3Rpb24tYnV0dG9uXCJ9PlxuICAgICAgICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgICAgICAgIGljb249ezxSZXR1cm5JY29uIC8+fVxuICAgICAgICAgICAgICAgIGJvcmRlcmVkXG4gICAgICAgICAgICAgICAgdGl0bGU9e0xvY2FsZS5DaGF0LkFjdGlvbnMuQ2hhdExpc3R9XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gbmF2aWdhdGUoUGF0aC5Ib21lKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgd2luZG93LWhlYWRlci10aXRsZSAke3N0eWxlc1tcImNoYXQtYm9keS10aXRsZVwiXX1gfT5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzc05hbWU9e2B3aW5kb3ctaGVhZGVyLW1haW4tdGl0bGUgJHtzdHlsZXNbXCJjaGF0LWJvZHktbWFpbi10aXRsZVwiXX1gfVxuICAgICAgICAgICAgb25DbGlja0NhcHR1cmU9eygpID0+IHNldElzRWRpdGluZ01lc3NhZ2UodHJ1ZSl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgeyFzZXNzaW9uLnRvcGljID8gREVGQVVMVF9UT1BJQyA6IHNlc3Npb24udG9waWN9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3aW5kb3ctaGVhZGVyLXN1Yi10aXRsZVwiPlxuICAgICAgICAgICAge0xvY2FsZS5DaGF0LlN1YlRpdGxlKHNlc3Npb24ubWVzc2FnZXMubGVuZ3RoKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3aW5kb3ctYWN0aW9uc1wiPlxuICAgICAgICAgIHsvKiB7IWlzTW9iaWxlU2NyZWVuICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2luZG93LWFjdGlvbi1idXR0b25cIj5cbiAgICAgICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgICAgICBpY29uPXs8UmVuYW1lSWNvbiAvPn1cbiAgICAgICAgICAgICAgICBib3JkZXJlZFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzRWRpdGluZ01lc3NhZ2UodHJ1ZSl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2luZG93LWFjdGlvbi1idXR0b25cIj5cbiAgICAgICAgICAgIDxJY29uQnV0dG9uXG4gICAgICAgICAgICAgIGljb249ezxFeHBvcnRJY29uIC8+fVxuICAgICAgICAgICAgICBib3JkZXJlZFxuICAgICAgICAgICAgICB0aXRsZT17TG9jYWxlLkNoYXQuQWN0aW9ucy5FeHBvcnR9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRTaG93RXhwb3J0KHRydWUpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj4gKi99XG4gICAgICAgICAge3Nob3dNYXhJY29uICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2luZG93LWFjdGlvbi1idXR0b25cIj5cbiAgICAgICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgICAgICBpY29uPXtjb25maWcudGlnaHRCb3JkZXIgPyA8TWluSWNvbiAvPiA6IDxNYXhJY29uIC8+fVxuICAgICAgICAgICAgICAgIGJvcmRlcmVkXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uZmlnLnVwZGF0ZShcbiAgICAgICAgICAgICAgICAgICAgKGNvbmZpZykgPT4gKGNvbmZpZy50aWdodEJvcmRlciA9ICFjb25maWcudGlnaHRCb3JkZXIpLFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPFByb21wdFRvYXN0XG4gICAgICAgICAgc2hvd1RvYXN0PXshaGl0Qm90dG9tfVxuICAgICAgICAgIHNob3dNb2RhbD17c2hvd1Byb21wdE1vZGFsfVxuICAgICAgICAgIHNldFNob3dNb2RhbD17c2V0U2hvd1Byb21wdE1vZGFsfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXNbXCJjaGF0LWJvZHlcIl19XG4gICAgICAgIHJlZj17c2Nyb2xsUmVmfVxuICAgICAgICBvblNjcm9sbD17KGUpID0+IG9uQ2hhdEJvZHlTY3JvbGwoZS5jdXJyZW50VGFyZ2V0KX1cbiAgICAgICAgb25Nb3VzZURvd249eygpID0+IGlucHV0UmVmLmN1cnJlbnQ/LmJsdXIoKX1cbiAgICAgICAgb25Ub3VjaFN0YXJ0PXsoKSA9PiB7XG4gICAgICAgICAgaW5wdXRSZWYuY3VycmVudD8uYmx1cigpO1xuICAgICAgICAgIHNldEF1dG9TY3JvbGwoZmFsc2UpO1xuICAgICAgICB9fVxuICAgICAgPlxuXG48PlxuICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9e3N0eWxlc1tcInByb21wdC13cmFwcGVyLXRpdGxlXCJdfT5Bc2sgYSBxdWVzdGlvbiB0byBnZXQgc3RhcnRlZC48L2gyPlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9e3N0eWxlc1tcInByb21wdC13cmFwcGVyLXN1YnRpdGxlXCJdfT5FeGFtcGxlIFByb21wdHM8L2gzPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbXCJwcm9tcHQtd3JhcHBlclwiXX0+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1wicHJvbXB0LWNhcmRcIl19PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1wicHJvbXB0LWNhcmQtdGl0bGVcIl19PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJodHRwczovL3d3dy5zdHJhdG9zcGhlcmUuaW8vYXNzZXRzL2ltYWdlcy9zZWFyY2gvbG9nb3MvQURCRS5zdmdcIi8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2PiBQcm92aWRlIGFuIG92ZXJ2aWV3IG9mIE1pY3Jvc29mdCdzIGJ1c2luZXNzIGZ1bmRhbWVudGFscy48L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1tcInByb21wdC1jYXJkXCJdfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1tcInByb21wdC1jYXJkLXRpdGxlXCJdfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiaHR0cHM6Ly93d3cuc3RyYXRvc3BoZXJlLmlvL2Fzc2V0cy9pbWFnZXMvc2VhcmNoL2xvZ29zL0FEQkUuc3ZnXCIvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4gUHJvdmlkZSBhbiBvdmVydmlldyBvZiBNaWNyb3NvZnQncyBidXNpbmVzcyBmdW5kYW1lbnRhbHMuPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbXCJwcm9tcHQtY2FyZFwiXX0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbXCJwcm9tcHQtY2FyZC10aXRsZVwiXX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImh0dHBzOi8vd3d3LnN0cmF0b3NwaGVyZS5pby9hc3NldHMvaW1hZ2VzL3NlYXJjaC9sb2dvcy9BREJFLnN2Z1wiLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+IFByb3ZpZGUgYW4gb3ZlcnZpZXcgb2YgTWljcm9zb2Z0J3MgYnVzaW5lc3MgZnVuZGFtZW50YWxzLjwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1wicHJvbXB0LWNhcmRcIl19PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1wicHJvbXB0LWNhcmQtdGl0bGVcIl19PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJodHRwczovL3d3dy5zdHJhdG9zcGhlcmUuaW8vYXNzZXRzL2ltYWdlcy9zZWFyY2gvbG9nb3MvQURCRS5zdmdcIi8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2PiBQcm92aWRlIGFuIG92ZXJ2aWV3IG9mIE1pY3Jvc29mdCdzIGJ1c2luZXNzIGZ1bmRhbWVudGFscy48L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1tcInByb21wdC1jYXJkXCJdfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1tcInByb21wdC1jYXJkLXRpdGxlXCJdfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiaHR0cHM6Ly93d3cuc3RyYXRvc3BoZXJlLmlvL2Fzc2V0cy9pbWFnZXMvc2VhcmNoL2xvZ29zL0FEQkUuc3ZnXCIvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4gUHJvdmlkZSBhbiBvdmVydmlldyBvZiBNaWNyb3NvZnQncyBidXNpbmVzcyBmdW5kYW1lbnRhbHMuPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbXCJwcm9tcHQtY2FyZFwiXX0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbXCJwcm9tcHQtY2FyZC10aXRsZVwiXX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImh0dHBzOi8vd3d3LnN0cmF0b3NwaGVyZS5pby9hc3NldHMvaW1hZ2VzL3NlYXJjaC9sb2dvcy9BREJFLnN2Z1wiLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+IFByb3ZpZGUgYW4gb3ZlcnZpZXcgb2YgTWljcm9zb2Z0J3MgYnVzaW5lc3MgZnVuZGFtZW50YWxzLjwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1wicHJvbXB0LWNhcmRcIl19PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1wicHJvbXB0LWNhcmQtdGl0bGVcIl19PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJodHRwczovL3d3dy5zdHJhdG9zcGhlcmUuaW8vYXNzZXRzL2ltYWdlcy9zZWFyY2gvbG9nb3MvQURCRS5zdmdcIi8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2PiBQcm92aWRlIGFuIG92ZXJ2aWV3IG9mIE1pY3Jvc29mdCdzIGJ1c2luZXNzIGZ1bmRhbWVudGFscy48L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1tcInByb21wdC1jYXJkXCJdfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1tcInByb21wdC1jYXJkLXRpdGxlXCJdfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiaHR0cHM6Ly93d3cuc3RyYXRvc3BoZXJlLmlvL2Fzc2V0cy9pbWFnZXMvc2VhcmNoL2xvZ29zL0FEQkUuc3ZnXCIvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4gUHJvdmlkZSBhbiBvdmVydmlldyBvZiBNaWNyb3NvZnQncyBidXNpbmVzcyBmdW5kYW1lbnRhbHMuPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbXCJwcm9tcHQtY2FyZFwiXX0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbXCJwcm9tcHQtY2FyZC10aXRsZVwiXX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImh0dHBzOi8vd3d3LnN0cmF0b3NwaGVyZS5pby9hc3NldHMvaW1hZ2VzL3NlYXJjaC9sb2dvcy9BREJFLnN2Z1wiLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+IFByb3ZpZGUgYW4gb3ZlcnZpZXcgb2YgTWljcm9zb2Z0J3MgYnVzaW5lc3MgZnVuZGFtZW50YWxzLjwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvPlxuXG4gICAgICAgIHttZXNzYWdlcy5tYXAoKG1lc3NhZ2UsIGkpID0+IHtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBpc1VzZXIgPSBtZXNzYWdlLnJvbGUgPT09IFwidXNlclwiO1xuICAgICAgICAgIGNvbnN0IGlzQ29udGV4dCA9IGkgPCBjb250ZXh0Lmxlbmd0aDtcbiAgICAgICAgICBjb25zdCBzaG93QWN0aW9ucyA9XG4gICAgICAgICAgICBpID4gMCAmJlxuICAgICAgICAgICAgIShtZXNzYWdlLnByZXZpZXcgfHwgbWVzc2FnZS5jb250ZW50Lmxlbmd0aCA9PT0gMCkgJiZcbiAgICAgICAgICAgICFpc0NvbnRleHQ7XG4gICAgICAgICAgY29uc3Qgc2hvd1R5cGluZyA9IG1lc3NhZ2UucHJldmlldyB8fCBtZXNzYWdlLnN0cmVhbWluZztcbiAgICAgICAgICBjb25zdCBzaG91bGRTaG93Q2xlYXJDb250ZXh0RGl2aWRlciA9IGkgPT09IGNsZWFyQ29udGV4dEluZGV4IC0gMTtcblxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8RnJhZ21lbnQga2V5PXttZXNzYWdlLmlkfT5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17aXNVc2VyID8gc3R5bGVzW1wiY2hhdC1tZXNzYWdlLXVzZXJcIl0gOiBzdHlsZXNbXCJjaGF0LW1lc3NhZ2VcIl19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1wiY2hhdC1tZXNzYWdlLWNvbnRhaW5lclwiXX0+XG4gICAgICAgICAgXG57LyogXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1wiY2hhdC1tZXNzYWdlLWhlYWRlclwiXX0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbXCJjaGF0LW1lc3NhZ2UtYXZhdGFyXCJdfT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1wiY2hhdC1tZXNzYWdlLWVkaXRcIl19PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbj17PEVkaXRJY29uIC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3TWVzc2FnZSA9IGF3YWl0IHNob3dQcm9tcHQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2NhbGUuQ2hhdC5BY3Rpb25zLkVkaXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXRTdG9yZS51cGRhdGVDdXJyZW50U2Vzc2lvbigoc2Vzc2lvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbSA9IHNlc3Npb24ubWFzay5jb250ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jb25jYXQoc2Vzc2lvbi5tZXNzYWdlcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoKG0pID0+IG0uaWQgPT09IG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5jb250ZW50ID0gbmV3TWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID48L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAge2lzVXNlciA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxBdmF0YXIgYXZhdGFyPXtjb25maWcuYXZhdGFyfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7W1wic3lzdGVtXCJdLmluY2x1ZGVzKG1lc3NhZ2Uucm9sZSkgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEF2YXRhciBhdmF0YXI9XCIyNjk5LWZlMGZcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNYXNrQXZhdGFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmF0YXI9e3Nlc3Npb24ubWFzay5hdmF0YXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubW9kZWwgfHwgc2Vzc2lvbi5tYXNrLm1vZGVsQ29uZmlnLm1vZGVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIHtzaG93QWN0aW9ucyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1tcImNoYXQtbWVzc2FnZS1hY3Rpb25zXCJdfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbXCJjaGF0LWlucHV0LWFjdGlvbnNcIl19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS5zdHJlYW1pbmcgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoYXRBY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ9e0xvY2FsZS5DaGF0LkFjdGlvbnMuU3RvcH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249ezxTdG9wSWNvbiAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uVXNlclN0b3AobWVzc2FnZS5pZCA/PyBpKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hhdEFjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0PXtMb2NhbGUuQ2hhdC5BY3Rpb25zLlJldHJ5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uPXs8UmVzZXRJY29uIC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvblJlc2VuZChtZXNzYWdlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGF0QWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ9e0xvY2FsZS5DaGF0LkFjdGlvbnMuRGVsZXRlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uPXs8RGVsZXRlSWNvbiAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25EZWxldGUobWVzc2FnZS5pZCA/PyBpKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGF0QWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ9e0xvY2FsZS5DaGF0LkFjdGlvbnMuUGlufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uPXs8UGluSWNvbiAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25QaW5NZXNzYWdlKG1lc3NhZ2UpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGF0QWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ9e0xvY2FsZS5DaGF0LkFjdGlvbnMuQ29weX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbj17PENvcHlJY29uIC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBjb3B5VG9DbGlwYm9hcmQobWVzc2FnZS5jb250ZW50KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PiAqL31cblxuICAgICAgICAgICAgICAgICAgey8qIHtzaG93VHlwaW5nICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1tcImNoYXQtbWVzc2FnZS1zdGF0dXNcIl19PlxuICAgICAgICAgICAgICAgICAgICAgIHtMb2NhbGUuQ2hhdC5UeXBpbmd9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbXCJjaGF0LW1lc3NhZ2UtaXRlbVwiXX0+XG4gICAgICAgICAgICAgICAgICAgIDxNYXJrZG93blxuICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9e21lc3NhZ2UuY29udGVudH1cbiAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXtcbiAgICAgICAgICAgICAgICAgICAgICAgIChtZXNzYWdlLnByZXZpZXcgfHwgbWVzc2FnZS5zdHJlYW1pbmcpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbnRlbnQubGVuZ3RoID09PSAwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhaXNVc2VyXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ29udGV4dE1lbnU9eyhlKSA9PiBvblJpZ2h0Q2xpY2soZSwgbWVzc2FnZSl9XG4gICAgICAgICAgICAgICAgICAgICAgb25Eb3VibGVDbGlja0NhcHR1cmU9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNNb2JpbGVTY3JlZW4pIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFVzZXJJbnB1dChtZXNzYWdlLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU9e2ZvbnRTaXplfVxuICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFJlZj17c2Nyb2xsUmVmfVxuICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaG93PXtpID49IG1lc3NhZ2VzLmxlbmd0aCAtIDZ9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbXCJjaGF0LW1lc3NhZ2UtYWN0aW9uLWRhdGVcIl19PlxuICAgICAgICAgICAgICAgICAgICB7aXNDb250ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgPyBMb2NhbGUuQ2hhdC5Jc0NvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgICA6IG1lc3NhZ2UuZGF0ZS50b0xvY2FsZVN0cmluZygpfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+ICovfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAge3Nob3VsZFNob3dDbGVhckNvbnRleHREaXZpZGVyICYmIDxDbGVhckNvbnRleHREaXZpZGVyIC8+fVxuICAgICAgICAgICAgPC9GcmFnbWVudD5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8VXBsb2FkIHsuLi5wcm9wc30+XG4gICAgICAgICAgICAgICA8TW90YWkgd2lkdGg9XCIzMHB4XCIgY2xhc3NOYW1lPXtzdHlsZXNbJ21vdGFpJ119Lz5cbiAgICAgICAgPC9VcGxvYWQ+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbXCJjaGF0LWlucHV0LXBhbmVsXCJdfT5cbiAgICAgICAgey8qIDxQcm9tcHRIaW50cyBwcm9tcHRzPXtwcm9tcHRIaW50c30gb25Qcm9tcHRTZWxlY3Q9e29uUHJvbXB0U2VsZWN0fSAvPiAqL31cbiAgICAgICAgey8qIFxuICAgICAgICA8Q2hhdEFjdGlvbnNcbiAgICAgICAgICBzaG93UHJvbXB0TW9kYWw9eygpID0+IHNldFNob3dQcm9tcHRNb2RhbCh0cnVlKX1cbiAgICAgICAgICBzY3JvbGxUb0JvdHRvbT17c2Nyb2xsVG9Cb3R0b219XG4gICAgICAgICAgaGl0Qm90dG9tPXtoaXRCb3R0b219XG4gICAgICAgICAgc2hvd1Byb21wdEhpbnRzPXsoKSA9PiB7XG4gICAgICAgICAgICAvLyBDbGljayBhZ2FpbiB0byBjbG9zZVxuICAgICAgICAgICAgaWYgKHByb21wdEhpbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgc2V0UHJvbXB0SGludHMoW10pO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnB1dFJlZi5jdXJyZW50Py5mb2N1cygpO1xuICAgICAgICAgICAgc2V0VXNlcklucHV0KFwiL1wiKTtcbiAgICAgICAgICAgIG9uU2VhcmNoKFwiXCIpO1xuICAgICAgICAgIH19XG4gICAgICAgIC8+ICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1wiY2hhdC1pbnB1dC1wYW5lbC1pbm5lclwiXX0+XG4gICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICByZWY9e2lucHV0UmVmfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXNbXCJjaGF0LWlucHV0XCJdfVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9e0xvY2FsZS5DaGF0LklucHV0KHN1Ym1pdEtleSl9XG4gICAgICAgICAgICBvbklucHV0PXsoZSkgPT4gb25JbnB1dChlLmN1cnJlbnRUYXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgdmFsdWU9e3VzZXJJbnB1dH1cbiAgICAgICAgICAgIG9uS2V5RG93bj17b25JbnB1dEtleURvd259XG4gICAgICAgICAgICBvbkZvY3VzPXtzY3JvbGxUb0JvdHRvbX1cbiAgICAgICAgICAgIG9uQ2xpY2s9e3Njcm9sbFRvQm90dG9tfVxuICAgICAgICAgICAgcm93cz17aW5wdXRSb3dzfVxuICAgICAgICAgICAgYXV0b0ZvY3VzPXthdXRvRm9jdXN9XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBmb250U2l6ZTogY29uZmlnLmZvbnRTaXplLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxJY29uQnV0dG9uXG4gICAgICAgICAgICBpY29uPXs8U2VuZFdoaXRlSWNvbiAvPn1cbiAgICAgICAgICAgIHRleHQ9e0xvY2FsZS5DaGF0LlNlbmR9XG4gICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlc1tcImNoYXQtaW5wdXQtc2VuZFwiXX1cbiAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGRvU3VibWl0KHVzZXJJbnB1dCl9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAge3Nob3dFeHBvcnQgJiYgKFxuICAgICAgICA8RXhwb3J0TWVzc2FnZU1vZGFsIG9uQ2xvc2U9eygpID0+IHNldFNob3dFeHBvcnQoZmFsc2UpfSAvPlxuICAgICAgKX1cblxuICAgICAge2lzRWRpdGluZ01lc3NhZ2UgJiYgKFxuICAgICAgICA8RWRpdE1lc3NhZ2VNb2RhbFxuICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHtcbiAgICAgICAgICAgIHNldElzRWRpdGluZ01lc3NhZ2UoZmFsc2UpO1xuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2hhdCgpIHtcbiAgY29uc3QgY2hhdFN0b3JlID0gdXNlQ2hhdFN0b3JlKCk7XG4gIGNvbnN0IHNlc3Npb25JbmRleCA9IGNoYXRTdG9yZS5jdXJyZW50U2Vzc2lvbkluZGV4O1xuICByZXR1cm4gPF9DaGF0IGtleT17c2Vzc2lvbkluZGV4fT48L19DaGF0Pjtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VEZWJvdW5jZWRDYWxsYmFjayIsIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwiRnJhZ21lbnQiLCJTZW5kV2hpdGVJY29uIiwiQnJhaW5JY29uIiwiUmV0dXJuSWNvbiIsIkNvcHlJY29uIiwiTG9hZGluZ0ljb24iLCJQcm9tcHRJY29uIiwiTWFza0ljb24iLCJNYXhJY29uIiwiTWluSWNvbiIsIlJlc2V0SWNvbiIsIkJyZWFrSWNvbiIsIlNldHRpbmdzSWNvbiIsIkNvbmZpcm1JY29uIiwiQ2FuY2VsSWNvbiIsIkxpZ2h0SWNvbiIsIkRhcmtJY29uIiwiQXV0b0ljb24iLCJCb3R0b21JY29uIiwiU3RvcEljb24iLCJSb2JvdEljb24iLCJNb3RhaSIsIlN1Ym1pdEtleSIsInVzZUNoYXRTdG9yZSIsIkJPVF9IRUxMTyIsImNyZWF0ZU1lc3NhZ2UiLCJ1c2VBY2Nlc3NTdG9yZSIsIlRoZW1lIiwidXNlQXBwQ29uZmlnIiwiREVGQVVMVF9UT1BJQyIsInNlbGVjdE9yQ29weSIsImF1dG9Hcm93VGV4dEFyZWEiLCJ1c2VNb2JpbGVTY3JlZW4iLCJkeW5hbWljIiwiQ2hhdENvbnRyb2xsZXJQb29sIiwidXNlUHJvbXB0U3RvcmUiLCJMb2NhbGUiLCJJY29uQnV0dG9uIiwic3R5bGVzIiwiTGlzdCIsIkxpc3RJdGVtIiwiTW9kYWwiLCJTZWxlY3RvciIsInNob3dDb25maXJtIiwic2hvd1RvYXN0IiwidXNlTmF2aWdhdGUiLCJDSEFUX1BBR0VfU0laRSIsIkxBU1RfSU5QVVRfS0VZIiwiUGF0aCIsIlJFUVVFU1RfVElNRU9VVF9NUyIsIlVORklOSVNIRURfSU5QVVQiLCJDb250ZXh0UHJvbXB0cyIsIk1hc2tDb25maWciLCJ1c2VNYXNrU3RvcmUiLCJDaGF0Q29tbWFuZFByZWZpeCIsInVzZUNoYXRDb21tYW5kIiwidXNlQ29tbWFuZCIsInByZXR0eU9iamVjdCIsIkV4cG9ydE1lc3NhZ2VNb2RhbCIsImdldENsaWVudENvbmZpZyIsInVzZUFsbE1vZGVscyIsIm1lc3NhZ2UiLCJVcGxvYWQiLCJNYXJrZG93biIsImxvYWRpbmciLCJTZXNzaW9uQ29uZmlnTW9kZWwiLCJwcm9wcyIsImNoYXRTdG9yZSIsInNlc3Npb24iLCJjdXJyZW50U2Vzc2lvbiIsIm1hc2tTdG9yZSIsIm5hdmlnYXRlIiwiZGl2IiwiY2xhc3NOYW1lIiwidGl0bGUiLCJDb250ZXh0IiwiRWRpdCIsIm9uQ2xvc2UiLCJhY3Rpb25zIiwiaWNvbiIsImJvcmRlcmVkIiwidGV4dCIsIkNoYXQiLCJDb25maWciLCJSZXNldCIsIm9uQ2xpY2siLCJNZW1vcnkiLCJSZXNldENvbmZpcm0iLCJ1cGRhdGVDdXJyZW50U2Vzc2lvbiIsIm1lbW9yeVByb21wdCIsIlNhdmVBcyIsIk1hc2tzIiwic2V0VGltZW91dCIsImNyZWF0ZSIsIm1hc2siLCJ1cGRhdGVNYXNrIiwidXBkYXRlciIsInNob3VsZFN5bmNGcm9tR2xvYmFsIiwiZXh0cmFMaXN0SXRlbXMiLCJtb2RlbENvbmZpZyIsInNlbmRNZW1vcnkiLCJUaXRsZSIsImxhc3RTdW1tYXJpemVJbmRleCIsIm1lc3NhZ2VzIiwibGVuZ3RoIiwic3ViVGl0bGUiLCJFbXB0eUNvbnRlbnQiLCJQcm9tcHRUb2FzdCIsImNvbnRleHQiLCJyb2xlIiwic2V0U2hvd01vZGFsIiwic3BhbiIsIlRvYXN0Iiwic2hvd01vZGFsIiwidXNlU3VibWl0SGFuZGxlciIsImNvbmZpZyIsInN1Ym1pdEtleSIsImlzQ29tcG9zaW5nIiwiaSIsInRpbWVyIiwiY29uc29sZSIsImxvZyIsIm9uQ29tcG9zaXRpb25TdGFydCIsImN1cnJlbnQiLCJvbkNvbXBvc2l0aW9uRW5kIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzaG91bGRTdWJtaXQiLCJlIiwia2V5IiwibmF0aXZlRXZlbnQiLCJBbHRFbnRlciIsImFsdEtleSIsIkN0cmxFbnRlciIsImN0cmxLZXkiLCJTaGlmdEVudGVyIiwic2hpZnRLZXkiLCJNZXRhRW50ZXIiLCJtZXRhS2V5IiwiRW50ZXIiLCJQcm9tcHRIaW50cyIsIm5vUHJvbXB0cyIsInByb21wdHMiLCJzZWxlY3RJbmRleCIsInNldFNlbGVjdEluZGV4Iiwic2VsZWN0ZWRSZWYiLCJvbktleURvd24iLCJjaGFuZ2VJbmRleCIsImRlbHRhIiwic3RvcFByb3BhZ2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJuZXh0SW5kZXgiLCJNYXRoIiwibWF4IiwibWluIiwic2Nyb2xsSW50b1ZpZXciLCJibG9jayIsInNlbGVjdGVkUHJvbXB0IiwiYXQiLCJvblByb21wdFNlbGVjdCIsIm1hcCIsInByb21wdCIsInJlZiIsIm9uTW91c2VFbnRlciIsImNvbnRlbnQiLCJ0b1N0cmluZyIsIkNsZWFyQ29udGV4dERpdmlkZXIiLCJjbGVhckNvbnRleHRJbmRleCIsInVuZGVmaW5lZCIsIkNsZWFyIiwiUmV2ZXJ0IiwiQ2hhdEFjdGlvbiIsImljb25SZWYiLCJ0ZXh0UmVmIiwid2lkdGgiLCJzZXRXaWR0aCIsImZ1bGwiLCJ1cGRhdGVXaWR0aCIsImdldFdpZHRoIiwiZG9tIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidGV4dFdpZHRoIiwiaWNvbldpZHRoIiwib25Ub3VjaFN0YXJ0Iiwic3R5bGUiLCJ1c2VTY3JvbGxUb0JvdHRvbSIsInNjcm9sbFJlZiIsImF1dG9TY3JvbGwiLCJzZXRBdXRvU2Nyb2xsIiwic2Nyb2xsRG9tVG9Cb3R0b20iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzY3JvbGxUbyIsInNjcm9sbEhlaWdodCIsIkNoYXRBY3Rpb25zIiwidGhlbWUiLCJuZXh0VGhlbWUiLCJ0aGVtZXMiLCJBdXRvIiwiTGlnaHQiLCJEYXJrIiwidGhlbWVJbmRleCIsImluZGV4T2YiLCJ1cGRhdGUiLCJjb3VsZFN0b3AiLCJoYXNQZW5kaW5nIiwic3RvcEFsbCIsImN1cnJlbnRNb2RlbCIsIm1vZGVsIiwiYWxsTW9kZWxzIiwibW9kZWxzIiwiZmlsdGVyIiwibSIsImF2YWlsYWJsZSIsInNob3dNb2RlbFNlbGVjdG9yIiwic2V0U2hvd01vZGVsU2VsZWN0b3IiLCJpc1VuYXZhbGlhYmxlTW9kZWwiLCJzb21lIiwibmFtZSIsIm5leHRNb2RlbCIsIklucHV0QWN0aW9ucyIsIlN0b3AiLCJoaXRCb3R0b20iLCJzY3JvbGxUb0JvdHRvbSIsIlRvQm90dG9tIiwic2hvd1Byb21wdE1vZGFsIiwiU2V0dGluZ3MiLCJzaG93UHJvbXB0SGludHMiLCJQcm9tcHQiLCJkZWZhdWx0U2VsZWN0ZWRWYWx1ZSIsIml0ZW1zIiwiZGlzcGxheU5hbWUiLCJ2YWx1ZSIsIm9uU2VsZWN0aW9uIiwicyIsInN5bmNHbG9iYWxDb25maWciLCJFZGl0TWVzc2FnZU1vZGFsIiwic2V0TWVzc2FnZXMiLCJzbGljZSIsIkVkaXRNZXNzYWdlIiwiVUkiLCJDYW5jZWwiLCJ0eXBlIiwiQ29uZmlybSIsIlRvcGljIiwiU3ViVGl0bGUiLCJpbnB1dCIsInRvcGljIiwib25JbnB1dCIsImN1cnJlbnRUYXJnZXQiLCJ1cGRhdGVDb250ZXh0IiwibmV3TWVzc2FnZXMiLCJfQ2hhdCIsImNsaWVudENvbmZpZyIsImZvbnRTaXplIiwic2hvd0V4cG9ydCIsInNldFNob3dFeHBvcnQiLCJpbnB1dFJlZiIsInVzZXJJbnB1dCIsInNldFVzZXJJbnB1dCIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsInNldEhpdEJvdHRvbSIsImlzTW9iaWxlU2NyZWVuIiwicHJvbXB0U3RvcmUiLCJwcm9tcHRIaW50cyIsInNldFByb21wdEhpbnRzIiwib25TZWFyY2giLCJtYXRjaGVkUHJvbXB0cyIsInNlYXJjaCIsImxlYWRpbmciLCJ0cmFpbGluZyIsImlucHV0Um93cyIsInNldElucHV0Um93cyIsIm1lYXN1cmUiLCJyb3dzIiwiTnVtYmVyIiwiY2hhdENvbW1hbmRzIiwibmV3IiwibmV3U2Vzc2lvbiIsIm5ld20iLCJOZXdDaGF0IiwicHJldiIsIm5leHRTZXNzaW9uIiwibmV4dCIsImNsZWFyIiwiZGVsIiwiZGVsZXRlU2Vzc2lvbiIsImN1cnJlbnRTZXNzaW9uSW5kZXgiLCJTRUFSQ0hfVEVYVF9MSU1JVCIsIm4iLCJ0cmltIiwic3RhcnRzV2l0aCIsImRpc2FibGVQcm9tcHRIaW50Iiwic2VhcmNoVGV4dCIsImRvU3VibWl0IiwibWF0Y2hDb21tYW5kIiwibWF0Y2giLCJtYXRjaGVkIiwiaW52b2tlIiwib25Vc2VySW5wdXQiLCJ0aGVuIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImZvY3VzIiwibWF0Y2hlZENoYXRDb21tYW5kIiwib25Vc2VyU3RvcCIsIm1lc3NhZ2VJZCIsInN0b3AiLCJpZCIsInN0b3BUaW1pbmciLCJEYXRlIiwibm93IiwiZm9yRWFjaCIsImlzRXJyb3IiLCJkYXRlIiwiZ2V0VGltZSIsInN0cmVhbWluZyIsImVycm9yIiwib25JbnB1dEtleURvd24iLCJnZXRJdGVtIiwib25SaWdodENsaWNrIiwiZGVsZXRlTWVzc2FnZSIsIm1zZ0lkIiwib25EZWxldGUiLCJvblJlc2VuZCIsImJvdE1lc3NhZ2UiLCJyZXNlbmRpbmdJbmRleCIsImZpbmRJbmRleCIsInVzZXJNZXNzYWdlIiwib25QaW5NZXNzYWdlIiwicHVzaCIsIkFjdGlvbnMiLCJQaW5Ub2FzdENvbnRlbnQiLCJQaW5Ub2FzdEFjdGlvbiIsInNldFNob3dQcm9tcHRNb2RhbCIsImhpZGVDb250ZXh0IiwiYWNjZXNzU3RvcmUiLCJjb3BpZWRIZWxsbyIsIk9iamVjdCIsImFzc2lnbiIsImlzQXV0aG9yaXplZCIsIkVycm9yIiwiVW5hdXRob3JpemVkIiwicmVuZGVyTWVzc2FnZXMiLCJjb25jYXQiLCJwcmV2aWV3Iiwic2VuZFByZXZpZXdCdWJibGUiLCJtc2dSZW5kZXJJbmRleCIsIl9zZXRNc2dSZW5kZXJJbmRleCIsInNldE1zZ1JlbmRlckluZGV4IiwibmV3SW5kZXgiLCJlbmRSZW5kZXJJbmRleCIsIm9uQ2hhdEJvZHlTY3JvbGwiLCJib3R0b21IZWlnaHQiLCJzY3JvbGxUb3AiLCJjbGllbnRIZWlnaHQiLCJlZGdlVGhyZXNob2xkIiwiaXNUb3VjaFRvcEVkZ2UiLCJpc1RvdWNoQm90dG9tRWRnZSIsImlzSGl0Qm90dG9tIiwicHJldlBhZ2VNc2dJbmRleCIsIm5leHRQYWdlTXNnSW5kZXgiLCJhdXRvRm9jdXMiLCJzaG93TWF4SWNvbiIsImlzQXBwIiwiZmlsbCIsInN1Ym1pdCIsImNvZGUiLCJkaXNhYmxlRmFzdExpbmsiLCJVUkxDb21tYW5kIiwiQ29kZSIsInJlcyIsImFjY2VzcyIsImFjY2Vzc0NvZGUiLCJzZXR0aW5ncyIsInBheWxvYWQiLCJKU09OIiwicGFyc2UiLCJ1cmwiLCJzdHJpbmdpZnkiLCJvcGVuYWlBcGlLZXkiLCJvcGVuYWlVcmwiLCJpc0VkaXRpbmdNZXNzYWdlIiwic2V0SXNFZGl0aW5nTWVzc2FnZSIsIm1heUJlVW5maW5pc2hlZElucHV0IiwicmVtb3ZlSXRlbSIsImFjdGlvbiIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwib25DaGFuZ2UiLCJpbmZvIiwiZmlsZSIsInN0YXR1cyIsImZpbGVMaXN0Iiwic3VjY2VzcyIsImNoYXQiLCJkYXRhLXRhdXJpLWRyYWctcmVnaW9uIiwiQ2hhdExpc3QiLCJIb21lIiwib25DbGlja0NhcHR1cmUiLCJ0aWdodEJvcmRlciIsIm9uU2Nyb2xsIiwib25Nb3VzZURvd24iLCJibHVyIiwiaDIiLCJoMyIsImltZyIsInNyYyIsImlzVXNlciIsImlzQ29udGV4dCIsInNob3dBY3Rpb25zIiwic2hvd1R5cGluZyIsInNob3VsZFNob3dDbGVhckNvbnRleHREaXZpZGVyIiwidGV4dGFyZWEiLCJwbGFjZWhvbGRlciIsIklucHV0Iiwib25Gb2N1cyIsIlNlbmQiLCJzZXNzaW9uSW5kZXgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-client)/./app/components/chat.tsx\n"));

/***/ })

});