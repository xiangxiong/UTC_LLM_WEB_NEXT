"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-client_app_components_chat_tsx",{

/***/ "(app-client)/./app/components/chat.tsx":
/*!*********************************!*\
  !*** ./app/components/chat.tsx ***!
  \*********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Chat: function() { return /* binding */ Chat; },\n/* harmony export */   ChatActions: function() { return /* binding */ ChatActions; },\n/* harmony export */   EditMessageModal: function() { return /* binding */ EditMessageModal; },\n/* harmony export */   PromptHints: function() { return /* binding */ PromptHints; },\n/* harmony export */   SessionConfigModel: function() { return /* binding */ SessionConfigModel; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-client)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var use_debounce__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! use-debounce */ \"(app-client)/./node_modules/use-debounce/dist/index.module.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-client)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _icons_send_white_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../icons/send-white.svg */ \"(app-client)/./app/icons/send-white.svg\");\n/* harmony import */ var _icons_brain_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../icons/brain.svg */ \"(app-client)/./app/icons/brain.svg\");\n/* harmony import */ var _icons_return_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../icons/return.svg */ \"(app-client)/./app/icons/return.svg\");\n/* harmony import */ var _icons_copy_svg__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../icons/copy.svg */ \"(app-client)/./app/icons/copy.svg\");\n/* harmony import */ var _icons_three_dots_svg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../icons/three-dots.svg */ \"(app-client)/./app/icons/three-dots.svg\");\n/* harmony import */ var _icons_prompt_svg__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../icons/prompt.svg */ \"(app-client)/./app/icons/prompt.svg\");\n/* harmony import */ var _icons_mask_svg__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../icons/mask.svg */ \"(app-client)/./app/icons/mask.svg\");\n/* harmony import */ var _icons_max_svg__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../icons/max.svg */ \"(app-client)/./app/icons/max.svg\");\n/* harmony import */ var _icons_min_svg__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../icons/min.svg */ \"(app-client)/./app/icons/min.svg\");\n/* harmony import */ var _icons_reload_svg__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../icons/reload.svg */ \"(app-client)/./app/icons/reload.svg\");\n/* harmony import */ var _icons_break_svg__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../icons/break.svg */ \"(app-client)/./app/icons/break.svg\");\n/* harmony import */ var _icons_chat_settings_svg__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../icons/chat-settings.svg */ \"(app-client)/./app/icons/chat-settings.svg\");\n/* harmony import */ var _icons_clear_svg__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../icons/clear.svg */ \"(app-client)/./app/icons/clear.svg\");\n/* harmony import */ var _icons_pin_svg__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../icons/pin.svg */ \"(app-client)/./app/icons/pin.svg\");\n/* harmony import */ var _icons_rename_svg__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../icons/rename.svg */ \"(app-client)/./app/icons/rename.svg\");\n/* harmony import */ var _icons_confirm_svg__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../icons/confirm.svg */ \"(app-client)/./app/icons/confirm.svg\");\n/* harmony import */ var _icons_cancel_svg__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../icons/cancel.svg */ \"(app-client)/./app/icons/cancel.svg\");\n/* harmony import */ var _icons_light_svg__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../icons/light.svg */ \"(app-client)/./app/icons/light.svg\");\n/* harmony import */ var _icons_dark_svg__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../icons/dark.svg */ \"(app-client)/./app/icons/dark.svg\");\n/* harmony import */ var _icons_auto_svg__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../icons/auto.svg */ \"(app-client)/./app/icons/auto.svg\");\n/* harmony import */ var _icons_bottom_svg__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../icons/bottom.svg */ \"(app-client)/./app/icons/bottom.svg\");\n/* harmony import */ var _icons_pause_svg__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../icons/pause.svg */ \"(app-client)/./app/icons/pause.svg\");\n/* harmony import */ var _icons_robot_svg__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../icons/robot.svg */ \"(app-client)/./app/icons/robot.svg\");\n/* harmony import */ var _icons_motai_svg__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../icons/motai.svg */ \"(app-client)/./app/icons/motai.svg\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../store */ \"(app-client)/./app/store/index.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../utils */ \"(app-client)/./app/utils.ts\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! next/dynamic */ \"(app-client)/./node_modules/next/dist/shared/lib/app-dynamic.js\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_28___default = /*#__PURE__*/__webpack_require__.n(next_dynamic__WEBPACK_IMPORTED_MODULE_28__);\n/* harmony import */ var _client_controller__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../client/controller */ \"(app-client)/./app/client/controller.ts\");\n/* harmony import */ var _store_prompt__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../store/prompt */ \"(app-client)/./app/store/prompt.ts\");\n/* harmony import */ var _locales__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../locales */ \"(app-client)/./app/locales/index.ts\");\n/* harmony import */ var _button__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./button */ \"(app-client)/./app/components/button.tsx\");\n/* harmony import */ var _chat_module_scss__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./chat.module.scss */ \"(app-client)/./app/components/chat.module.scss\");\n/* harmony import */ var _chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default = /*#__PURE__*/__webpack_require__.n(_chat_module_scss__WEBPACK_IMPORTED_MODULE_44__);\n/* harmony import */ var _ui_lib__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./ui-lib */ \"(app-client)/./app/components/ui-lib.tsx\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! react-router-dom */ \"(app-client)/./node_modules/react-router/dist/index.js\");\n/* harmony import */ var _constant__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../constant */ \"(app-client)/./app/constant.ts\");\n/* harmony import */ var _emoji__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./emoji */ \"(app-client)/./app/components/emoji.tsx\");\n/* harmony import */ var _mask__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./mask */ \"(app-client)/./app/components/mask.tsx\");\n/* harmony import */ var _store_mask__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../store/mask */ \"(app-client)/./app/store/mask.ts\");\n/* harmony import */ var _command__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../command */ \"(app-client)/./app/command.ts\");\n/* harmony import */ var _utils_format__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../utils/format */ \"(app-client)/./app/utils/format.ts\");\n/* harmony import */ var _exporter__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./exporter */ \"(app-client)/./app/components/exporter.tsx\");\n/* harmony import */ var _config_client__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../config/client */ \"(app-client)/./app/config/client.ts\");\n/* harmony import */ var _utils_hooks__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../utils/hooks */ \"(app-client)/./app/utils/hooks.ts\");\n/* harmony import */ var antd_lib_message__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! antd/lib/message */ \"(app-client)/./node_modules/antd/lib/message/index.js\");\n/* harmony import */ var antd_lib_upload__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! antd/lib/upload */ \"(app-client)/./node_modules/antd/lib/upload/index.js\");\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$(), _s3 = $RefreshSig$(), _s4 = $RefreshSig$(), _s5 = $RefreshSig$(), _s6 = $RefreshSig$(), _s7 = $RefreshSig$(), _s8 = $RefreshSig$(), _s9 = $RefreshSig$(), _s10 = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Markdown = next_dynamic__WEBPACK_IMPORTED_MODULE_28___default()(async ()=>(await __webpack_require__.e(/*! import() */ \"_app-client_app_components_markdown_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ./markdown */ \"(app-client)/./app/components/markdown.tsx\"))).Markdown, {\n    loadableGenerated: {\n        modules: [\n            \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx -> \" + \"./markdown\"\n        ]\n    },\n    loading: ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_three_dots_svg__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}, void 0, false, {\n            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n            lineNumber: 99,\n            columnNumber: 18\n        }, undefined)\n});\n_c = Markdown;\nfunction SessionConfigModel(props) {\n    _s();\n    const chatStore = (0,_store__WEBPACK_IMPORTED_MODULE_26__.useChatStore)();\n    const session = chatStore.currentSession();\n    const maskStore = (0,_store_mask__WEBPACK_IMPORTED_MODULE_37__.useMaskStore)();\n    const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_43__.useNavigate)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"modal-mask\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_lib__WEBPACK_IMPORTED_MODULE_33__.Modal, {\n            title: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Context.Edit,\n            onClose: ()=>props.onClose(),\n            actions: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_button__WEBPACK_IMPORTED_MODULE_32__.IconButton, {\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_reload_svg__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {}, void 0, false, void 0, void 0),\n                    bordered: true,\n                    text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Config.Reset,\n                    onClick: async ()=>{\n                        if (await (0,_ui_lib__WEBPACK_IMPORTED_MODULE_33__.showConfirm)(_locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Memory.ResetConfirm)) {\n                            chatStore.updateCurrentSession((session)=>session.memoryPrompt = \"\");\n                        }\n                    }\n                }, \"reset\", false, void 0, void 0),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_button__WEBPACK_IMPORTED_MODULE_32__.IconButton, {\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_copy_svg__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {}, void 0, false, void 0, void 0),\n                    bordered: true,\n                    text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Config.SaveAs,\n                    onClick: ()=>{\n                        navigate(_constant__WEBPACK_IMPORTED_MODULE_34__.Path.Masks);\n                        setTimeout(()=>{\n                            maskStore.create(session.mask);\n                        }, 500);\n                    }\n                }, \"copy\", false, void 0, void 0)\n            ],\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mask__WEBPACK_IMPORTED_MODULE_36__.MaskConfig, {\n                mask: session.mask,\n                updateMask: (updater)=>{\n                    const mask = {\n                        ...session.mask\n                    };\n                    updater(mask);\n                    chatStore.updateCurrentSession((session)=>session.mask = mask);\n                },\n                shouldSyncFromGlobal: true,\n                extraListItems: session.mask.modelConfig.sendMemory ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_lib__WEBPACK_IMPORTED_MODULE_33__.ListItem, {\n                    className: \"copyable\",\n                    title: \"\".concat(_locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Memory.Title, \" (\").concat(session.lastSummarizeIndex, \" of \").concat(session.messages.length, \")\"),\n                    subTitle: session.memoryPrompt || _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Memory.EmptyContent\n                }, void 0, false, void 0, void 0) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}, void 0, false)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 141,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n            lineNumber: 110,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n        lineNumber: 109,\n        columnNumber: 5\n    }, this);\n}\n_s(SessionConfigModel, \"z78RVOGmEODqWKBe7iegWqnpLi4=\", false, function() {\n    return [\n        _store__WEBPACK_IMPORTED_MODULE_26__.useChatStore,\n        _store_mask__WEBPACK_IMPORTED_MODULE_37__.useMaskStore,\n        react_router_dom__WEBPACK_IMPORTED_MODULE_43__.useNavigate\n    ];\n});\n_c1 = SessionConfigModel;\nfunction PromptToast(props) {\n    _s1();\n    const chatStore = (0,_store__WEBPACK_IMPORTED_MODULE_26__.useChatStore)();\n    const session = chatStore.currentSession();\n    const context = session.mask.context;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"prompt-toast\"]),\n        children: [\n            props.showToast && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"prompt-toast-inner\"]) + \" clickable\",\n                role: \"button\",\n                onClick: ()=>props.setShowModal(true),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_brain_svg__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {}, void 0, false, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 183,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"prompt-toast-content\"]),\n                        children: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Context.Toast(context.length)\n                    }, void 0, false, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 184,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 178,\n                columnNumber: 9\n            }, this),\n            props.showModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SessionConfigModel, {\n                onClose: ()=>props.setShowModal(false)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 190,\n                columnNumber: 9\n            }, this)\n        ]\n    }, \"prompt-toast\", true, {\n        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n        lineNumber: 176,\n        columnNumber: 5\n    }, this);\n}\n_s1(PromptToast, \"VEZRjRiHFhGEe/E6z12rT6r9BBA=\", false, function() {\n    return [\n        _store__WEBPACK_IMPORTED_MODULE_26__.useChatStore\n    ];\n});\n_c2 = PromptToast;\nfunction useSubmitHandler() {\n    _s2();\n    const config = (0,_store__WEBPACK_IMPORTED_MODULE_26__.useAppConfig)();\n    const submitKey = config.submitKey;\n    const isComposing = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        for(var i = 1; i <= 5; i++){\n            setTimeout(function timer() {\n                console.log(i);\n            }, 0);\n        }\n        const onCompositionStart = ()=>{\n            isComposing.current = true;\n        };\n        const onCompositionEnd = ()=>{\n            isComposing.current = false;\n        };\n        window.addEventListener(\"compositionstart\", onCompositionStart);\n        window.addEventListener(\"compositionend\", onCompositionEnd);\n        return ()=>{\n            window.removeEventListener(\"compositionstart\", onCompositionStart);\n            window.removeEventListener(\"compositionend\", onCompositionEnd);\n        };\n    }, []);\n    const shouldSubmit = (e)=>{\n        if (e.key !== \"Enter\") return false;\n        if (e.key === \"Enter\" && (e.nativeEvent.isComposing || isComposing.current)) return false;\n        return config.submitKey === _store__WEBPACK_IMPORTED_MODULE_26__.SubmitKey.AltEnter && e.altKey || config.submitKey === _store__WEBPACK_IMPORTED_MODULE_26__.SubmitKey.CtrlEnter && e.ctrlKey || config.submitKey === _store__WEBPACK_IMPORTED_MODULE_26__.SubmitKey.ShiftEnter && e.shiftKey || config.submitKey === _store__WEBPACK_IMPORTED_MODULE_26__.SubmitKey.MetaEnter && e.metaKey || config.submitKey === _store__WEBPACK_IMPORTED_MODULE_26__.SubmitKey.Enter && !e.altKey && !e.ctrlKey && !e.shiftKey && !e.metaKey;\n    };\n    return {\n        submitKey,\n        shouldSubmit\n    };\n}\n_s2(useSubmitHandler, \"RhLmiAbheqFHJx+YtGZ+eIpCF80=\", false, function() {\n    return [\n        _store__WEBPACK_IMPORTED_MODULE_26__.useAppConfig\n    ];\n});\nfunction PromptHints(props) {\n    _s3();\n    const noPrompts = props.prompts.length === 0;\n    const [selectIndex, setSelectIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const selectedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setSelectIndex(0);\n    }, [\n        props.prompts.length\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const onKeyDown = (e)=>{\n            if (noPrompts || e.metaKey || e.altKey || e.ctrlKey) {\n                return;\n            }\n            // arrow up / down to select prompt\n            const changeIndex = (delta)=>{\n                var _selectedRef_current;\n                e.stopPropagation();\n                e.preventDefault();\n                const nextIndex = Math.max(0, Math.min(props.prompts.length - 1, selectIndex + delta));\n                setSelectIndex(nextIndex);\n                (_selectedRef_current = selectedRef.current) === null || _selectedRef_current === void 0 ? void 0 : _selectedRef_current.scrollIntoView({\n                    block: \"center\"\n                });\n            };\n            if (e.key === \"ArrowUp\") {\n                changeIndex(1);\n            } else if (e.key === \"ArrowDown\") {\n                changeIndex(-1);\n            } else if (e.key === \"Enter\") {\n                const selectedPrompt = props.prompts.at(selectIndex);\n                if (selectedPrompt) {\n                    props.onPromptSelect(selectedPrompt);\n                }\n            }\n        };\n        window.addEventListener(\"keydown\", onKeyDown);\n        return ()=>window.removeEventListener(\"keydown\", onKeyDown);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        props.prompts.length,\n        selectIndex\n    ]);\n    if (noPrompts) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"prompt-hints\"]),\n        children: props.prompts.map((prompt, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: i === selectIndex ? selectedRef : null,\n                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"prompt-hint\"]) + \" \".concat(i === selectIndex ? (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"prompt-hint-selected\"]) : \"\"),\n                onClick: ()=>props.onPromptSelect(prompt),\n                onMouseEnter: ()=>setSelectIndex(i),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"hint-title\"]),\n                        children: prompt.title\n                    }, void 0, false, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 313,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"hint-content\"]),\n                        children: prompt.content\n                    }, void 0, false, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 314,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, prompt.title + i.toString(), true, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 303,\n                columnNumber: 9\n            }, this))\n    }, void 0, false, {\n        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n        lineNumber: 301,\n        columnNumber: 5\n    }, this);\n}\n_s3(PromptHints, \"qRy81yzrODnly+hCrZ8AH+LDmLY=\");\n_c3 = PromptHints;\nfunction ClearContextDivider() {\n    _s4();\n    const chatStore = (0,_store__WEBPACK_IMPORTED_MODULE_26__.useChatStore)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"clear-context\"]),\n        onClick: ()=>chatStore.updateCurrentSession((session)=>session.clearContextIndex = undefined),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"clear-context-tips\"]),\n                children: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Context.Clear\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 333,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"clear-context-revert-btn\"]),\n                children: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Context.Revert\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 334,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n        lineNumber: 325,\n        columnNumber: 5\n    }, this);\n}\n_s4(ClearContextDivider, \"VEZRjRiHFhGEe/E6z12rT6r9BBA=\", false, function() {\n    return [\n        _store__WEBPACK_IMPORTED_MODULE_26__.useChatStore\n    ];\n});\n_c4 = ClearContextDivider;\nfunction ChatAction(props) {\n    _s5();\n    const iconRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const textRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [width, setWidth] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        full: 16,\n        icon: 16\n    });\n    function updateWidth() {\n        if (!iconRef.current || !textRef.current) return;\n        const getWidth = (dom)=>dom.getBoundingClientRect().width;\n        const textWidth = getWidth(textRef.current);\n        const iconWidth = getWidth(iconRef.current);\n        setWidth({\n            full: textWidth + iconWidth,\n            icon: iconWidth\n        });\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"\".concat((_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-input-action\"]), \" clickable\"),\n        onClick: ()=>{\n            props.onClick();\n            setTimeout(updateWidth, 1);\n        },\n        onMouseEnter: updateWidth,\n        onTouchStart: updateWidth,\n        style: {\n            \"--icon-width\": \"\".concat(width.icon, \"px\"),\n            \"--full-width\": \"\".concat(width.full, \"px\")\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: iconRef,\n                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default().icon),\n                children: props.icon\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 380,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default().text),\n                ref: textRef,\n                children: props.text\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 383,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n        lineNumber: 365,\n        columnNumber: 5\n    }, this);\n}\n_s5(ChatAction, \"6GyWLM0xTk1RJLP38MM5lMkPPOo=\");\n_c5 = ChatAction;\nfunction useScrollToBottom() {\n    _s6();\n    // for auto-scroll\n    const scrollRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [autoScroll, setAutoScroll] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    function scrollDomToBottom() {\n        const dom = scrollRef.current;\n        if (dom) {\n            requestAnimationFrame(()=>{\n                setAutoScroll(true);\n                dom.scrollTo(0, dom.scrollHeight);\n            });\n        }\n    }\n    // auto scroll\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (autoScroll) {\n            scrollDomToBottom();\n        }\n    });\n    return {\n        scrollRef,\n        autoScroll,\n        setAutoScroll,\n        scrollDomToBottom\n    };\n}\n_s6(useScrollToBottom, \"yJQBBh+OiMUyHghtCC5WHUlLfio=\");\nfunction ChatActions(props) {\n    _s7();\n    const config = (0,_store__WEBPACK_IMPORTED_MODULE_26__.useAppConfig)();\n    const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_43__.useNavigate)();\n    const chatStore = (0,_store__WEBPACK_IMPORTED_MODULE_26__.useChatStore)();\n    // switch themes\n    const theme = config.theme;\n    function nextTheme() {\n        const themes = [\n            _store__WEBPACK_IMPORTED_MODULE_26__.Theme.Auto,\n            _store__WEBPACK_IMPORTED_MODULE_26__.Theme.Light,\n            _store__WEBPACK_IMPORTED_MODULE_26__.Theme.Dark\n        ];\n        const themeIndex = themes.indexOf(theme);\n        const nextIndex = (themeIndex + 1) % themes.length;\n        const nextTheme = themes[nextIndex];\n        config.update((config)=>config.theme = nextTheme);\n    }\n    // stop all responses\n    const couldStop = _client_controller__WEBPACK_IMPORTED_MODULE_29__.ChatControllerPool.hasPending();\n    const stopAll = ()=>_client_controller__WEBPACK_IMPORTED_MODULE_29__.ChatControllerPool.stopAll();\n    // switch model\n    const currentModel = chatStore.currentSession().mask.modelConfig.model;\n    const allModels = (0,_utils_hooks__WEBPACK_IMPORTED_MODULE_42__.useAllModels)();\n    const models = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>allModels.filter((m)=>m.available), [\n        allModels\n    ]);\n    const [showModelSelector, setShowModelSelector] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // if current model is not available\n        // switch to first available model\n        const isUnavaliableModel = !models.some((m)=>m.name === currentModel);\n        if (isUnavaliableModel && models.length > 0) {\n            const nextModel = models[0].name;\n            chatStore.updateCurrentSession((session)=>session.mask.modelConfig.model = nextModel);\n            (0,_ui_lib__WEBPACK_IMPORTED_MODULE_33__.showToast)(nextModel);\n        }\n    }, [\n        chatStore,\n        currentModel,\n        models\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-input-actions\"]),\n        children: [\n            couldStop && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                onClick: stopAll,\n                text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.InputActions.Stop,\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_pause_svg__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {}, void 0, false, void 0, void 0)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 469,\n                columnNumber: 9\n            }, this),\n            !props.hitBottom && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                onClick: props.scrollToBottom,\n                text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.InputActions.ToBottom,\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_bottom_svg__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {}, void 0, false, void 0, void 0)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 476,\n                columnNumber: 9\n            }, this),\n            props.hitBottom && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                onClick: props.showPromptModal,\n                text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.InputActions.Settings,\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_chat_settings_svg__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {}, void 0, false, void 0, void 0)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 483,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                onClick: nextTheme,\n                text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.InputActions.Theme[theme],\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: theme === _store__WEBPACK_IMPORTED_MODULE_26__.Theme.Auto ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_auto_svg__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {}, void 0, false, void 0, void 0) : theme === _store__WEBPACK_IMPORTED_MODULE_26__.Theme.Light ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_light_svg__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {}, void 0, false, void 0, void 0) : theme === _store__WEBPACK_IMPORTED_MODULE_26__.Theme.Dark ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_dark_svg__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {}, void 0, false, void 0, void 0) : null\n                }, void 0, false)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 490,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                onClick: props.showPromptHints,\n                text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.InputActions.Prompt,\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_prompt_svg__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {}, void 0, false, void 0, void 0)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 506,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                onClick: ()=>{\n                    navigate(_constant__WEBPACK_IMPORTED_MODULE_34__.Path.Masks);\n                },\n                text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.InputActions.Masks,\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_mask_svg__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {}, void 0, false, void 0, void 0)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 512,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.InputActions.Clear,\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_break_svg__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {}, void 0, false, void 0, void 0),\n                onClick: ()=>{\n                    chatStore.updateCurrentSession((session)=>{\n                        if (session.clearContextIndex === session.messages.length) {\n                            session.clearContextIndex = undefined;\n                        } else {\n                            session.clearContextIndex = session.messages.length;\n                            session.memoryPrompt = \"\"; // will clear memory\n                        }\n                    });\n                }\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 520,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                onClick: ()=>setShowModelSelector(true),\n                text: currentModel,\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_robot_svg__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {}, void 0, false, void 0, void 0)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 535,\n                columnNumber: 7\n            }, this),\n            showModelSelector && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_lib__WEBPACK_IMPORTED_MODULE_33__.Selector, {\n                defaultSelectedValue: currentModel,\n                items: models.map((m)=>({\n                        title: m.displayName,\n                        value: m.name\n                    })),\n                onClose: ()=>setShowModelSelector(false),\n                onSelection: (s)=>{\n                    if (s.length === 0) return;\n                    chatStore.updateCurrentSession((session)=>{\n                        session.mask.modelConfig.model = s[0];\n                        session.mask.syncGlobalConfig = false;\n                    });\n                    (0,_ui_lib__WEBPACK_IMPORTED_MODULE_33__.showToast)(s[0]);\n                }\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 542,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n        lineNumber: 467,\n        columnNumber: 5\n    }, this);\n}\n_s7(ChatActions, \"SKdCl+52LLR0RuP2XyyUMMA35fc=\", false, function() {\n    return [\n        _store__WEBPACK_IMPORTED_MODULE_26__.useAppConfig,\n        react_router_dom__WEBPACK_IMPORTED_MODULE_43__.useNavigate,\n        _store__WEBPACK_IMPORTED_MODULE_26__.useChatStore,\n        _utils_hooks__WEBPACK_IMPORTED_MODULE_42__.useAllModels\n    ];\n});\n_c6 = ChatActions;\nfunction EditMessageModal(props) {\n    _s8();\n    const chatStore = (0,_store__WEBPACK_IMPORTED_MODULE_26__.useChatStore)();\n    const session = chatStore.currentSession();\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(session.messages.slice());\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"modal-mask\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_lib__WEBPACK_IMPORTED_MODULE_33__.Modal, {\n            title: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.EditMessage.Title,\n            onClose: props.onClose,\n            actions: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_button__WEBPACK_IMPORTED_MODULE_32__.IconButton, {\n                    text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].UI.Cancel,\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_cancel_svg__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {}, void 0, false, void 0, void 0),\n                    onClick: ()=>{\n                        props.onClose();\n                    }\n                }, \"cancel\", false, void 0, void 0),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_button__WEBPACK_IMPORTED_MODULE_32__.IconButton, {\n                    type: \"primary\",\n                    text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].UI.Confirm,\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_confirm_svg__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {}, void 0, false, void 0, void 0),\n                    onClick: ()=>{\n                        chatStore.updateCurrentSession((session)=>session.messages = messages);\n                        props.onClose();\n                    }\n                }, \"ok\", false, void 0, void 0)\n            ],\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_lib__WEBPACK_IMPORTED_MODULE_33__.List, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_lib__WEBPACK_IMPORTED_MODULE_33__.ListItem, {\n                        title: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.EditMessage.Topic.Title,\n                        subTitle: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.EditMessage.Topic.SubTitle,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"text\",\n                            value: session.topic,\n                            onInput: (e)=>chatStore.updateCurrentSession((session)=>session.topic = e.currentTarget.value)\n                        }, void 0, false, {\n                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                            lineNumber: 601,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 597,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                    lineNumber: 596,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mask__WEBPACK_IMPORTED_MODULE_36__.ContextPrompts, {\n                    context: messages,\n                    updateContext: (updater)=>{\n                        const newMessages = messages.slice();\n                        updater(newMessages);\n                        setMessages(newMessages);\n                    }\n                }, void 0, false, {\n                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                    lineNumber: 612,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n            lineNumber: 570,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n        lineNumber: 569,\n        columnNumber: 5\n    }, this);\n}\n_s8(EditMessageModal, \"PNpuWAMa1wFKZALzUiT027BVX2s=\", false, function() {\n    return [\n        _store__WEBPACK_IMPORTED_MODULE_26__.useChatStore\n    ];\n});\n_c7 = EditMessageModal;\nfunction _Chat() {\n    var _session_messages_at, _clientConfig;\n    _s9();\n    const chatStore = (0,_store__WEBPACK_IMPORTED_MODULE_26__.useChatStore)();\n    const session = chatStore.currentSession();\n    const config = (0,_store__WEBPACK_IMPORTED_MODULE_26__.useAppConfig)();\n    const fontSize = config.fontSize;\n    const [showExport, setShowExport] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [userInput, setUserInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { submitKey, shouldSubmit } = useSubmitHandler();\n    const { scrollRef, setAutoScroll, scrollDomToBottom } = useScrollToBottom();\n    const [hitBottom, setHitBottom] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const isMobileScreen = (0,_utils__WEBPACK_IMPORTED_MODULE_27__.useMobileScreen)();\n    const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_43__.useNavigate)();\n    // prompt hints\n    const promptStore = (0,_store_prompt__WEBPACK_IMPORTED_MODULE_30__.usePromptStore)();\n    const [promptHints, setPromptHints] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const onSearch = (0,use_debounce__WEBPACK_IMPORTED_MODULE_45__.useDebouncedCallback)((text)=>{\n        const matchedPrompts = promptStore.search(text);\n        setPromptHints(matchedPrompts);\n    }, 100, {\n        leading: true,\n        trailing: true\n    });\n    // auto grow input\n    const [inputRows, setInputRows] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(2);\n    const measure = (0,use_debounce__WEBPACK_IMPORTED_MODULE_45__.useDebouncedCallback)(()=>{\n        const rows = inputRef.current ? (0,_utils__WEBPACK_IMPORTED_MODULE_27__.autoGrowTextArea)(inputRef.current) : 1;\n        const inputRows = Math.min(20, Math.max(2 + Number(!isMobileScreen), rows));\n        setInputRows(inputRows);\n    }, 100, {\n        leading: true,\n        trailing: true\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(measure, [\n        userInput\n    ]);\n    // chat commands shortcuts\n    const chatCommands = (0,_command__WEBPACK_IMPORTED_MODULE_38__.useChatCommand)({\n        new: ()=>chatStore.newSession(),\n        newm: ()=>navigate(_constant__WEBPACK_IMPORTED_MODULE_34__.Path.NewChat),\n        prev: ()=>chatStore.nextSession(-1),\n        next: ()=>chatStore.nextSession(1),\n        clear: ()=>chatStore.updateCurrentSession((session)=>session.clearContextIndex = session.messages.length),\n        del: ()=>chatStore.deleteSession(chatStore.currentSessionIndex)\n    });\n    // only search prompts when user input is short\n    const SEARCH_TEXT_LIMIT = 30;\n    const onInput = (text)=>{\n        setUserInput(text);\n        const n = text.trim().length;\n        // clear search results\n        if (n === 0) {\n            setPromptHints([]);\n        } else if (text.startsWith(_command__WEBPACK_IMPORTED_MODULE_38__.ChatCommandPrefix)) {\n            setPromptHints(chatCommands.search(text));\n        } else if (!config.disablePromptHint && n < SEARCH_TEXT_LIMIT) {\n            // check if need to trigger auto completion\n            if (text.startsWith(\"/\")) {\n                let searchText = text.slice(1);\n                onSearch(searchText);\n            }\n        }\n    };\n    const doSubmit = (userInput)=>{\n        var _inputRef_current;\n        if (userInput.trim() === \"\") return;\n        const matchCommand = chatCommands.match(userInput);\n        if (matchCommand.matched) {\n            setUserInput(\"\");\n            setPromptHints([]);\n            matchCommand.invoke();\n            return;\n        }\n        setIsLoading(true);\n        chatStore.onUserInput(userInput).then(()=>setIsLoading(false));\n        localStorage.setItem(_constant__WEBPACK_IMPORTED_MODULE_34__.LAST_INPUT_KEY, userInput);\n        setUserInput(\"\");\n        setPromptHints([]);\n        if (!isMobileScreen) (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n        setAutoScroll(true);\n    };\n    const onPromptSelect = (prompt)=>{\n        setTimeout(()=>{\n            var _inputRef_current;\n            setPromptHints([]);\n            const matchedChatCommand = chatCommands.match(prompt.content);\n            if (matchedChatCommand.matched) {\n                // if user is selecting a chat command, just trigger it\n                matchedChatCommand.invoke();\n                setUserInput(\"\");\n            } else {\n                // or fill the prompt\n                setUserInput(prompt.content);\n            }\n            (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n        }, 30);\n    };\n    // stop response\n    const onUserStop = (messageId)=>{\n        _client_controller__WEBPACK_IMPORTED_MODULE_29__.ChatControllerPool.stop(session.id, messageId);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        chatStore.updateCurrentSession((session)=>{\n            const stopTiming = Date.now() - _constant__WEBPACK_IMPORTED_MODULE_34__.REQUEST_TIMEOUT_MS;\n            session.messages.forEach((m)=>{\n                // check if should stop all stale messages\n                if (m.isError || new Date(m.date).getTime() < stopTiming) {\n                    if (m.streaming) {\n                        m.streaming = false;\n                    }\n                    if (m.content.length === 0) {\n                        m.isError = true;\n                        m.content = (0,_utils_format__WEBPACK_IMPORTED_MODULE_39__.prettyObject)({\n                            error: true,\n                            message: \"empty response\"\n                        });\n                    }\n                }\n            });\n            // auto sync mask config from global config\n            if (session.mask.syncGlobalConfig) {\n                console.log(\"[Mask] syncing from global, name = \", session.mask.name);\n                session.mask.modelConfig = {\n                    ...config.modelConfig\n                };\n            }\n        });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    // check if should send message\n    const onInputKeyDown = (e)=>{\n        // if ArrowUp and no userInput, fill with last input\n        if (e.key === \"ArrowUp\" && userInput.length <= 0 && !(e.metaKey || e.altKey || e.ctrlKey)) {\n            var _localStorage_getItem;\n            setUserInput((_localStorage_getItem = localStorage.getItem(_constant__WEBPACK_IMPORTED_MODULE_34__.LAST_INPUT_KEY)) !== null && _localStorage_getItem !== void 0 ? _localStorage_getItem : \"\");\n            e.preventDefault();\n            return;\n        }\n        if (shouldSubmit(e) && promptHints.length === 0) {\n            doSubmit(userInput);\n            e.preventDefault();\n        }\n    };\n    const onRightClick = (e, message)=>{\n        // copy to clipboard\n        if ((0,_utils__WEBPACK_IMPORTED_MODULE_27__.selectOrCopy)(e.currentTarget, message.content)) {\n            if (userInput.length === 0) {\n                setUserInput(message.content);\n            }\n            e.preventDefault();\n        }\n    };\n    const deleteMessage = (msgId)=>{\n        chatStore.updateCurrentSession((session)=>session.messages = session.messages.filter((m)=>m.id !== msgId));\n    };\n    const onDelete = (msgId)=>{\n        deleteMessage(msgId);\n    };\n    const onResend = (message)=>{\n        var _botMessage, _inputRef_current;\n        // when it is resending a message\n        // 1. for a user's message, find the next bot response\n        // 2. for a bot's message, find the last user's input\n        // 3. delete original user input and bot's message\n        // 4. resend the user's input\n        const resendingIndex = session.messages.findIndex((m)=>m.id === message.id);\n        if (resendingIndex < 0 || resendingIndex >= session.messages.length) {\n            console.error(\"[Chat] failed to find resending message\", message);\n            return;\n        }\n        let userMessage;\n        let botMessage;\n        if (message.role === \"assistant\") {\n            // if it is resending a bot's message, find the user input for it\n            botMessage = message;\n            for(let i = resendingIndex; i >= 0; i -= 1){\n                if (session.messages[i].role === \"user\") {\n                    userMessage = session.messages[i];\n                    break;\n                }\n            }\n        } else if (message.role === \"user\") {\n            // if it is resending a user's input, find the bot's response\n            userMessage = message;\n            for(let i = resendingIndex; i < session.messages.length; i += 1){\n                if (session.messages[i].role === \"assistant\") {\n                    botMessage = session.messages[i];\n                    break;\n                }\n            }\n        }\n        if (userMessage === undefined) {\n            console.error(\"[Chat] failed to resend\", message);\n            return;\n        }\n        // delete the original messages\n        deleteMessage(userMessage.id);\n        deleteMessage((_botMessage = botMessage) === null || _botMessage === void 0 ? void 0 : _botMessage.id);\n        // resend the message\n        setIsLoading(true);\n        chatStore.onUserInput(userMessage.content).then(()=>setIsLoading(false));\n        (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n    };\n    const onPinMessage = (message)=>{\n        chatStore.updateCurrentSession((session)=>session.mask.context.push(message));\n        (0,_ui_lib__WEBPACK_IMPORTED_MODULE_33__.showToast)(_locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Actions.PinToastContent, {\n            text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Actions.PinToastAction,\n            onClick: ()=>{\n                setShowPromptModal(true);\n            }\n        });\n    };\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        return session.mask.hideContext ? [] : session.mask.context.slice();\n    }, [\n        session.mask.context,\n        session.mask.hideContext\n    ]);\n    const accessStore = (0,_store__WEBPACK_IMPORTED_MODULE_26__.useAccessStore)();\n    if (context.length === 0 && ((_session_messages_at = session.messages.at(0)) === null || _session_messages_at === void 0 ? void 0 : _session_messages_at.content) !== _store__WEBPACK_IMPORTED_MODULE_26__.BOT_HELLO.content) {\n        const copiedHello = Object.assign({}, _store__WEBPACK_IMPORTED_MODULE_26__.BOT_HELLO);\n        if (!accessStore.isAuthorized()) {\n            copiedHello.content = _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Error.Unauthorized;\n        }\n        context.push(copiedHello);\n    }\n    // preview messages\n    const renderMessages = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        return context.concat(session.messages).concat(isLoading ? [\n            {\n                ...(0,_store__WEBPACK_IMPORTED_MODULE_26__.createMessage)({\n                    role: \"assistant\",\n                    content: \"\"\n                }),\n                preview: true\n            }\n        ] : []).concat(userInput.length > 0 && config.sendPreviewBubble ? [\n            {\n                ...(0,_store__WEBPACK_IMPORTED_MODULE_26__.createMessage)({\n                    role: \"user\",\n                    content: userInput\n                }),\n                preview: true\n            }\n        ] : []);\n    }, [\n        config.sendPreviewBubble,\n        context,\n        isLoading,\n        session.messages,\n        userInput\n    ]);\n    const [msgRenderIndex, _setMsgRenderIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(Math.max(0, renderMessages.length - _constant__WEBPACK_IMPORTED_MODULE_34__.CHAT_PAGE_SIZE));\n    function setMsgRenderIndex(newIndex) {\n        newIndex = Math.min(renderMessages.length - _constant__WEBPACK_IMPORTED_MODULE_34__.CHAT_PAGE_SIZE, newIndex);\n        newIndex = Math.max(0, newIndex);\n        _setMsgRenderIndex(newIndex);\n    }\n    const messages = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const endRenderIndex = Math.min(msgRenderIndex + 3 * _constant__WEBPACK_IMPORTED_MODULE_34__.CHAT_PAGE_SIZE, renderMessages.length);\n        return renderMessages.slice(msgRenderIndex, endRenderIndex);\n    }, [\n        msgRenderIndex,\n        renderMessages\n    ]);\n    const onChatBodyScroll = (e)=>{\n        const bottomHeight = e.scrollTop + e.clientHeight;\n        const edgeThreshold = e.clientHeight;\n        const isTouchTopEdge = e.scrollTop <= edgeThreshold;\n        const isTouchBottomEdge = bottomHeight >= e.scrollHeight - edgeThreshold;\n        const isHitBottom = bottomHeight >= e.scrollHeight - (isMobileScreen ? 4 : 10);\n        const prevPageMsgIndex = msgRenderIndex - _constant__WEBPACK_IMPORTED_MODULE_34__.CHAT_PAGE_SIZE;\n        const nextPageMsgIndex = msgRenderIndex + _constant__WEBPACK_IMPORTED_MODULE_34__.CHAT_PAGE_SIZE;\n        if (isTouchTopEdge && !isTouchBottomEdge) {\n            setMsgRenderIndex(prevPageMsgIndex);\n        } else if (isTouchBottomEdge) {\n            setMsgRenderIndex(nextPageMsgIndex);\n        }\n        setHitBottom(isHitBottom);\n        setAutoScroll(isHitBottom);\n    };\n    function scrollToBottom() {\n        setMsgRenderIndex(renderMessages.length - _constant__WEBPACK_IMPORTED_MODULE_34__.CHAT_PAGE_SIZE);\n        scrollDomToBottom();\n    }\n    var _session_clearContextIndex;\n    // clear context index = context length + index in messages\n    const clearContextIndex = ((_session_clearContextIndex = session.clearContextIndex) !== null && _session_clearContextIndex !== void 0 ? _session_clearContextIndex : -1) >= 0 ? session.clearContextIndex + context.length - msgRenderIndex : -1;\n    const [showPromptModal, setShowPromptModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const clientConfig = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>(0,_config_client__WEBPACK_IMPORTED_MODULE_41__.getClientConfig)(), []);\n    const autoFocus = !isMobileScreen; // wont auto focus on mobile screen\n    const showMaxIcon = !isMobileScreen && !((_clientConfig = clientConfig) === null || _clientConfig === void 0 ? void 0 : _clientConfig.isApp);\n    (0,_command__WEBPACK_IMPORTED_MODULE_38__.useCommand)({\n        fill: setUserInput,\n        submit: (text)=>{\n            doSubmit(text);\n        },\n        code: (text)=>{\n            if (accessStore.disableFastLink) return;\n            console.log(\"[Command] got code from url: \", text);\n            (0,_ui_lib__WEBPACK_IMPORTED_MODULE_33__.showConfirm)(_locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].URLCommand.Code + \"code = \".concat(text)).then((res)=>{\n                if (res) {\n                    accessStore.update((access)=>access.accessCode = text);\n                }\n            });\n        },\n        settings: (text)=>{\n            if (accessStore.disableFastLink) return;\n            try {\n                const payload = JSON.parse(text);\n                console.log(\"[Command] got settings from url: \", payload);\n                if (payload.key || payload.url) {\n                    (0,_ui_lib__WEBPACK_IMPORTED_MODULE_33__.showConfirm)(_locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].URLCommand.Settings + \"\\n\".concat(JSON.stringify(payload, null, 4))).then((res)=>{\n                        if (!res) return;\n                        if (payload.key) {\n                            accessStore.update((access)=>access.openaiApiKey = payload.key);\n                        }\n                        if (payload.url) {\n                            accessStore.update((access)=>access.openaiUrl = payload.url);\n                        }\n                    });\n                }\n            } catch (e) {\n                console.error(\"[Command] failed to get settings from url: \", text);\n            }\n        }\n    });\n    // edit / insert message modal\n    const [isEditingMessage, setIsEditingMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // remember unfinished input\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // try to load from local storage\n        const key = (0,_constant__WEBPACK_IMPORTED_MODULE_34__.UNFINISHED_INPUT)(session.id);\n        const mayBeUnfinishedInput = localStorage.getItem(key);\n        if (mayBeUnfinishedInput && userInput.length === 0) {\n            setUserInput(mayBeUnfinishedInput);\n            localStorage.removeItem(key);\n        }\n        const dom = inputRef.current;\n        return ()=>{\n            var _dom;\n            var _dom_value;\n            localStorage.setItem(key, (_dom_value = (_dom = dom) === null || _dom === void 0 ? void 0 : _dom.value) !== null && _dom_value !== void 0 ? _dom_value : \"\");\n        };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    const props = {\n        name: \"file\",\n        action: \"https://run.mocky.io/v3/435e224c-44fb-4773-9faf-380c5e6a2188\",\n        headers: {\n            authorization: \"authorization-text\"\n        },\n        onChange (info) {\n            if (info.file.status !== \"uploading\") {\n                console.log(info.file, info.fileList);\n            }\n            if (info.file.status === \"done\") {\n                antd_lib_message__WEBPACK_IMPORTED_MODULE_46__[\"default\"].success(\"\".concat(info.file.name, \" file uploaded successfully\"));\n            } else if (info.file.status === \"error\") {\n                antd_lib_message__WEBPACK_IMPORTED_MODULE_46__[\"default\"].error(\"\".concat(info.file.name, \" file upload failed.\"));\n            }\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default().chat),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"window-header\",\n                \"data-tauri-drag-region\": true,\n                children: [\n                    isMobileScreen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"window-actions\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"window-action-button\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_button__WEBPACK_IMPORTED_MODULE_32__.IconButton, {\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_return_svg__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, void 0, void 0),\n                                bordered: true,\n                                title: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Actions.ChatList,\n                                onClick: ()=>navigate(_constant__WEBPACK_IMPORTED_MODULE_34__.Path.Home)\n                            }, void 0, false, {\n                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                lineNumber: 1087,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                            lineNumber: 1086,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 1085,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"window-header-title \".concat((_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-body-title\"])),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"window-header-main-title \".concat((_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-body-main-title\"])),\n                                onClickCapture: ()=>setIsEditingMessage(true),\n                                children: !session.topic ? _store__WEBPACK_IMPORTED_MODULE_26__.DEFAULT_TOPIC : session.topic\n                            }, void 0, false, {\n                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                lineNumber: 1098,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"window-header-sub-title\",\n                                children: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.SubTitle(session.messages.length)\n                            }, void 0, false, {\n                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                lineNumber: 1104,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 1097,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"window-actions\",\n                        children: showMaxIcon && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"window-action-button\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_button__WEBPACK_IMPORTED_MODULE_32__.IconButton, {\n                                icon: config.tightBorder ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_min_svg__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {}, void 0, false, void 0, void 0) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_max_svg__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {}, void 0, false, void 0, void 0),\n                                bordered: true,\n                                onClick: ()=>{\n                                    config.update((config)=>config.tightBorder = !config.tightBorder);\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                lineNumber: 1131,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                            lineNumber: 1130,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 1109,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PromptToast, {\n                        showToast: !hitBottom,\n                        showModal: showPromptModal,\n                        setShowModal: setShowPromptModal\n                    }, void 0, false, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 1144,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 1083,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-body\"]),\n                ref: scrollRef,\n                onScroll: (e)=>onChatBodyScroll(e.currentTarget),\n                onMouseDown: ()=>{\n                    var _inputRef_current;\n                    return (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.blur();\n                },\n                onTouchStart: ()=>{\n                    var _inputRef_current;\n                    (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.blur();\n                    setAutoScroll(false);\n                },\n                children: messages.map((message, i)=>{\n                    const isUser = message.role === \"user\";\n                    const isContext = i < context.length;\n                    const showActions = i > 0 && !(message.preview || message.content.length === 0) && !isContext;\n                    const showTyping = message.preview || message.streaming;\n                    const shouldShowClearContextDivider = i === clearContextIndex - 1;\n                    var _message_id, _message_id1;\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: isUser ? (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-message-user\"]) : (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-message\"]),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-message-container\"]),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-message-header\"]),\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-message-avatar\"]),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-message-edit\"]),\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_button__WEBPACK_IMPORTED_MODULE_32__.IconButton, {\n                                                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_rename_svg__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {}, void 0, false, void 0, void 0),\n                                                                onClick: async ()=>{\n                                                                    const newMessage = await (0,_ui_lib__WEBPACK_IMPORTED_MODULE_33__.showPrompt)(_locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Actions.Edit, message.content, 10);\n                                                                    chatStore.updateCurrentSession((session)=>{\n                                                                        const m = session.mask.context.concat(session.messages).find((m)=>m.id === message.id);\n                                                                        if (m) {\n                                                                            m.content = newMessage;\n                                                                        }\n                                                                    });\n                                                                }\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                                lineNumber: 1181,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                            lineNumber: 1180,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        isUser ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_emoji__WEBPACK_IMPORTED_MODULE_35__.Avatar, {\n                                                            avatar: config.avatar\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                            lineNumber: 1201,\n                                                            columnNumber: 25\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                \"system\"\n                                                            ].includes(message.role) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_emoji__WEBPACK_IMPORTED_MODULE_35__.Avatar, {\n                                                                avatar: \"2699-fe0f\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                                lineNumber: 1205,\n                                                                columnNumber: 29\n                                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mask__WEBPACK_IMPORTED_MODULE_36__.MaskAvatar, {\n                                                                avatar: session.mask.avatar,\n                                                                model: message.model || session.mask.modelConfig.model\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                                lineNumber: 1207,\n                                                                columnNumber: 29\n                                                            }, this)\n                                                        }, void 0, false)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                    lineNumber: 1179,\n                                                    columnNumber: 21\n                                                }, this),\n                                                showActions && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-message-actions\"]),\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-input-actions\"]),\n                                                        children: message.streaming ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                                                            text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Actions.Stop,\n                                                            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_pause_svg__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {}, void 0, false, void 0, void 0),\n                                                            onClick: ()=>onUserStop((_message_id = message.id) !== null && _message_id !== void 0 ? _message_id : i)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                            lineNumber: 1222,\n                                                            columnNumber: 29\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                                                                    text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Actions.Retry,\n                                                                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_reload_svg__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {}, void 0, false, void 0, void 0),\n                                                                    onClick: ()=>onResend(message)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                                    lineNumber: 1229,\n                                                                    columnNumber: 31\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                                                                    text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Actions.Delete,\n                                                                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_clear_svg__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {}, void 0, false, void 0, void 0),\n                                                                    onClick: ()=>onDelete((_message_id1 = message.id) !== null && _message_id1 !== void 0 ? _message_id1 : i)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                                    lineNumber: 1235,\n                                                                    columnNumber: 31\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                                                                    text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Actions.Pin,\n                                                                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_pin_svg__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {}, void 0, false, void 0, void 0),\n                                                                    onClick: ()=>onPinMessage(message)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                                    lineNumber: 1241,\n                                                                    columnNumber: 31\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatAction, {\n                                                                    text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Actions.Copy,\n                                                                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_copy_svg__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {}, void 0, false, void 0, void 0),\n                                                                    onClick: ()=>(0,_utils__WEBPACK_IMPORTED_MODULE_27__.copyToClipboard)(message.content)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                                    lineNumber: 1246,\n                                                                    columnNumber: 31\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                        lineNumber: 1220,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                    lineNumber: 1219,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                            lineNumber: 1178,\n                                            columnNumber: 19\n                                        }, this),\n                                        showTyping && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-message-status\"]),\n                                            children: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Typing\n                                        }, void 0, false, {\n                                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                            lineNumber: 1258,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-message-item\"]),\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Markdown, {\n                                                content: message.content,\n                                                loading: (message.preview || message.streaming) && message.content.length === 0 && !isUser,\n                                                onContextMenu: (e)=>onRightClick(e, message),\n                                                onDoubleClickCapture: ()=>{\n                                                    if (!isMobileScreen) return;\n                                                    setUserInput(message.content);\n                                                },\n                                                fontSize: fontSize,\n                                                parentRef: scrollRef,\n                                                defaultShow: i >= messages.length - 6\n                                            }, void 0, false, {\n                                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                                lineNumber: 1263,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                            lineNumber: 1262,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                    lineNumber: 1177,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                lineNumber: 1174,\n                                columnNumber: 15\n                            }, this),\n                            shouldShowClearContextDivider && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ClearContextDivider, {}, void 0, false, {\n                                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                                lineNumber: 1288,\n                                columnNumber: 49\n                            }, this)\n                        ]\n                    }, message.id, true, {\n                        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                        lineNumber: 1173,\n                        columnNumber: 13\n                    }, this);\n                })\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 1151,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(antd_lib_upload__WEBPACK_IMPORTED_MODULE_47__[\"default\"], {\n                ...props,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_motai_svg__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                    width: \"30px\",\n                    className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default().motai)\n                }, void 0, false, {\n                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                    lineNumber: 1295,\n                    columnNumber: 16\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 1294,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-input-panel\"]),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-input-panel-inner\"]),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                            ref: inputRef,\n                            className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-input\"]),\n                            placeholder: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Input(submitKey),\n                            onInput: (e)=>onInput(e.currentTarget.value),\n                            value: userInput,\n                            onKeyDown: onInputKeyDown,\n                            onFocus: scrollToBottom,\n                            onClick: scrollToBottom,\n                            rows: inputRows,\n                            autoFocus: autoFocus,\n                            style: {\n                                fontSize: config.fontSize\n                            }\n                        }, void 0, false, {\n                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                            lineNumber: 1317,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_button__WEBPACK_IMPORTED_MODULE_32__.IconButton, {\n                            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_icons_send_white_svg__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {}, void 0, false, void 0, void 0),\n                            text: _locales__WEBPACK_IMPORTED_MODULE_31__[\"default\"].Chat.Send,\n                            className: (_chat_module_scss__WEBPACK_IMPORTED_MODULE_44___default()[\"chat-input-send\"]),\n                            type: \"primary\",\n                            onClick: ()=>doSubmit(userInput)\n                        }, void 0, false, {\n                            fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                            lineNumber: 1332,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                    lineNumber: 1316,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 1298,\n                columnNumber: 7\n            }, this),\n            showExport && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_exporter__WEBPACK_IMPORTED_MODULE_40__.ExportMessageModal, {\n                onClose: ()=>setShowExport(false)\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 1343,\n                columnNumber: 9\n            }, this),\n            isEditingMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(EditMessageModal, {\n                onClose: ()=>{\n                    setIsEditingMessage(false);\n                }\n            }, void 0, false, {\n                fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n                lineNumber: 1347,\n                columnNumber: 9\n            }, this)\n        ]\n    }, session.id, true, {\n        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n        lineNumber: 1082,\n        columnNumber: 5\n    }, this);\n}\n_s9(_Chat, \"Loe978PfWKJNd3K7rcOKUXcJhzg=\", false, function() {\n    return [\n        _store__WEBPACK_IMPORTED_MODULE_26__.useChatStore,\n        _store__WEBPACK_IMPORTED_MODULE_26__.useAppConfig,\n        useSubmitHandler,\n        useScrollToBottom,\n        _utils__WEBPACK_IMPORTED_MODULE_27__.useMobileScreen,\n        react_router_dom__WEBPACK_IMPORTED_MODULE_43__.useNavigate,\n        _store_prompt__WEBPACK_IMPORTED_MODULE_30__.usePromptStore,\n        use_debounce__WEBPACK_IMPORTED_MODULE_45__.useDebouncedCallback,\n        use_debounce__WEBPACK_IMPORTED_MODULE_45__.useDebouncedCallback,\n        _command__WEBPACK_IMPORTED_MODULE_38__.useChatCommand,\n        _store__WEBPACK_IMPORTED_MODULE_26__.useAccessStore,\n        _command__WEBPACK_IMPORTED_MODULE_38__.useCommand\n    ];\n});\nfunction Chat() {\n    _s10();\n    const chatStore = (0,_store__WEBPACK_IMPORTED_MODULE_26__.useChatStore)();\n    const sessionIndex = chatStore.currentSessionIndex;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Chat, {}, sessionIndex, false, {\n        fileName: \"/Users/github/gpt/UTC_LLM_WEB_NEXT/app/components/chat.tsx\",\n        lineNumber: 1360,\n        columnNumber: 10\n    }, this);\n}\n_s10(Chat, \"VEZRjRiHFhGEe/E6z12rT6r9BBA=\", false, function() {\n    return [\n        _store__WEBPACK_IMPORTED_MODULE_26__.useChatStore\n    ];\n});\n_c8 = Chat;\nvar _c, _c1, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"Markdown\");\n$RefreshReg$(_c1, \"SessionConfigModel\");\n$RefreshReg$(_c2, \"PromptToast\");\n$RefreshReg$(_c3, \"PromptHints\");\n$RefreshReg$(_c4, \"ClearContextDivider\");\n$RefreshReg$(_c5, \"ChatAction\");\n$RefreshReg$(_c6, \"ChatActions\");\n$RefreshReg$(_c7, \"EditMessageModal\");\n$RefreshReg$(_c8, \"Chat\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1jbGllbnQpLy4vYXBwL2NvbXBvbmVudHMvY2hhdC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFvRDtBQVFyQztBQUVxQztBQUNUO0FBR0U7QUFDSjtBQUNTO0FBQ0w7QUFDSjtBQUNGO0FBQ0E7QUFDSztBQUNEO0FBQ1c7QUFDVjtBQUNMO0FBQ0k7QUFDSTtBQUNGO0FBRUY7QUFDRjtBQUNBO0FBQ0k7QUFDSDtBQUNDO0FBQ0o7QUFlckI7QUFPQTtBQUVpQjtBQUV1QjtBQUNEO0FBQ3pCO0FBRU07QUFDRTtBQVV0QjtBQUM2QjtBQU8xQjtBQUNZO0FBQytCO0FBQ25CO0FBQzhCO0FBQzVCO0FBQ0M7QUFDRztBQUNMO0FBRUM7QUFBQTtBQUUvQyxNQUFNNEUsV0FBV2pDLG9EQUFPQSxDQUFDLFVBQVksQ0FBQyxNQUFNLG9NQUFtQixFQUFHaUMsUUFBUTs7Ozs7O0lBQ3hFQyxTQUFTLGtCQUFNLDhEQUFDbEUsNkRBQVdBOzs7Ozs7S0FEdkJpRTtBQUlDLFNBQVNFLG1CQUFtQkMsS0FBOEI7O0lBQy9ELE1BQU1DLFlBQVloRCxxREFBWUE7SUFDOUIsTUFBTWlELFVBQVVELFVBQVVFLGNBQWM7SUFDeEMsTUFBTUMsWUFBWWpCLDBEQUFZQTtJQUM5QixNQUFNa0IsV0FBVzVCLDhEQUFXQTtJQUU1QixxQkFDRSw4REFBQzZCO1FBQUlDLFdBQVU7a0JBQ2IsNEVBQUNuQywyQ0FBS0E7WUFDSm9DLE9BQU96QyxpREFBTUEsQ0FBQzBDLE9BQU8sQ0FBQ0MsSUFBSTtZQUMxQkMsU0FBUyxJQUFNWCxNQUFNVyxPQUFPO1lBQzVCQyxTQUFTOzhCQUNQLDhEQUFDNUMsZ0RBQVVBO29CQUVUNkMsb0JBQU0sOERBQUM1RSwwREFBU0E7b0JBQ2hCNkUsUUFBUTtvQkFDUkMsTUFBTWhELGlEQUFNQSxDQUFDaUQsSUFBSSxDQUFDQyxNQUFNLENBQUNDLEtBQUs7b0JBQzlCQyxTQUFTO3dCQUNQLElBQUksTUFBTTdDLHFEQUFXQSxDQUFDUCxpREFBTUEsQ0FBQ3FELE1BQU0sQ0FBQ0MsWUFBWSxHQUFHOzRCQUNqRHBCLFVBQVVxQixvQkFBb0IsQ0FDNUIsQ0FBQ3BCLFVBQWFBLFFBQVFxQixZQUFZLEdBQUc7d0JBRXpDO29CQUNGO21CQVZJOzhCQVlOLDhEQUFDdkQsZ0RBQVVBO29CQUVUNkMsb0JBQU0sOERBQUNsRix1REFBUUE7b0JBQ2ZtRixRQUFRO29CQUNSQyxNQUFNaEQsaURBQU1BLENBQUNpRCxJQUFJLENBQUNDLE1BQU0sQ0FBQ08sTUFBTTtvQkFDL0JMLFNBQVM7d0JBQ1BkLFNBQVN6Qiw0Q0FBSUEsQ0FBQzZDLEtBQUs7d0JBQ25CQyxXQUFXOzRCQUNUdEIsVUFBVXVCLE1BQU0sQ0FBQ3pCLFFBQVEwQixJQUFJO3dCQUMvQixHQUFHO29CQUNMO21CQVRJO2FBV1A7c0JBRUQsNEVBQUMxQyw4Q0FBVUE7Z0JBQ1QwQyxNQUFNMUIsUUFBUTBCLElBQUk7Z0JBQ2xCQyxZQUFZLENBQUNDO29CQUNYLE1BQU1GLE9BQU87d0JBQUUsR0FBRzFCLFFBQVEwQixJQUFJO29CQUFDO29CQUMvQkUsUUFBUUY7b0JBQ1IzQixVQUFVcUIsb0JBQW9CLENBQUMsQ0FBQ3BCLFVBQWFBLFFBQVEwQixJQUFJLEdBQUdBO2dCQUM5RDtnQkFDQUcsb0JBQW9CO2dCQUNwQkMsZ0JBQ0U5QixRQUFRMEIsSUFBSSxDQUFDSyxXQUFXLENBQUNDLFVBQVUsaUJBQ2pDLDhEQUFDL0QsOENBQVFBO29CQUNQb0MsV0FBVTtvQkFDVkMsT0FBTyxHQUEyQk4sT0FBeEJuQyxpREFBTUEsQ0FBQ3FELE1BQU0sQ0FBQ2UsS0FBSyxFQUFDLE1BQXFDakMsT0FBakNBLFFBQVFrQyxrQkFBa0IsRUFBQyxRQUE4QixPQUF4QmxDLFFBQVFtQyxRQUFRLENBQUNDLE1BQU0sRUFBQztvQkFDM0ZDLFVBQVVyQyxRQUFRcUIsWUFBWSxJQUFJeEQsaURBQU1BLENBQUNxRCxNQUFNLENBQUNvQixZQUFZO2tFQUc5RDs7Ozs7Ozs7Ozs7Ozs7OztBQU9kO0dBOURnQnpDOztRQUNJOUMsaURBQVlBO1FBRVprQyxzREFBWUE7UUFDYlYsMERBQVdBOzs7TUFKZHNCO0FBZ0VoQixTQUFTMEMsWUFBWXpDLEtBSXBCOztJQUNDLE1BQU1DLFlBQVloRCxxREFBWUE7SUFDOUIsTUFBTWlELFVBQVVELFVBQVVFLGNBQWM7SUFDeEMsTUFBTXVDLFVBQVV4QyxRQUFRMEIsSUFBSSxDQUFDYyxPQUFPO0lBRXBDLHFCQUNFLDhEQUFDcEM7UUFBSUMsV0FBV3RDLDJFQUFzQjs7WUFDbkMrQixNQUFNeEIsU0FBUyxrQkFDZCw4REFBQzhCO2dCQUNDQyxXQUFXdEMsaUZBQTRCLEdBQUc7Z0JBQzFDMEUsTUFBSztnQkFDTHhCLFNBQVMsSUFBTW5CLE1BQU00QyxZQUFZLENBQUM7O2tDQUVsQyw4REFBQ25ILHdEQUFTQTs7Ozs7a0NBQ1YsOERBQUNvSDt3QkFBS3RDLFdBQVd0QyxtRkFBOEI7a0NBQzVDRixpREFBTUEsQ0FBQzBDLE9BQU8sQ0FBQ3FDLEtBQUssQ0FBQ0osUUFBUUosTUFBTTs7Ozs7Ozs7Ozs7O1lBSXpDdEMsTUFBTStDLFNBQVMsa0JBQ2QsOERBQUNoRDtnQkFBbUJZLFNBQVMsSUFBTVgsTUFBTTRDLFlBQVksQ0FBQzs7Ozs7OztPQWRkOzs7OztBQWtCaEQ7SUE1QlNIOztRQUtXeEYsaURBQVlBOzs7TUFMdkJ3RjtBQThCVCxTQUFTTzs7SUFDUCxNQUFNQyxTQUFTM0YscURBQVlBO0lBQzNCLE1BQU00RixZQUFZRCxPQUFPQyxTQUFTO0lBQ2xDLE1BQU1DLGNBQWMvSCw2Q0FBTUEsQ0FBQztJQUUzQkMsZ0RBQVNBLENBQUM7UUFFUixJQUFLLElBQUkrSCxJQUFJLEdBQUdBLEtBQUssR0FBR0EsSUFBSTtZQUMxQjFCLFdBQVcsU0FBUzJCO2dCQUNsQkMsUUFBUUMsR0FBRyxDQUFDSDtZQUNkLEdBQUc7UUFDTDtRQUVBLE1BQU1JLHFCQUFxQjtZQUN6QkwsWUFBWU0sT0FBTyxHQUFHO1FBQ3hCO1FBQ0EsTUFBTUMsbUJBQW1CO1lBQ3ZCUCxZQUFZTSxPQUFPLEdBQUc7UUFDeEI7UUFFQUUsT0FBT0MsZ0JBQWdCLENBQUMsb0JBQW9CSjtRQUM1Q0csT0FBT0MsZ0JBQWdCLENBQUMsa0JBQWtCRjtRQUUxQyxPQUFPO1lBQ0xDLE9BQU9FLG1CQUFtQixDQUFDLG9CQUFvQkw7WUFDL0NHLE9BQU9FLG1CQUFtQixDQUFDLGtCQUFrQkg7UUFDL0M7SUFDRixHQUFHLEVBQUU7SUFFTCxNQUFNSSxlQUFlLENBQUNDO1FBQ3BCLElBQUlBLEVBQUVDLEdBQUcsS0FBSyxTQUFTLE9BQU87UUFDOUIsSUFBSUQsRUFBRUMsR0FBRyxLQUFLLFdBQVlELENBQUFBLEVBQUVFLFdBQVcsQ0FBQ2QsV0FBVyxJQUFJQSxZQUFZTSxPQUFPLEdBQ3hFLE9BQU87UUFDVCxPQUNFLE9BQVFQLFNBQVMsS0FBS2xHLDhDQUFTQSxDQUFDa0gsUUFBUSxJQUFJSCxFQUFFSSxNQUFNLElBQ25EbEIsT0FBT0MsU0FBUyxLQUFLbEcsOENBQVNBLENBQUNvSCxTQUFTLElBQUlMLEVBQUVNLE9BQU8sSUFDckRwQixPQUFPQyxTQUFTLEtBQUtsRyw4Q0FBU0EsQ0FBQ3NILFVBQVUsSUFBSVAsRUFBRVEsUUFBUSxJQUN2RHRCLE9BQU9DLFNBQVMsS0FBS2xHLDhDQUFTQSxDQUFDd0gsU0FBUyxJQUFJVCxFQUFFVSxPQUFPLElBQ3JEeEIsT0FBT0MsU0FBUyxLQUFLbEcsOENBQVNBLENBQUMwSCxLQUFLLElBQ25DLENBQUNYLEVBQUVJLE1BQU0sSUFDVCxDQUFDSixFQUFFTSxPQUFPLElBQ1YsQ0FBQ04sRUFBRVEsUUFBUSxJQUNYLENBQUNSLEVBQUVVLE9BQU87SUFFaEI7SUFFQSxPQUFPO1FBQ0x2QjtRQUNBWTtJQUNGO0FBQ0Y7SUFsRFNkOztRQUNRMUYsaURBQVlBOzs7QUFxRHRCLFNBQVNxSCxZQUFZM0UsS0FHM0I7O0lBQ0MsTUFBTTRFLFlBQVk1RSxNQUFNNkUsT0FBTyxDQUFDdkMsTUFBTSxLQUFLO0lBQzNDLE1BQU0sQ0FBQ3dDLGFBQWFDLGVBQWUsR0FBRzVKLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU02SixjQUFjNUosNkNBQU1BLENBQWlCO0lBRTNDQyxnREFBU0EsQ0FBQztRQUNSMEosZUFBZTtJQUNqQixHQUFHO1FBQUMvRSxNQUFNNkUsT0FBTyxDQUFDdkMsTUFBTTtLQUFDO0lBRXpCakgsZ0RBQVNBLENBQUM7UUFDUixNQUFNNEosWUFBWSxDQUFDbEI7WUFDakIsSUFBSWEsYUFBYWIsRUFBRVUsT0FBTyxJQUFJVixFQUFFSSxNQUFNLElBQUlKLEVBQUVNLE9BQU8sRUFBRTtnQkFDbkQ7WUFDRjtZQUNBLG1DQUFtQztZQUNuQyxNQUFNYSxjQUFjLENBQUNDO29CQVFuQkg7Z0JBUEFqQixFQUFFcUIsZUFBZTtnQkFDakJyQixFQUFFc0IsY0FBYztnQkFDaEIsTUFBTUMsWUFBWUMsS0FBS0MsR0FBRyxDQUN4QixHQUNBRCxLQUFLRSxHQUFHLENBQUN6RixNQUFNNkUsT0FBTyxDQUFDdkMsTUFBTSxHQUFHLEdBQUd3QyxjQUFjSztnQkFFbkRKLGVBQWVPO2lCQUNmTix1QkFBQUEsWUFBWXZCLE9BQU8sY0FBbkJ1QiwyQ0FBQUEscUJBQXFCVSxjQUFjLENBQUM7b0JBQ2xDQyxPQUFPO2dCQUNUO1lBQ0Y7WUFFQSxJQUFJNUIsRUFBRUMsR0FBRyxLQUFLLFdBQVc7Z0JBQ3ZCa0IsWUFBWTtZQUNkLE9BQU8sSUFBSW5CLEVBQUVDLEdBQUcsS0FBSyxhQUFhO2dCQUNoQ2tCLFlBQVksQ0FBQztZQUNmLE9BQU8sSUFBSW5CLEVBQUVDLEdBQUcsS0FBSyxTQUFTO2dCQUM1QixNQUFNNEIsaUJBQWlCNUYsTUFBTTZFLE9BQU8sQ0FBQ2dCLEVBQUUsQ0FBQ2Y7Z0JBQ3hDLElBQUljLGdCQUFnQjtvQkFDbEI1RixNQUFNOEYsY0FBYyxDQUFDRjtnQkFDdkI7WUFDRjtRQUNGO1FBRUFqQyxPQUFPQyxnQkFBZ0IsQ0FBQyxXQUFXcUI7UUFFbkMsT0FBTyxJQUFNdEIsT0FBT0UsbUJBQW1CLENBQUMsV0FBV29CO0lBQ25ELHVEQUF1RDtJQUN6RCxHQUFHO1FBQUNqRixNQUFNNkUsT0FBTyxDQUFDdkMsTUFBTTtRQUFFd0M7S0FBWTtJQUV0QyxJQUFJRixXQUFXLE9BQU87SUFDdEIscUJBQ0UsOERBQUN0RTtRQUFJQyxXQUFXdEMsMkVBQXNCO2tCQUNuQytCLE1BQU02RSxPQUFPLENBQUNrQixHQUFHLENBQUMsQ0FBQ0MsUUFBUTVDLGtCQUMxQiw4REFBQzlDO2dCQUNDMkYsS0FBSzdDLE1BQU0wQixjQUFjRSxjQUFjO2dCQUN2Q3pFLFdBQ0V0QywwRUFBcUIsR0FDckIsSUFBNEQsT0FBeERtRixNQUFNMEIsY0FBYzdHLG1GQUE4QixHQUFHO2dCQUczRGtELFNBQVMsSUFBTW5CLE1BQU04RixjQUFjLENBQUNFO2dCQUNwQ0UsY0FBYyxJQUFNbkIsZUFBZTNCOztrQ0FFbkMsOERBQUM5Qzt3QkFBSUMsV0FBV3RDLHlFQUFvQjtrQ0FBRytILE9BQU94RixLQUFLOzs7Ozs7a0NBQ25ELDhEQUFDRjt3QkFBSUMsV0FBV3RDLDJFQUFzQjtrQ0FBRytILE9BQU9HLE9BQU87Ozs7Ozs7ZUFMbERILE9BQU94RixLQUFLLEdBQUc0QyxFQUFFZ0QsUUFBUTs7Ozs7Ozs7OztBQVV4QztJQXJFZ0J6QjtNQUFBQTtBQXVFaEIsU0FBUzBCOztJQUNQLE1BQU1wRyxZQUFZaEQscURBQVlBO0lBRTlCLHFCQUNFLDhEQUFDcUQ7UUFDQ0MsV0FBV3RDLDRFQUF1QjtRQUNsQ2tELFNBQVMsSUFDUGxCLFVBQVVxQixvQkFBb0IsQ0FDNUIsQ0FBQ3BCLFVBQWFBLFFBQVFvRyxpQkFBaUIsR0FBR0M7OzBCQUk5Qyw4REFBQ2pHO2dCQUFJQyxXQUFXdEMsaUZBQTRCOzBCQUFHRixpREFBTUEsQ0FBQzBDLE9BQU8sQ0FBQytGLEtBQUs7Ozs7OzswQkFDbkUsOERBQUNsRztnQkFBSUMsV0FBV3RDLHVGQUFrQzswQkFDL0NGLGlEQUFNQSxDQUFDMEMsT0FBTyxDQUFDZ0csTUFBTTs7Ozs7Ozs7Ozs7O0FBSTlCO0lBbEJTSjs7UUFDV3BKLGlEQUFZQTs7O01BRHZCb0o7QUFvQlQsU0FBU0ssV0FBVzFHLEtBSW5COztJQUNDLE1BQU0yRyxVQUFVdkwsNkNBQU1BLENBQWlCO0lBQ3ZDLE1BQU13TCxVQUFVeEwsNkNBQU1BLENBQWlCO0lBQ3ZDLE1BQU0sQ0FBQ3lMLE9BQU9DLFNBQVMsR0FBRzNMLCtDQUFRQSxDQUFDO1FBQ2pDNEwsTUFBTTtRQUNObEcsTUFBTTtJQUNSO0lBRUEsU0FBU21HO1FBQ1AsSUFBSSxDQUFDTCxRQUFRbEQsT0FBTyxJQUFJLENBQUNtRCxRQUFRbkQsT0FBTyxFQUFFO1FBQzFDLE1BQU13RCxXQUFXLENBQUNDLE1BQXdCQSxJQUFJQyxxQkFBcUIsR0FBR04sS0FBSztRQUMzRSxNQUFNTyxZQUFZSCxTQUFTTCxRQUFRbkQsT0FBTztRQUMxQyxNQUFNNEQsWUFBWUosU0FBU04sUUFBUWxELE9BQU87UUFDMUNxRCxTQUFTO1lBQ1BDLE1BQU1LLFlBQVlDO1lBQ2xCeEcsTUFBTXdHO1FBQ1I7SUFDRjtJQUVBLHFCQUNFLDhEQUFDL0c7UUFDQ0MsV0FBVyxHQUErQixPQUE1QnRDLGdGQUEyQixFQUFDO1FBQzFDa0QsU0FBUztZQUNQbkIsTUFBTW1CLE9BQU87WUFDYk8sV0FBV3NGLGFBQWE7UUFDMUI7UUFDQWQsY0FBY2M7UUFDZE0sY0FBY047UUFDZE8sT0FDRTtZQUNFLGdCQUFnQixHQUFjLE9BQVhWLE1BQU1oRyxJQUFJLEVBQUM7WUFDOUIsZ0JBQWdCLEdBQWMsT0FBWGdHLE1BQU1FLElBQUksRUFBQztRQUNoQzs7MEJBR0YsOERBQUN6RztnQkFBSTJGLEtBQUtVO2dCQUFTcEcsV0FBV3RDLGdFQUFjOzBCQUN6QytCLE1BQU1hLElBQUk7Ozs7OzswQkFFYiw4REFBQ1A7Z0JBQUlDLFdBQVd0QyxnRUFBYztnQkFBRWdJLEtBQUtXOzBCQUNsQzVHLE1BQU1lLElBQUk7Ozs7Ozs7Ozs7OztBQUluQjtJQS9DUzJGO01BQUFBO0FBaURULFNBQVNjOztJQUNQLGtCQUFrQjtJQUNsQixNQUFNQyxZQUFZck0sNkNBQU1BLENBQWlCO0lBQ3pDLE1BQU0sQ0FBQ3NNLFlBQVlDLGNBQWMsR0FBR3hNLCtDQUFRQSxDQUFDO0lBRTdDLFNBQVN5TTtRQUNQLE1BQU1WLE1BQU1PLFVBQVVoRSxPQUFPO1FBQzdCLElBQUl5RCxLQUFLO1lBQ1BXLHNCQUFzQjtnQkFDcEJGLGNBQWM7Z0JBQ2RULElBQUlZLFFBQVEsQ0FBQyxHQUFHWixJQUFJYSxZQUFZO1lBQ2xDO1FBQ0Y7SUFDRjtJQUVBLGNBQWM7SUFDZDFNLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSXFNLFlBQVk7WUFDZEU7UUFDRjtJQUNGO0lBRUEsT0FBTztRQUNMSDtRQUNBQztRQUNBQztRQUNBQztJQUNGO0FBQ0Y7SUE1QlNKO0FBOEJGLFNBQVNRLFlBQVloSSxLQUszQjs7SUFDQyxNQUFNaUQsU0FBUzNGLHFEQUFZQTtJQUMzQixNQUFNK0MsV0FBVzVCLDhEQUFXQTtJQUM1QixNQUFNd0IsWUFBWWhELHFEQUFZQTtJQUU5QixnQkFBZ0I7SUFDaEIsTUFBTWdMLFFBQVFoRixPQUFPZ0YsS0FBSztJQUMxQixTQUFTQztRQUNQLE1BQU1DLFNBQVM7WUFBQzlLLDBDQUFLQSxDQUFDK0ssSUFBSTtZQUFFL0ssMENBQUtBLENBQUNnTCxLQUFLO1lBQUVoTCwwQ0FBS0EsQ0FBQ2lMLElBQUk7U0FBQztRQUNwRCxNQUFNQyxhQUFhSixPQUFPSyxPQUFPLENBQUNQO1FBQ2xDLE1BQU0zQyxZQUFZLENBQUNpRCxhQUFhLEtBQUtKLE9BQU83RixNQUFNO1FBQ2xELE1BQU00RixZQUFZQyxNQUFNLENBQUM3QyxVQUFVO1FBQ25DckMsT0FBT3dGLE1BQU0sQ0FBQyxDQUFDeEYsU0FBWUEsT0FBT2dGLEtBQUssR0FBR0M7SUFDNUM7SUFFQSxxQkFBcUI7SUFDckIsTUFBTVEsWUFBWTdLLG1FQUFrQkEsQ0FBQzhLLFVBQVU7SUFDL0MsTUFBTUMsVUFBVSxJQUFNL0ssbUVBQWtCQSxDQUFDK0ssT0FBTztJQUVoRCxlQUFlO0lBQ2YsTUFBTUMsZUFBZTVJLFVBQVVFLGNBQWMsR0FBR3lCLElBQUksQ0FBQ0ssV0FBVyxDQUFDNkcsS0FBSztJQUN0RSxNQUFNQyxZQUFZckosMkRBQVlBO0lBQzlCLE1BQU1zSixTQUFTMU4sOENBQU9BLENBQ3BCLElBQU15TixVQUFVRSxNQUFNLENBQUMsQ0FBQ0MsSUFBTUEsRUFBRUMsU0FBUyxHQUN6QztRQUFDSjtLQUFVO0lBRWIsTUFBTSxDQUFDSyxtQkFBbUJDLHFCQUFxQixHQUFHbE8sK0NBQVFBLENBQUM7SUFFM0RFLGdEQUFTQSxDQUFDO1FBQ1Isb0NBQW9DO1FBQ3BDLGtDQUFrQztRQUNsQyxNQUFNaU8scUJBQXFCLENBQUNOLE9BQU9PLElBQUksQ0FBQyxDQUFDTCxJQUFNQSxFQUFFTSxJQUFJLEtBQUtYO1FBQzFELElBQUlTLHNCQUFzQk4sT0FBTzFHLE1BQU0sR0FBRyxHQUFHO1lBQzNDLE1BQU1tSCxZQUFZVCxNQUFNLENBQUMsRUFBRSxDQUFDUSxJQUFJO1lBQ2hDdkosVUFBVXFCLG9CQUFvQixDQUM1QixDQUFDcEIsVUFBYUEsUUFBUTBCLElBQUksQ0FBQ0ssV0FBVyxDQUFDNkcsS0FBSyxHQUFHVztZQUVqRGpMLG1EQUFTQSxDQUFDaUw7UUFDWjtJQUNGLEdBQUc7UUFBQ3hKO1FBQVc0STtRQUFjRztLQUFPO0lBRXBDLHFCQUNFLDhEQUFDMUk7UUFBSUMsV0FBV3RDLGlGQUE0Qjs7WUFDekN5SywyQkFDQyw4REFBQ2hDO2dCQUNDdkYsU0FBU3lIO2dCQUNUN0gsTUFBTWhELGlEQUFNQSxDQUFDaUQsSUFBSSxDQUFDMEksWUFBWSxDQUFDQyxJQUFJO2dCQUNuQzlJLG9CQUFNLDhEQUFDaEUseURBQVFBOzs7Ozs7WUFHbEIsQ0FBQ21ELE1BQU00SixTQUFTLGtCQUNmLDhEQUFDbEQ7Z0JBQ0N2RixTQUFTbkIsTUFBTTZKLGNBQWM7Z0JBQzdCOUksTUFBTWhELGlEQUFNQSxDQUFDaUQsSUFBSSxDQUFDMEksWUFBWSxDQUFDSSxRQUFRO2dCQUN2Q2pKLG9CQUFNLDhEQUFDakUsMERBQVVBOzs7Ozs7WUFHcEJvRCxNQUFNNEosU0FBUyxrQkFDZCw4REFBQ2xEO2dCQUNDdkYsU0FBU25CLE1BQU0rSixlQUFlO2dCQUM5QmhKLE1BQU1oRCxpREFBTUEsQ0FBQ2lELElBQUksQ0FBQzBJLFlBQVksQ0FBQ00sUUFBUTtnQkFDdkNuSixvQkFBTSw4REFBQzFFLGlFQUFZQTs7Ozs7OzBCQUl2Qiw4REFBQ3VLO2dCQUNDdkYsU0FBUytHO2dCQUNUbkgsTUFBTWhELGlEQUFNQSxDQUFDaUQsSUFBSSxDQUFDMEksWUFBWSxDQUFDck0sS0FBSyxDQUFDNEssTUFBTTtnQkFDM0NwSCxvQkFDRTs4QkFDR29ILFVBQVU1SywwQ0FBS0EsQ0FBQytLLElBQUksaUJBQ25CLDhEQUFDekwsd0RBQVFBLHVDQUNQc0wsVUFBVTVLLDBDQUFLQSxDQUFDZ0wsS0FBSyxpQkFDdkIsOERBQUM1TCx5REFBU0EsdUNBQ1J3TCxVQUFVNUssMENBQUtBLENBQUNpTCxJQUFJLGlCQUN0Qiw4REFBQzVMLHdEQUFRQSx1Q0FDUDs7Ozs7OzswQkFLViw4REFBQ2dLO2dCQUNDdkYsU0FBU25CLE1BQU1pSyxlQUFlO2dCQUM5QmxKLE1BQU1oRCxpREFBTUEsQ0FBQ2lELElBQUksQ0FBQzBJLFlBQVksQ0FBQ1EsTUFBTTtnQkFDckNySixvQkFBTSw4REFBQ2hGLHlEQUFVQTs7Ozs7OzBCQUduQiw4REFBQzZLO2dCQUNDdkYsU0FBUztvQkFDUGQsU0FBU3pCLDRDQUFJQSxDQUFDNkMsS0FBSztnQkFDckI7Z0JBQ0FWLE1BQU1oRCxpREFBTUEsQ0FBQ2lELElBQUksQ0FBQzBJLFlBQVksQ0FBQ2pJLEtBQUs7Z0JBQ3BDWixvQkFBTSw4REFBQy9FLHVEQUFRQTs7Ozs7OzBCQUdqQiw4REFBQzRLO2dCQUNDM0YsTUFBTWhELGlEQUFNQSxDQUFDaUQsSUFBSSxDQUFDMEksWUFBWSxDQUFDbEQsS0FBSztnQkFDcEMzRixvQkFBTSw4REFBQzNFLHlEQUFTQTtnQkFDaEJpRixTQUFTO29CQUNQbEIsVUFBVXFCLG9CQUFvQixDQUFDLENBQUNwQjt3QkFDOUIsSUFBSUEsUUFBUW9HLGlCQUFpQixLQUFLcEcsUUFBUW1DLFFBQVEsQ0FBQ0MsTUFBTSxFQUFFOzRCQUN6RHBDLFFBQVFvRyxpQkFBaUIsR0FBR0M7d0JBQzlCLE9BQU87NEJBQ0xyRyxRQUFRb0csaUJBQWlCLEdBQUdwRyxRQUFRbUMsUUFBUSxDQUFDQyxNQUFNOzRCQUNuRHBDLFFBQVFxQixZQUFZLEdBQUcsSUFBSSxvQkFBb0I7d0JBQ2pEO29CQUNGO2dCQUNGOzs7Ozs7MEJBR0YsOERBQUNtRjtnQkFDQ3ZGLFNBQVMsSUFBTWtJLHFCQUFxQjtnQkFDcEN0SSxNQUFNOEg7Z0JBQ05oSSxvQkFBTSw4REFBQy9ELHlEQUFTQTs7Ozs7O1lBR2pCc00sbUNBQ0MsOERBQUMvSyw4Q0FBUUE7Z0JBQ1A4TCxzQkFBc0J0QjtnQkFDdEJ1QixPQUFPcEIsT0FBT2pELEdBQUcsQ0FBQyxDQUFDbUQsSUFBTzt3QkFDeEIxSSxPQUFPMEksRUFBRW1CLFdBQVc7d0JBQ3BCQyxPQUFPcEIsRUFBRU0sSUFBSTtvQkFDZjtnQkFDQTdJLFNBQVMsSUFBTTBJLHFCQUFxQjtnQkFDcENrQixhQUFhLENBQUNDO29CQUNaLElBQUlBLEVBQUVsSSxNQUFNLEtBQUssR0FBRztvQkFDcEJyQyxVQUFVcUIsb0JBQW9CLENBQUMsQ0FBQ3BCO3dCQUM5QkEsUUFBUTBCLElBQUksQ0FBQ0ssV0FBVyxDQUFDNkcsS0FBSyxHQUFHMEIsQ0FBQyxDQUFDLEVBQUU7d0JBQ3JDdEssUUFBUTBCLElBQUksQ0FBQzZJLGdCQUFnQixHQUFHO29CQUNsQztvQkFDQWpNLG1EQUFTQSxDQUFDZ00sQ0FBQyxDQUFDLEVBQUU7Z0JBQ2hCOzs7Ozs7Ozs7Ozs7QUFLVjtJQTdJZ0J4Qzs7UUFNQzFLLGlEQUFZQTtRQUNWbUIsMERBQVdBO1FBQ1Z4QixpREFBWUE7UUFrQlp5Qyx1REFBWUE7OztNQTFCaEJzSTtBQStJVCxTQUFTMEMsaUJBQWlCMUssS0FBOEI7O0lBQzdELE1BQU1DLFlBQVloRCxxREFBWUE7SUFDOUIsTUFBTWlELFVBQVVELFVBQVVFLGNBQWM7SUFDeEMsTUFBTSxDQUFDa0MsVUFBVXNJLFlBQVksR0FBR3hQLCtDQUFRQSxDQUFDK0UsUUFBUW1DLFFBQVEsQ0FBQ3VJLEtBQUs7SUFFL0QscUJBQ0UsOERBQUN0SztRQUFJQyxXQUFVO2tCQUNiLDRFQUFDbkMsMkNBQUtBO1lBQ0pvQyxPQUFPekMsaURBQU1BLENBQUNpRCxJQUFJLENBQUM2SixXQUFXLENBQUMxSSxLQUFLO1lBQ3BDeEIsU0FBU1gsTUFBTVcsT0FBTztZQUN0QkMsU0FBUzs4QkFDUCw4REFBQzVDLGdEQUFVQTtvQkFDVCtDLE1BQU1oRCxpREFBTUEsQ0FBQytNLEVBQUUsQ0FBQ0MsTUFBTTtvQkFDdEJsSyxvQkFBTSw4REFBQ3JFLDBEQUFVQTtvQkFFakIyRSxTQUFTO3dCQUNQbkIsTUFBTVcsT0FBTztvQkFDZjttQkFISTs4QkFLTiw4REFBQzNDLGdEQUFVQTtvQkFDVGdOLE1BQUs7b0JBQ0xqSyxNQUFNaEQsaURBQU1BLENBQUMrTSxFQUFFLENBQUNHLE9BQU87b0JBQ3ZCcEssb0JBQU0sOERBQUN0RSwyREFBV0E7b0JBRWxCNEUsU0FBUzt3QkFDUGxCLFVBQVVxQixvQkFBb0IsQ0FDNUIsQ0FBQ3BCLFVBQWFBLFFBQVFtQyxRQUFRLEdBQUdBO3dCQUVuQ3JDLE1BQU1XLE9BQU87b0JBQ2Y7bUJBTkk7YUFRUDs7OEJBRUQsOERBQUN6QywwQ0FBSUE7OEJBQ0gsNEVBQUNDLDhDQUFRQTt3QkFDUHFDLE9BQU96QyxpREFBTUEsQ0FBQ2lELElBQUksQ0FBQzZKLFdBQVcsQ0FBQ0ssS0FBSyxDQUFDL0ksS0FBSzt3QkFDMUNJLFVBQVV4RSxpREFBTUEsQ0FBQ2lELElBQUksQ0FBQzZKLFdBQVcsQ0FBQ0ssS0FBSyxDQUFDQyxRQUFRO2tDQUVoRCw0RUFBQ0M7NEJBQ0NKLE1BQUs7NEJBQ0xWLE9BQU9wSyxRQUFRbUwsS0FBSzs0QkFDcEJDLFNBQVMsQ0FBQ3ZILElBQ1I5RCxVQUFVcUIsb0JBQW9CLENBQzVCLENBQUNwQixVQUFhQSxRQUFRbUwsS0FBSyxHQUFHdEgsRUFBRXdILGFBQWEsQ0FBQ2pCLEtBQUs7Ozs7Ozs7Ozs7Ozs7Ozs7OEJBTTdELDhEQUFDdEwsa0RBQWNBO29CQUNiMEQsU0FBU0w7b0JBQ1RtSixlQUFlLENBQUMxSjt3QkFDZCxNQUFNMkosY0FBY3BKLFNBQVN1SSxLQUFLO3dCQUNsQzlJLFFBQVEySjt3QkFDUmQsWUFBWWM7b0JBQ2Q7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS1Y7SUE1RGdCZjs7UUFDSXpOLGlEQUFZQTs7O01BRGhCeU47QUE4RGhCLFNBQVNnQjtRQTJRTHhMLHNCQXNHc0N5TDs7SUE5V3hDLE1BQU0xTCxZQUFZaEQscURBQVlBO0lBQzlCLE1BQU1pRCxVQUFVRCxVQUFVRSxjQUFjO0lBQ3hDLE1BQU04QyxTQUFTM0YscURBQVlBO0lBQzNCLE1BQU1zTyxXQUFXM0ksT0FBTzJJLFFBQVE7SUFFaEMsTUFBTSxDQUFDQyxZQUFZQyxjQUFjLEdBQUczUSwrQ0FBUUEsQ0FBQztJQUU3QyxNQUFNNFEsV0FBVzNRLDZDQUFNQSxDQUFzQjtJQUM3QyxNQUFNLENBQUM0USxXQUFXQyxhQUFhLEdBQUc5USwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUMrUSxXQUFXQyxhQUFhLEdBQUdoUiwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLEVBQUUrSCxTQUFTLEVBQUVZLFlBQVksRUFBRSxHQUFHZDtJQUNwQyxNQUFNLEVBQUV5RSxTQUFTLEVBQUVFLGFBQWEsRUFBRUMsaUJBQWlCLEVBQUUsR0FBR0o7SUFDeEQsTUFBTSxDQUFDb0MsV0FBV3dDLGFBQWEsR0FBR2pSLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU1rUixpQkFBaUIxTyx3REFBZUE7SUFDdEMsTUFBTTBDLFdBQVc1Qiw4REFBV0E7SUFFNUIsZUFBZTtJQUNmLE1BQU02TixjQUFjeE8sOERBQWNBO0lBQ2xDLE1BQU0sQ0FBQ3lPLGFBQWFDLGVBQWUsR0FBR3JSLCtDQUFRQSxDQUFnQixFQUFFO0lBQ2hFLE1BQU1zUixXQUFXeFIsbUVBQW9CQSxDQUNuQyxDQUFDOEY7UUFDQyxNQUFNMkwsaUJBQWlCSixZQUFZSyxNQUFNLENBQUM1TDtRQUMxQ3lMLGVBQWVFO0lBQ2pCLEdBQ0EsS0FDQTtRQUFFRSxTQUFTO1FBQU1DLFVBQVU7SUFBSztJQUdsQyxrQkFBa0I7SUFDbEIsTUFBTSxDQUFDQyxXQUFXQyxhQUFhLEdBQUc1UiwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNNlIsVUFBVS9SLG1FQUFvQkEsQ0FDbEM7UUFDRSxNQUFNZ1MsT0FBT2xCLFNBQVN0SSxPQUFPLEdBQUcvRix5REFBZ0JBLENBQUNxTyxTQUFTdEksT0FBTyxJQUFJO1FBQ3JFLE1BQU1xSixZQUFZdkgsS0FBS0UsR0FBRyxDQUN4QixJQUNBRixLQUFLQyxHQUFHLENBQUMsSUFBSTBILE9BQU8sQ0FBQ2IsaUJBQWlCWTtRQUV4Q0YsYUFBYUQ7SUFDZixHQUNBLEtBQ0E7UUFDRUYsU0FBUztRQUNUQyxVQUFVO0lBQ1o7SUFHRix1REFBdUQ7SUFDdkR4UixnREFBU0EsQ0FBQzJSLFNBQVM7UUFBQ2hCO0tBQVU7SUFFOUIsMEJBQTBCO0lBQzFCLE1BQU1tQixlQUFlOU4seURBQWNBLENBQUM7UUFDbEMrTixLQUFLLElBQU1uTixVQUFVb04sVUFBVTtRQUMvQkMsTUFBTSxJQUFNak4sU0FBU3pCLDRDQUFJQSxDQUFDMk8sT0FBTztRQUNqQ0MsTUFBTSxJQUFNdk4sVUFBVXdOLFdBQVcsQ0FBQyxDQUFDO1FBQ25DQyxNQUFNLElBQU16TixVQUFVd04sV0FBVyxDQUFDO1FBQ2xDRSxPQUFPLElBQ0wxTixVQUFVcUIsb0JBQW9CLENBQzVCLENBQUNwQixVQUFhQSxRQUFRb0csaUJBQWlCLEdBQUdwRyxRQUFRbUMsUUFBUSxDQUFDQyxNQUFNO1FBRXJFc0wsS0FBSyxJQUFNM04sVUFBVTROLGFBQWEsQ0FBQzVOLFVBQVU2TixtQkFBbUI7SUFDbEU7SUFFQSwrQ0FBK0M7SUFDL0MsTUFBTUMsb0JBQW9CO0lBQzFCLE1BQU16QyxVQUFVLENBQUN2SztRQUNma0wsYUFBYWxMO1FBQ2IsTUFBTWlOLElBQUlqTixLQUFLa04sSUFBSSxHQUFHM0wsTUFBTTtRQUU1Qix1QkFBdUI7UUFDdkIsSUFBSTBMLE1BQU0sR0FBRztZQUNYeEIsZUFBZSxFQUFFO1FBQ25CLE9BQU8sSUFBSXpMLEtBQUttTixVQUFVLENBQUM5Tyx3REFBaUJBLEdBQUc7WUFDN0NvTixlQUFlVyxhQUFhUixNQUFNLENBQUM1TDtRQUNyQyxPQUFPLElBQUksQ0FBQ2tDLE9BQU9rTCxpQkFBaUIsSUFBSUgsSUFBSUQsbUJBQW1CO1lBQzdELDJDQUEyQztZQUMzQyxJQUFJaE4sS0FBS21OLFVBQVUsQ0FBQyxNQUFNO2dCQUN4QixJQUFJRSxhQUFhck4sS0FBSzZKLEtBQUssQ0FBQztnQkFDNUI2QixTQUFTMkI7WUFDWDtRQUNGO0lBQ0Y7SUFFQSxNQUFNQyxXQUFXLENBQUNyQztZQWNLRDtRQWJyQixJQUFJQyxVQUFVaUMsSUFBSSxPQUFPLElBQUk7UUFDN0IsTUFBTUssZUFBZW5CLGFBQWFvQixLQUFLLENBQUN2QztRQUN4QyxJQUFJc0MsYUFBYUUsT0FBTyxFQUFFO1lBQ3hCdkMsYUFBYTtZQUNiTyxlQUFlLEVBQUU7WUFDakI4QixhQUFhRyxNQUFNO1lBQ25CO1FBQ0Y7UUFDQXRDLGFBQWE7UUFDYmxNLFVBQVV5TyxXQUFXLENBQUMxQyxXQUFXMkMsSUFBSSxDQUFDLElBQU14QyxhQUFhO1FBQ3pEeUMsYUFBYUMsT0FBTyxDQUFDbFEsc0RBQWNBLEVBQUVxTjtRQUNyQ0MsYUFBYTtRQUNiTyxlQUFlLEVBQUU7UUFDakIsSUFBSSxDQUFDSCxpQkFBZ0JOLG9CQUFBQSxTQUFTdEksT0FBTyxjQUFoQnNJLHdDQUFBQSxrQkFBa0IrQyxLQUFLO1FBQzVDbkgsY0FBYztJQUNoQjtJQUVBLE1BQU03QixpQkFBaUIsQ0FBQ0U7UUFDdEJ0RSxXQUFXO2dCQVlUcUs7WUFYQVMsZUFBZSxFQUFFO1lBRWpCLE1BQU11QyxxQkFBcUI1QixhQUFhb0IsS0FBSyxDQUFDdkksT0FBT0csT0FBTztZQUM1RCxJQUFJNEksbUJBQW1CUCxPQUFPLEVBQUU7Z0JBQzlCLHVEQUF1RDtnQkFDdkRPLG1CQUFtQk4sTUFBTTtnQkFDekJ4QyxhQUFhO1lBQ2YsT0FBTztnQkFDTCxxQkFBcUI7Z0JBQ3JCQSxhQUFhakcsT0FBT0csT0FBTztZQUM3QjthQUNBNEYsb0JBQUFBLFNBQVN0SSxPQUFPLGNBQWhCc0ksd0NBQUFBLGtCQUFrQitDLEtBQUs7UUFDekIsR0FBRztJQUNMO0lBRUEsZ0JBQWdCO0lBQ2hCLE1BQU1FLGFBQWEsQ0FBQ0M7UUFDbEJwUixtRUFBa0JBLENBQUNxUixJQUFJLENBQUNoUCxRQUFRaVAsRUFBRSxFQUFFRjtJQUN0QztJQUVBNVQsZ0RBQVNBLENBQUM7UUFDUjRFLFVBQVVxQixvQkFBb0IsQ0FBQyxDQUFDcEI7WUFDOUIsTUFBTWtQLGFBQWFDLEtBQUtDLEdBQUcsS0FBS3pRLDBEQUFrQkE7WUFDbERxQixRQUFRbUMsUUFBUSxDQUFDa04sT0FBTyxDQUFDLENBQUNyRztnQkFDeEIsMENBQTBDO2dCQUMxQyxJQUFJQSxFQUFFc0csT0FBTyxJQUFJLElBQUlILEtBQUtuRyxFQUFFdUcsSUFBSSxFQUFFQyxPQUFPLEtBQUtOLFlBQVk7b0JBQ3hELElBQUlsRyxFQUFFeUcsU0FBUyxFQUFFO3dCQUNmekcsRUFBRXlHLFNBQVMsR0FBRztvQkFDaEI7b0JBQ0EsSUFBSXpHLEVBQUUvQyxPQUFPLENBQUM3RCxNQUFNLEtBQUssR0FBRzt3QkFDMUI0RyxFQUFFc0csT0FBTyxHQUFHO3dCQUNadEcsRUFBRS9DLE9BQU8sR0FBRzVHLDREQUFZQSxDQUFDOzRCQUN2QnFRLE9BQU87NEJBQ1BqUSxTQUFTO3dCQUNYO29CQUNGO2dCQUNGO1lBQ0Y7WUFFQSwyQ0FBMkM7WUFDM0MsSUFBSU8sUUFBUTBCLElBQUksQ0FBQzZJLGdCQUFnQixFQUFFO2dCQUNqQ25ILFFBQVFDLEdBQUcsQ0FBQyx1Q0FBdUNyRCxRQUFRMEIsSUFBSSxDQUFDNEgsSUFBSTtnQkFDcEV0SixRQUFRMEIsSUFBSSxDQUFDSyxXQUFXLEdBQUc7b0JBQUUsR0FBR2dCLE9BQU9oQixXQUFXO2dCQUFDO1lBQ3JEO1FBQ0Y7SUFDQSx1REFBdUQ7SUFDekQsR0FBRyxFQUFFO0lBRUwsK0JBQStCO0lBQy9CLE1BQU00TixpQkFBaUIsQ0FBQzlMO1FBQ3RCLG9EQUFvRDtRQUNwRCxJQUNFQSxFQUFFQyxHQUFHLEtBQUssYUFDVmdJLFVBQVUxSixNQUFNLElBQUksS0FDcEIsQ0FBRXlCLENBQUFBLEVBQUVVLE9BQU8sSUFBSVYsRUFBRUksTUFBTSxJQUFJSixFQUFFTSxPQUFPLEdBQ3BDO2dCQUNhdUs7WUFBYjNDLGFBQWEyQyxDQUFBQSx3QkFBQUEsYUFBYWtCLE9BQU8sQ0FBQ25SLHNEQUFjQSxlQUFuQ2lRLG1DQUFBQSx3QkFBd0M7WUFDckQ3SyxFQUFFc0IsY0FBYztZQUNoQjtRQUNGO1FBQ0EsSUFBSXZCLGFBQWFDLE1BQU13SSxZQUFZakssTUFBTSxLQUFLLEdBQUc7WUFDL0MrTCxTQUFTckM7WUFDVGpJLEVBQUVzQixjQUFjO1FBQ2xCO0lBQ0Y7SUFFQSxNQUFNMEssZUFBZSxDQUFDaE0sR0FBUXBFO1FBQzVCLG9CQUFvQjtRQUNwQixJQUFJbEMscURBQVlBLENBQUNzRyxFQUFFd0gsYUFBYSxFQUFFNUwsUUFBUXdHLE9BQU8sR0FBRztZQUNsRCxJQUFJNkYsVUFBVTFKLE1BQU0sS0FBSyxHQUFHO2dCQUMxQjJKLGFBQWF0TSxRQUFRd0csT0FBTztZQUM5QjtZQUVBcEMsRUFBRXNCLGNBQWM7UUFDbEI7SUFDRjtJQUVBLE1BQU0ySyxnQkFBZ0IsQ0FBQ0M7UUFDckJoUSxVQUFVcUIsb0JBQW9CLENBQzVCLENBQUNwQixVQUNFQSxRQUFRbUMsUUFBUSxHQUFHbkMsUUFBUW1DLFFBQVEsQ0FBQzRHLE1BQU0sQ0FBQyxDQUFDQyxJQUFNQSxFQUFFaUcsRUFBRSxLQUFLYztJQUVsRTtJQUVBLE1BQU1DLFdBQVcsQ0FBQ0Q7UUFDaEJELGNBQWNDO0lBQ2hCO0lBRUEsTUFBTUUsV0FBVyxDQUFDeFE7WUE4Q0Z5USxhQUtkckU7UUFsREEsaUNBQWlDO1FBQ2pDLHNEQUFzRDtRQUN0RCxxREFBcUQ7UUFDckQsa0RBQWtEO1FBQ2xELDZCQUE2QjtRQUU3QixNQUFNc0UsaUJBQWlCblEsUUFBUW1DLFFBQVEsQ0FBQ2lPLFNBQVMsQ0FDL0MsQ0FBQ3BILElBQU1BLEVBQUVpRyxFQUFFLEtBQUt4UCxRQUFRd1AsRUFBRTtRQUc1QixJQUFJa0IsaUJBQWlCLEtBQUtBLGtCQUFrQm5RLFFBQVFtQyxRQUFRLENBQUNDLE1BQU0sRUFBRTtZQUNuRWdCLFFBQVFzTSxLQUFLLENBQUMsMkNBQTJDalE7WUFDekQ7UUFDRjtRQUVBLElBQUk0UTtRQUNKLElBQUlIO1FBRUosSUFBSXpRLFFBQVFnRCxJQUFJLEtBQUssYUFBYTtZQUNoQyxpRUFBaUU7WUFDakV5TixhQUFhelE7WUFDYixJQUFLLElBQUl5RCxJQUFJaU4sZ0JBQWdCak4sS0FBSyxHQUFHQSxLQUFLLEVBQUc7Z0JBQzNDLElBQUlsRCxRQUFRbUMsUUFBUSxDQUFDZSxFQUFFLENBQUNULElBQUksS0FBSyxRQUFRO29CQUN2QzROLGNBQWNyUSxRQUFRbUMsUUFBUSxDQUFDZSxFQUFFO29CQUNqQztnQkFDRjtZQUNGO1FBQ0YsT0FBTyxJQUFJekQsUUFBUWdELElBQUksS0FBSyxRQUFRO1lBQ2xDLDZEQUE2RDtZQUM3RDROLGNBQWM1UTtZQUNkLElBQUssSUFBSXlELElBQUlpTixnQkFBZ0JqTixJQUFJbEQsUUFBUW1DLFFBQVEsQ0FBQ0MsTUFBTSxFQUFFYyxLQUFLLEVBQUc7Z0JBQ2hFLElBQUlsRCxRQUFRbUMsUUFBUSxDQUFDZSxFQUFFLENBQUNULElBQUksS0FBSyxhQUFhO29CQUM1Q3lOLGFBQWFsUSxRQUFRbUMsUUFBUSxDQUFDZSxFQUFFO29CQUNoQztnQkFDRjtZQUNGO1FBQ0Y7UUFFQSxJQUFJbU4sZ0JBQWdCaEssV0FBVztZQUM3QmpELFFBQVFzTSxLQUFLLENBQUMsMkJBQTJCalE7WUFDekM7UUFDRjtRQUVBLCtCQUErQjtRQUMvQnFRLGNBQWNPLFlBQVlwQixFQUFFO1FBQzVCYSxlQUFjSSxjQUFBQSx3QkFBQUEsa0NBQUFBLFlBQVlqQixFQUFFO1FBRTVCLHFCQUFxQjtRQUNyQmhELGFBQWE7UUFDYmxNLFVBQVV5TyxXQUFXLENBQUM2QixZQUFZcEssT0FBTyxFQUFFd0ksSUFBSSxDQUFDLElBQU14QyxhQUFhO1NBQ25FSixvQkFBQUEsU0FBU3RJLE9BQU8sY0FBaEJzSSx3Q0FBQUEsa0JBQWtCK0MsS0FBSztJQUN6QjtJQUVBLE1BQU0wQixlQUFlLENBQUM3UTtRQUNwQk0sVUFBVXFCLG9CQUFvQixDQUFDLENBQUNwQixVQUM5QkEsUUFBUTBCLElBQUksQ0FBQ2MsT0FBTyxDQUFDK04sSUFBSSxDQUFDOVE7UUFHNUJuQixtREFBU0EsQ0FBQ1QsaURBQU1BLENBQUNpRCxJQUFJLENBQUMwUCxPQUFPLENBQUNDLGVBQWUsRUFBRTtZQUM3QzVQLE1BQU1oRCxpREFBTUEsQ0FBQ2lELElBQUksQ0FBQzBQLE9BQU8sQ0FBQ0UsY0FBYztZQUN4Q3pQLFNBQVM7Z0JBQ1AwUCxtQkFBbUI7WUFDckI7UUFDRjtJQUNGO0lBRUEsTUFBTW5PLFVBQTJCcEgsOENBQU9BLENBQUM7UUFDdkMsT0FBTzRFLFFBQVEwQixJQUFJLENBQUNrUCxXQUFXLEdBQUcsRUFBRSxHQUFHNVEsUUFBUTBCLElBQUksQ0FBQ2MsT0FBTyxDQUFDa0ksS0FBSztJQUNuRSxHQUFHO1FBQUMxSyxRQUFRMEIsSUFBSSxDQUFDYyxPQUFPO1FBQUV4QyxRQUFRMEIsSUFBSSxDQUFDa1AsV0FBVztLQUFDO0lBQ25ELE1BQU1DLGNBQWMzVCx1REFBY0E7SUFFbEMsSUFDRXNGLFFBQVFKLE1BQU0sS0FBSyxLQUNuQnBDLEVBQUFBLHVCQUFBQSxRQUFRbUMsUUFBUSxDQUFDd0QsRUFBRSxDQUFDLGdCQUFwQjNGLDJDQUFBQSxxQkFBd0JpRyxPQUFPLE1BQUtqSiw4Q0FBU0EsQ0FBQ2lKLE9BQU8sRUFDckQ7UUFDQSxNQUFNNkssY0FBY0MsT0FBT0MsTUFBTSxDQUFDLENBQUMsR0FBR2hVLDhDQUFTQTtRQUMvQyxJQUFJLENBQUM2VCxZQUFZSSxZQUFZLElBQUk7WUFDL0JILFlBQVk3SyxPQUFPLEdBQUdwSSxpREFBTUEsQ0FBQ3FULEtBQUssQ0FBQ0MsWUFBWTtRQUNqRDtRQUNBM08sUUFBUStOLElBQUksQ0FBQ087SUFDZjtJQUVBLG1CQUFtQjtJQUNuQixNQUFNTSxpQkFBaUJoVyw4Q0FBT0EsQ0FBQztRQUM3QixPQUFPb0gsUUFDSjZPLE1BQU0sQ0FBQ3JSLFFBQVFtQyxRQUFRLEVBQ3ZCa1AsTUFBTSxDQUNMckYsWUFDSTtZQUNFO2dCQUNFLEdBQUcvTyxzREFBYUEsQ0FBQztvQkFDZndGLE1BQU07b0JBQ053RCxTQUFTO2dCQUNYLEVBQUU7Z0JBQ0ZxTCxTQUFTO1lBQ1g7U0FDRCxHQUNELEVBQUUsRUFFUEQsTUFBTSxDQUNMdkYsVUFBVTFKLE1BQU0sR0FBRyxLQUFLVyxPQUFPd08saUJBQWlCLEdBQzVDO1lBQ0U7Z0JBQ0UsR0FBR3RVLHNEQUFhQSxDQUFDO29CQUNmd0YsTUFBTTtvQkFDTndELFNBQVM2RjtnQkFDWCxFQUFFO2dCQUNGd0YsU0FBUztZQUNYO1NBQ0QsR0FDRCxFQUFFO0lBRVosR0FBRztRQUNEdk8sT0FBT3dPLGlCQUFpQjtRQUN4Qi9PO1FBQ0F3SjtRQUNBaE0sUUFBUW1DLFFBQVE7UUFDaEIySjtLQUNEO0lBRUQsTUFBTSxDQUFDMEYsZ0JBQWdCQyxtQkFBbUIsR0FBR3hXLCtDQUFRQSxDQUNuRG9LLEtBQUtDLEdBQUcsQ0FBQyxHQUFHOEwsZUFBZWhQLE1BQU0sR0FBRzVELHNEQUFjQTtJQUVwRCxTQUFTa1Qsa0JBQWtCQyxRQUFnQjtRQUN6Q0EsV0FBV3RNLEtBQUtFLEdBQUcsQ0FBQzZMLGVBQWVoUCxNQUFNLEdBQUc1RCxzREFBY0EsRUFBRW1UO1FBQzVEQSxXQUFXdE0sS0FBS0MsR0FBRyxDQUFDLEdBQUdxTTtRQUN2QkYsbUJBQW1CRTtJQUNyQjtJQUVBLE1BQU14UCxXQUFXL0csOENBQU9BLENBQUM7UUFDdkIsTUFBTXdXLGlCQUFpQnZNLEtBQUtFLEdBQUcsQ0FDN0JpTSxpQkFBaUIsSUFBSWhULHNEQUFjQSxFQUNuQzRTLGVBQWVoUCxNQUFNO1FBRXZCLE9BQU9nUCxlQUFlMUcsS0FBSyxDQUFDOEcsZ0JBQWdCSTtJQUM5QyxHQUFHO1FBQUNKO1FBQWdCSjtLQUFlO0lBRW5DLE1BQU1TLG1CQUFtQixDQUFDaE87UUFDeEIsTUFBTWlPLGVBQWVqTyxFQUFFa08sU0FBUyxHQUFHbE8sRUFBRW1PLFlBQVk7UUFDakQsTUFBTUMsZ0JBQWdCcE8sRUFBRW1PLFlBQVk7UUFFcEMsTUFBTUUsaUJBQWlCck8sRUFBRWtPLFNBQVMsSUFBSUU7UUFDdEMsTUFBTUUsb0JBQW9CTCxnQkFBZ0JqTyxFQUFFZ0UsWUFBWSxHQUFHb0s7UUFDM0QsTUFBTUcsY0FDSk4sZ0JBQWdCak8sRUFBRWdFLFlBQVksR0FBSXNFLENBQUFBLGlCQUFpQixJQUFJLEVBQUM7UUFFMUQsTUFBTWtHLG1CQUFtQmIsaUJBQWlCaFQsc0RBQWNBO1FBQ3hELE1BQU04VCxtQkFBbUJkLGlCQUFpQmhULHNEQUFjQTtRQUV4RCxJQUFJMFQsa0JBQWtCLENBQUNDLG1CQUFtQjtZQUN4Q1Qsa0JBQWtCVztRQUNwQixPQUFPLElBQUlGLG1CQUFtQjtZQUM1QlQsa0JBQWtCWTtRQUNwQjtRQUVBcEcsYUFBYWtHO1FBQ2IzSyxjQUFjMks7SUFDaEI7SUFFQSxTQUFTekk7UUFDUCtILGtCQUFrQk4sZUFBZWhQLE1BQU0sR0FBRzVELHNEQUFjQTtRQUN4RGtKO0lBQ0Y7UUFJRzFIO0lBRkgsMkRBQTJEO0lBQzNELE1BQU1vRyxvQkFDSixDQUFDcEcsQ0FBQUEsNkJBQUFBLFFBQVFvRyxpQkFBaUIsY0FBekJwRyx3Q0FBQUEsNkJBQTZCLENBQUMsTUFBTSxJQUNqQ0EsUUFBUW9HLGlCQUFpQixHQUFJNUQsUUFBUUosTUFBTSxHQUFHb1AsaUJBQzlDLENBQUM7SUFFUCxNQUFNLENBQUMzSCxpQkFBaUI4RyxtQkFBbUIsR0FBRzFWLCtDQUFRQSxDQUFDO0lBRXZELE1BQU13USxlQUFlclEsOENBQU9BLENBQUMsSUFBTW1FLGdFQUFlQSxJQUFJLEVBQUU7SUFFeEQsTUFBTWdULFlBQVksQ0FBQ3BHLGdCQUFnQixtQ0FBbUM7SUFDdEUsTUFBTXFHLGNBQWMsQ0FBQ3JHLGtCQUFrQixHQUFDVixnQkFBQUEsMEJBQUFBLG9DQUFBQSxjQUFjZ0gsS0FBSztJQUUzRHJULHFEQUFVQSxDQUFDO1FBQ1RzVCxNQUFNM0c7UUFDTjRHLFFBQVEsQ0FBQzlSO1lBQ1BzTixTQUFTdE47UUFDWDtRQUNBK1IsTUFBTSxDQUFDL1I7WUFDTCxJQUFJZ1EsWUFBWWdDLGVBQWUsRUFBRTtZQUNqQ3pQLFFBQVFDLEdBQUcsQ0FBQyxpQ0FBaUN4QztZQUM3Q3pDLHFEQUFXQSxDQUFDUCxpREFBTUEsQ0FBQ2lWLFVBQVUsQ0FBQ0MsSUFBSSxHQUFHLFVBQWUsT0FBTGxTLE9BQVE0TixJQUFJLENBQUMsQ0FBQ3VFO2dCQUMzRCxJQUFJQSxLQUFLO29CQUNQbkMsWUFBWXRJLE1BQU0sQ0FBQyxDQUFDMEssU0FBWUEsT0FBT0MsVUFBVSxHQUFHclM7Z0JBQ3REO1lBQ0Y7UUFDRjtRQUNBc1MsVUFBVSxDQUFDdFM7WUFDVCxJQUFJZ1EsWUFBWWdDLGVBQWUsRUFBRTtZQUVqQyxJQUFJO2dCQUNGLE1BQU1PLFVBQVVDLEtBQUtDLEtBQUssQ0FBQ3pTO2dCQUszQnVDLFFBQVFDLEdBQUcsQ0FBQyxxQ0FBcUMrUDtnQkFFakQsSUFBSUEsUUFBUXRQLEdBQUcsSUFBSXNQLFFBQVFHLEdBQUcsRUFBRTtvQkFDOUJuVixxREFBV0EsQ0FDVFAsaURBQU1BLENBQUNpVixVQUFVLENBQUNoSixRQUFRLEdBQ3hCLEtBQXNDLE9BQWpDdUosS0FBS0csU0FBUyxDQUFDSixTQUFTLE1BQU0sS0FDckMzRSxJQUFJLENBQUMsQ0FBQ3VFO3dCQUNOLElBQUksQ0FBQ0EsS0FBSzt3QkFDVixJQUFJSSxRQUFRdFAsR0FBRyxFQUFFOzRCQUNmK00sWUFBWXRJLE1BQU0sQ0FDaEIsQ0FBQzBLLFNBQVlBLE9BQU9RLFlBQVksR0FBR0wsUUFBUXRQLEdBQUc7d0JBRWxEO3dCQUNBLElBQUlzUCxRQUFRRyxHQUFHLEVBQUU7NEJBQ2YxQyxZQUFZdEksTUFBTSxDQUFDLENBQUMwSyxTQUFZQSxPQUFPUyxTQUFTLEdBQUdOLFFBQVFHLEdBQUc7d0JBQ2hFO29CQUNGO2dCQUNGO1lBQ0YsRUFBRSxVQUFNO2dCQUNOblEsUUFBUXNNLEtBQUssQ0FBQywrQ0FBK0M3TztZQUMvRDtRQUNGO0lBQ0Y7SUFFQSw4QkFBOEI7SUFDOUIsTUFBTSxDQUFDOFMsa0JBQWtCQyxvQkFBb0IsR0FBRzNZLCtDQUFRQSxDQUFDO0lBRXpELDRCQUE0QjtJQUM1QkUsZ0RBQVNBLENBQUM7UUFDUixpQ0FBaUM7UUFDakMsTUFBTTJJLE1BQU1sRiw0REFBZ0JBLENBQUNvQixRQUFRaVAsRUFBRTtRQUN2QyxNQUFNNEUsdUJBQXVCbkYsYUFBYWtCLE9BQU8sQ0FBQzlMO1FBQ2xELElBQUkrUCx3QkFBd0IvSCxVQUFVMUosTUFBTSxLQUFLLEdBQUc7WUFDbEQySixhQUFhOEg7WUFDYm5GLGFBQWFvRixVQUFVLENBQUNoUTtRQUMxQjtRQUVBLE1BQU1rRCxNQUFNNkUsU0FBU3RJLE9BQU87UUFDNUIsT0FBTztnQkFDcUJ5RDtnQkFBQUE7WUFBMUIwSCxhQUFhQyxPQUFPLENBQUM3SyxLQUFLa0QsQ0FBQUEsY0FBQUEsT0FBQUEsaUJBQUFBLDJCQUFBQSxLQUFLb0QsS0FBSyxjQUFWcEQsd0JBQUFBLGFBQWM7UUFDMUM7SUFDQSx1REFBdUQ7SUFDekQsR0FBRyxFQUFFO0lBRUwsTUFBTWxILFFBQXFCO1FBQ3pCd0osTUFBTTtRQUNOeUssUUFBUTtRQUNSQyxTQUFTO1lBQ1BDLGVBQWU7UUFDakI7UUFDQUMsVUFBU0MsSUFBSTtZQUNYLElBQUlBLEtBQUtDLElBQUksQ0FBQ0MsTUFBTSxLQUFLLGFBQWE7Z0JBQ3BDalIsUUFBUUMsR0FBRyxDQUFDOFEsS0FBS0MsSUFBSSxFQUFFRCxLQUFLRyxRQUFRO1lBQ3RDO1lBQ0EsSUFBSUgsS0FBS0MsSUFBSSxDQUFDQyxNQUFNLEtBQUssUUFBUTtnQkFDL0I1VSx5REFBT0EsQ0FBQzhVLE9BQU8sQ0FBQyxHQUFrQixPQUFmSixLQUFLQyxJQUFJLENBQUM5SyxJQUFJLEVBQUM7WUFDcEMsT0FBTyxJQUFJNkssS0FBS0MsSUFBSSxDQUFDQyxNQUFNLEtBQUssU0FBUztnQkFDdkM1VSx5REFBT0EsQ0FBQ2lRLEtBQUssQ0FBQyxHQUFrQixPQUFmeUUsS0FBS0MsSUFBSSxDQUFDOUssSUFBSSxFQUFDO1lBQ2xDO1FBQ0Y7SUFDRjtJQUVBLHFCQUNFLDhEQUFDbEo7UUFBSUMsV0FBV3RDLGdFQUFXOzswQkFDekIsOERBQUNxQztnQkFBSUMsV0FBVTtnQkFBZ0JvVSx3QkFBc0I7O29CQUNsRHRJLGdDQUNDLDhEQUFDL0w7d0JBQUlDLFdBQVU7a0NBQ2IsNEVBQUNEOzRCQUFJQyxXQUFXO3NDQUNkLDRFQUFDdkMsZ0RBQVVBO2dDQUNUNkMsb0JBQU0sOERBQUNuRix5REFBVUE7Z0NBQ2pCb0YsUUFBUTtnQ0FDUk4sT0FBT3pDLGlEQUFNQSxDQUFDaUQsSUFBSSxDQUFDMFAsT0FBTyxDQUFDa0UsUUFBUTtnQ0FDbkN6VCxTQUFTLElBQU1kLFNBQVN6Qiw0Q0FBSUEsQ0FBQ2lXLElBQUk7Ozs7Ozs7Ozs7Ozs7Ozs7a0NBTXpDLDhEQUFDdlU7d0JBQUlDLFdBQVcsdUJBQWlELE9BQTFCdEMsOEVBQXlCOzswQ0FDOUQsOERBQUNxQztnQ0FDQ0MsV0FBVyw0QkFBMkQsT0FBL0J0QyxtRkFBOEI7Z0NBQ3JFNlcsZ0JBQWdCLElBQU1oQixvQkFBb0I7MENBRXpDLENBQUM1VCxRQUFRbUwsS0FBSyxHQUFHOU4sa0RBQWFBLEdBQUcyQyxRQUFRbUwsS0FBSzs7Ozs7OzBDQUVqRCw4REFBQy9LO2dDQUFJQyxXQUFVOzBDQUNaeEMsaURBQU1BLENBQUNpRCxJQUFJLENBQUNtSyxRQUFRLENBQUNqTCxRQUFRbUMsUUFBUSxDQUFDQyxNQUFNOzs7Ozs7Ozs7Ozs7a0NBSWpELDhEQUFDaEM7d0JBQUlDLFdBQVU7a0NBb0JabVMsNkJBQ0MsOERBQUNwUzs0QkFBSUMsV0FBVTtzQ0FDYiw0RUFBQ3ZDLGdEQUFVQTtnQ0FDVDZDLE1BQU1vQyxPQUFPOFIsV0FBVyxpQkFBRyw4REFBQy9ZLHVEQUFPQSxxREFBTSw4REFBQ0Qsc0RBQU9BO2dDQUNqRCtFLFFBQVE7Z0NBQ1JLLFNBQVM7b0NBQ1A4QixPQUFPd0YsTUFBTSxDQUNYLENBQUN4RixTQUFZQSxPQUFPOFIsV0FBVyxHQUFHLENBQUM5UixPQUFPOFIsV0FBVztnQ0FFekQ7Ozs7Ozs7Ozs7Ozs7Ozs7a0NBTVIsOERBQUN0Uzt3QkFDQ2pFLFdBQVcsQ0FBQ29MO3dCQUNaN0csV0FBV2dIO3dCQUNYbkgsY0FBY2lPOzs7Ozs7Ozs7Ozs7MEJBSWxCLDhEQUFDdlE7Z0JBQ0NDLFdBQVd0Qyx3RUFBbUI7Z0JBQzlCZ0ksS0FBS3dCO2dCQUNMdU4sVUFBVSxDQUFDalIsSUFBTWdPLGlCQUFpQmhPLEVBQUV3SCxhQUFhO2dCQUNqRDBKLGFBQWE7d0JBQU1sSjs0QkFBQUEsb0JBQUFBLFNBQVN0SSxPQUFPLGNBQWhCc0ksd0NBQUFBLGtCQUFrQm1KLElBQUk7O2dCQUN6QzVOLGNBQWM7d0JBQ1p5RTtxQkFBQUEsb0JBQUFBLFNBQVN0SSxPQUFPLGNBQWhCc0ksd0NBQUFBLGtCQUFrQm1KLElBQUk7b0JBQ3RCdk4sY0FBYztnQkFDaEI7MEJBRUN0RixTQUFTMEQsR0FBRyxDQUFDLENBQUNwRyxTQUFTeUQ7b0JBRXRCLE1BQU0rUixTQUFTeFYsUUFBUWdELElBQUksS0FBSztvQkFDaEMsTUFBTXlTLFlBQVloUyxJQUFJVixRQUFRSixNQUFNO29CQUNwQyxNQUFNK1MsY0FDSmpTLElBQUksS0FDSixDQUFFekQsQ0FBQUEsUUFBUTZSLE9BQU8sSUFBSTdSLFFBQVF3RyxPQUFPLENBQUM3RCxNQUFNLEtBQUssTUFDaEQsQ0FBQzhTO29CQUNILE1BQU1FLGFBQWEzVixRQUFRNlIsT0FBTyxJQUFJN1IsUUFBUWdRLFNBQVM7b0JBQ3ZELE1BQU00RixnQ0FBZ0NuUyxNQUFNa0Qsb0JBQW9CO3dCQXVEbEIzRyxhQWFBQTtvQkFsRTlDLHFCQUNFLDhEQUFDcEUsMkNBQVFBOzswQ0FDUCw4REFBQytFO2dDQUNDQyxXQUFXNFUsU0FBU2xYLGdGQUEyQixHQUFHQSwyRUFBc0I7MENBRXhFLDRFQUFDcUM7b0NBQUlDLFdBQVd0QyxxRkFBZ0M7O3NEQUM5Qyw4REFBQ3FDOzRDQUFJQyxXQUFXdEMsa0ZBQTZCOzs4REFDM0MsOERBQUNxQztvREFBSUMsV0FBV3RDLGtGQUE2Qjs7c0VBQzNDLDhEQUFDcUM7NERBQUlDLFdBQVd0QyxnRkFBMkI7c0VBQ3pDLDRFQUFDRCxnREFBVUE7Z0VBQ1Q2QyxvQkFBTSw4REFBQ3ZFLDBEQUFRQTtnRUFDZjZFLFNBQVM7b0VBQ1AsTUFBTXFVLGFBQWEsTUFBTWpYLG9EQUFVQSxDQUNqQ1IsaURBQU1BLENBQUNpRCxJQUFJLENBQUMwUCxPQUFPLENBQUNoUSxJQUFJLEVBQ3hCZixRQUFRd0csT0FBTyxFQUNmO29FQUVGbEcsVUFBVXFCLG9CQUFvQixDQUFDLENBQUNwQjt3RUFDOUIsTUFBTWdKLElBQUloSixRQUFRMEIsSUFBSSxDQUFDYyxPQUFPLENBQzNCNk8sTUFBTSxDQUFDclIsUUFBUW1DLFFBQVEsRUFDdkJvVCxJQUFJLENBQUMsQ0FBQ3ZNLElBQU1BLEVBQUVpRyxFQUFFLEtBQUt4UCxRQUFRd1AsRUFBRTt3RUFDbEMsSUFBSWpHLEdBQUc7NEVBQ0xBLEVBQUUvQyxPQUFPLEdBQUdxUDt3RUFDZDtvRUFDRjtnRUFDRjs7Ozs7Ozs7Ozs7d0RBR0hMLHVCQUNDLDhEQUFDcFcsMkNBQU1BOzREQUFDMlcsUUFBUXpTLE9BQU95UyxNQUFNOzs7OztpRkFFN0I7c0VBQ0c7Z0VBQUM7NkRBQVMsQ0FBQ0MsUUFBUSxDQUFDaFcsUUFBUWdELElBQUksa0JBQy9CLDhEQUFDNUQsMkNBQU1BO2dFQUFDMlcsUUFBTzs7Ozs7cUZBRWYsOERBQUN6Vyw4Q0FBVUE7Z0VBQ1R5VyxRQUFReFYsUUFBUTBCLElBQUksQ0FBQzhULE1BQU07Z0VBQzNCNU0sT0FDRW5KLFFBQVFtSixLQUFLLElBQUk1SSxRQUFRMEIsSUFBSSxDQUFDSyxXQUFXLENBQUM2RyxLQUFLOzs7Ozs7Ozs7Ozs7O2dEQVExRHVNLDZCQUNDLDhEQUFDL1U7b0RBQUlDLFdBQVd0QyxtRkFBOEI7OERBQzVDLDRFQUFDcUM7d0RBQUlDLFdBQVd0QyxpRkFBNEI7a0VBQ3pDMEIsUUFBUWdRLFNBQVMsaUJBQ2hCLDhEQUFDako7NERBQ0MzRixNQUFNaEQsaURBQU1BLENBQUNpRCxJQUFJLENBQUMwUCxPQUFPLENBQUMvRyxJQUFJOzREQUM5QjlJLG9CQUFNLDhEQUFDaEUseURBQVFBOzREQUNmc0UsU0FBUyxJQUFNNk4sV0FBV3JQLENBQUFBLGNBQUFBLFFBQVF3UCxFQUFFLGNBQVZ4UCx5QkFBQUEsY0FBY3lEOzs7OztpRkFHMUM7OzhFQUNFLDhEQUFDc0Q7b0VBQ0MzRixNQUFNaEQsaURBQU1BLENBQUNpRCxJQUFJLENBQUMwUCxPQUFPLENBQUNrRixLQUFLO29FQUMvQi9VLG9CQUFNLDhEQUFDNUUsMERBQVNBO29FQUNoQmtGLFNBQVMsSUFBTWdQLFNBQVN4UTs7Ozs7OzhFQUcxQiw4REFBQytHO29FQUNDM0YsTUFBTWhELGlEQUFNQSxDQUFDaUQsSUFBSSxDQUFDMFAsT0FBTyxDQUFDbUYsTUFBTTtvRUFDaENoVixvQkFBTSw4REFBQ3pFLHlEQUFVQTtvRUFDakIrRSxTQUFTLElBQU0rTyxTQUFTdlEsQ0FBQUEsZUFBQUEsUUFBUXdQLEVBQUUsY0FBVnhQLDBCQUFBQSxlQUFjeUQ7Ozs7Ozs4RUFHeEMsOERBQUNzRDtvRUFDQzNGLE1BQU1oRCxpREFBTUEsQ0FBQ2lELElBQUksQ0FBQzBQLE9BQU8sQ0FBQ29GLEdBQUc7b0VBQzdCalYsb0JBQU0sOERBQUN4RSx1REFBT0E7b0VBQ2Q4RSxTQUFTLElBQU1xUCxhQUFhN1E7Ozs7Ozs4RUFFOUIsOERBQUMrRztvRUFDQzNGLE1BQU1oRCxpREFBTUEsQ0FBQ2lELElBQUksQ0FBQzBQLE9BQU8sQ0FBQ3FGLElBQUk7b0VBQzlCbFYsb0JBQU0sOERBQUNsRix1REFBUUE7b0VBQ2Z3RixTQUFTLElBQU0zRCx3REFBZUEsQ0FBQ21DLFFBQVF3RyxPQUFPOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7d0NBUTNEbVAsNEJBQ0MsOERBQUNoVjs0Q0FBSUMsV0FBV3RDLGtGQUE2QjtzREFDMUNGLGlEQUFNQSxDQUFDaUQsSUFBSSxDQUFDZ1YsTUFBTTs7Ozs7O3NEQUd2Qiw4REFBQzFWOzRDQUFJQyxXQUFXdEMsZ0ZBQTJCO3NEQUN6Qyw0RUFBQzRCO2dEQUNDc0csU0FBU3hHLFFBQVF3RyxPQUFPO2dEQUN4QnJHLFNBQ0UsQ0FBQ0gsUUFBUTZSLE9BQU8sSUFBSTdSLFFBQVFnUSxTQUFTLEtBQ3JDaFEsUUFBUXdHLE9BQU8sQ0FBQzdELE1BQU0sS0FBSyxLQUMzQixDQUFDNlM7Z0RBRUhjLGVBQWUsQ0FBQ2xTLElBQU1nTSxhQUFhaE0sR0FBR3BFO2dEQUN0Q3VXLHNCQUFzQjtvREFDcEIsSUFBSSxDQUFDN0osZ0JBQWdCO29EQUNyQkosYUFBYXRNLFFBQVF3RyxPQUFPO2dEQUM5QjtnREFDQXlGLFVBQVVBO2dEQUNWdUssV0FBVzFPO2dEQUNYMk8sYUFBYWhULEtBQUtmLFNBQVNDLE1BQU0sR0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs0QkFXM0NpVCwrQ0FBaUMsOERBQUNsUDs7Ozs7O3VCQW5IdEIxRyxRQUFRd1AsRUFBRTs7Ozs7Z0JBc0g3Qjs7Ozs7OzBCQUdGLDhEQUFDdlAsd0RBQU1BO2dCQUFFLEdBQUdJLEtBQUs7MEJBQ1IsNEVBQUNqRCx5REFBS0E7b0JBQUM4SixPQUFNO29CQUFPdEcsV0FBV3RDLGlFQUFlOzs7Ozs7Ozs7OzswQkFHdkQsOERBQUNxQztnQkFBSUMsV0FBV3RDLCtFQUEwQjswQkFrQnhDLDRFQUFDcUM7b0JBQUlDLFdBQVd0QyxxRkFBZ0M7O3NDQUM5Qyw4REFBQ29ZOzRCQUNDcFEsS0FBSzhGOzRCQUNMeEwsV0FBV3RDLHlFQUFvQjs0QkFDL0JxWSxhQUFhdlksaURBQU1BLENBQUNpRCxJQUFJLENBQUN1VixLQUFLLENBQUNyVDs0QkFDL0JvSSxTQUFTLENBQUN2SCxJQUFNdUgsUUFBUXZILEVBQUV3SCxhQUFhLENBQUNqQixLQUFLOzRCQUM3Q0EsT0FBTzBCOzRCQUNQL0csV0FBVzRLOzRCQUNYMkcsU0FBUzNNOzRCQUNUMUksU0FBUzBJOzRCQUNUb0QsTUFBTUg7NEJBQ04yRixXQUFXQTs0QkFDWGxMLE9BQU87Z0NBQ0xxRSxVQUFVM0ksT0FBTzJJLFFBQVE7NEJBQzNCOzs7Ozs7c0NBRUYsOERBQUM1TixnREFBVUE7NEJBQ1Q2QyxvQkFBTSw4REFBQ3JGLDZEQUFhQTs0QkFDcEJ1RixNQUFNaEQsaURBQU1BLENBQUNpRCxJQUFJLENBQUN5VixJQUFJOzRCQUN0QmxXLFdBQVd0Qyw4RUFBeUI7NEJBQ3BDK00sTUFBSzs0QkFDTDdKLFNBQVMsSUFBTWtOLFNBQVNyQzs7Ozs7Ozs7Ozs7Ozs7Ozs7WUFLN0JILDRCQUNDLDhEQUFDck0sMERBQWtCQTtnQkFBQ21CLFNBQVMsSUFBTW1MLGNBQWM7Ozs7OztZQUdsRCtILGtDQUNDLDhEQUFDbko7Z0JBQ0MvSixTQUFTO29CQUNQbVQsb0JBQW9CO2dCQUN0Qjs7Ozs7OztPQTVRNEI1VCxRQUFRaVAsRUFBRTs7Ozs7QUFpUmhEO0lBMXRCU3pEOztRQUdXek8saURBQVlBO1FBRWZLLGlEQUFZQTtRQVFTMEY7UUFDb0J3RTtRQUVqQzdKLG9EQUFlQTtRQUNyQmMsMERBQVdBO1FBR1JYLDBEQUFjQTtRQUVqQjdDLCtEQUFvQkE7UUFXckJBLCtEQUFvQkE7UUFvQmZvRSxxREFBY0E7UUFrTmZqQyxtREFBY0E7UUE0R2xDa0MsaURBQVVBOzs7QUF5V0wsU0FBUzBCOztJQUNkLE1BQU1mLFlBQVloRCxxREFBWUE7SUFDOUIsTUFBTXlaLGVBQWV6VyxVQUFVNk4sbUJBQW1CO0lBQ2xELHFCQUFPLDhEQUFDcEMsV0FBV2dMOzs7OztBQUNyQjtLQUpnQjFWOztRQUNJL0QsaURBQVlBOzs7TUFEaEIrRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9hcHAvY29tcG9uZW50cy9jaGF0LnRzeD84ZDYyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZURlYm91bmNlZENhbGxiYWNrIH0gZnJvbSBcInVzZS1kZWJvdW5jZVwiO1xuaW1wb3J0IFJlYWN0LCB7XG4gIHVzZVN0YXRlLFxuICB1c2VSZWYsXG4gIHVzZUVmZmVjdCxcbiAgdXNlTWVtbyxcbiAgdXNlQ2FsbGJhY2ssXG4gIEZyYWdtZW50LFxufSBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IFNlbmRXaGl0ZUljb24gZnJvbSBcIi4uL2ljb25zL3NlbmQtd2hpdGUuc3ZnXCI7XG5pbXBvcnQgQnJhaW5JY29uIGZyb20gXCIuLi9pY29ucy9icmFpbi5zdmdcIjtcbmltcG9ydCBSZW5hbWVJY29uIGZyb20gXCIuLi9pY29ucy9yZW5hbWUuc3ZnXCI7XG5pbXBvcnQgRXhwb3J0SWNvbiBmcm9tIFwiLi4vaWNvbnMvc2hhcmUuc3ZnXCI7XG5pbXBvcnQgUmV0dXJuSWNvbiBmcm9tIFwiLi4vaWNvbnMvcmV0dXJuLnN2Z1wiO1xuaW1wb3J0IENvcHlJY29uIGZyb20gXCIuLi9pY29ucy9jb3B5LnN2Z1wiO1xuaW1wb3J0IExvYWRpbmdJY29uIGZyb20gXCIuLi9pY29ucy90aHJlZS1kb3RzLnN2Z1wiO1xuaW1wb3J0IFByb21wdEljb24gZnJvbSBcIi4uL2ljb25zL3Byb21wdC5zdmdcIjtcbmltcG9ydCBNYXNrSWNvbiBmcm9tIFwiLi4vaWNvbnMvbWFzay5zdmdcIjtcbmltcG9ydCBNYXhJY29uIGZyb20gXCIuLi9pY29ucy9tYXguc3ZnXCI7XG5pbXBvcnQgTWluSWNvbiBmcm9tIFwiLi4vaWNvbnMvbWluLnN2Z1wiO1xuaW1wb3J0IFJlc2V0SWNvbiBmcm9tIFwiLi4vaWNvbnMvcmVsb2FkLnN2Z1wiO1xuaW1wb3J0IEJyZWFrSWNvbiBmcm9tIFwiLi4vaWNvbnMvYnJlYWsuc3ZnXCI7XG5pbXBvcnQgU2V0dGluZ3NJY29uIGZyb20gXCIuLi9pY29ucy9jaGF0LXNldHRpbmdzLnN2Z1wiO1xuaW1wb3J0IERlbGV0ZUljb24gZnJvbSBcIi4uL2ljb25zL2NsZWFyLnN2Z1wiO1xuaW1wb3J0IFBpbkljb24gZnJvbSBcIi4uL2ljb25zL3Bpbi5zdmdcIjtcbmltcG9ydCBFZGl0SWNvbiBmcm9tIFwiLi4vaWNvbnMvcmVuYW1lLnN2Z1wiO1xuaW1wb3J0IENvbmZpcm1JY29uIGZyb20gXCIuLi9pY29ucy9jb25maXJtLnN2Z1wiO1xuaW1wb3J0IENhbmNlbEljb24gZnJvbSBcIi4uL2ljb25zL2NhbmNlbC5zdmdcIjtcblxuaW1wb3J0IExpZ2h0SWNvbiBmcm9tIFwiLi4vaWNvbnMvbGlnaHQuc3ZnXCI7XG5pbXBvcnQgRGFya0ljb24gZnJvbSBcIi4uL2ljb25zL2Rhcmsuc3ZnXCI7XG5pbXBvcnQgQXV0b0ljb24gZnJvbSBcIi4uL2ljb25zL2F1dG8uc3ZnXCI7XG5pbXBvcnQgQm90dG9tSWNvbiBmcm9tIFwiLi4vaWNvbnMvYm90dG9tLnN2Z1wiO1xuaW1wb3J0IFN0b3BJY29uIGZyb20gXCIuLi9pY29ucy9wYXVzZS5zdmdcIjtcbmltcG9ydCBSb2JvdEljb24gZnJvbSBcIi4uL2ljb25zL3JvYm90LnN2Z1wiO1xuaW1wb3J0IE1vdGFpIGZyb20gXCIuLi9pY29ucy9tb3RhaS5zdmdcIjtcblxuXG5cbmltcG9ydCB7XG4gIENoYXRNZXNzYWdlLFxuICBTdWJtaXRLZXksXG4gIHVzZUNoYXRTdG9yZSxcbiAgQk9UX0hFTExPLFxuICBjcmVhdGVNZXNzYWdlLFxuICB1c2VBY2Nlc3NTdG9yZSxcbiAgVGhlbWUsXG4gIHVzZUFwcENvbmZpZyxcbiAgREVGQVVMVF9UT1BJQyxcbiAgTW9kZWxUeXBlLFxufSBmcm9tIFwiLi4vc3RvcmVcIjtcblxuaW1wb3J0IHtcbiAgY29weVRvQ2xpcGJvYXJkLFxuICBzZWxlY3RPckNvcHksXG4gIGF1dG9Hcm93VGV4dEFyZWEsXG4gIHVzZU1vYmlsZVNjcmVlbixcbn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5cbmltcG9ydCBkeW5hbWljIGZyb20gXCJuZXh0L2R5bmFtaWNcIjtcblxuaW1wb3J0IHsgQ2hhdENvbnRyb2xsZXJQb29sIH0gZnJvbSBcIi4uL2NsaWVudC9jb250cm9sbGVyXCI7XG5pbXBvcnQgeyBQcm9tcHQsIHVzZVByb21wdFN0b3JlIH0gZnJvbSBcIi4uL3N0b3JlL3Byb21wdFwiO1xuaW1wb3J0IExvY2FsZSBmcm9tIFwiLi4vbG9jYWxlc1wiO1xuXG5pbXBvcnQgeyBJY29uQnV0dG9uIH0gZnJvbSBcIi4vYnV0dG9uXCI7XG5pbXBvcnQgc3R5bGVzIGZyb20gXCIuL2NoYXQubW9kdWxlLnNjc3NcIjtcblxuaW1wb3J0IHtcbiAgTGlzdCxcbiAgTGlzdEl0ZW0sXG4gIE1vZGFsLFxuICBTZWxlY3RvcixcbiAgc2hvd0NvbmZpcm0sXG4gIHNob3dQcm9tcHQsXG4gIHNob3dUb2FzdCxcbn0gZnJvbSBcIi4vdWktbGliXCI7XG5pbXBvcnQgeyB1c2VOYXZpZ2F0ZSB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XG5pbXBvcnQge1xuICBDSEFUX1BBR0VfU0laRSxcbiAgTEFTVF9JTlBVVF9LRVksXG4gIFBhdGgsXG4gIFJFUVVFU1RfVElNRU9VVF9NUyxcbiAgVU5GSU5JU0hFRF9JTlBVVCxcbn0gZnJvbSBcIi4uL2NvbnN0YW50XCI7XG5pbXBvcnQgeyBBdmF0YXIgfSBmcm9tIFwiLi9lbW9qaVwiO1xuaW1wb3J0IHsgQ29udGV4dFByb21wdHMsIE1hc2tBdmF0YXIsIE1hc2tDb25maWcgfSBmcm9tIFwiLi9tYXNrXCI7XG5pbXBvcnQgeyB1c2VNYXNrU3RvcmUgfSBmcm9tIFwiLi4vc3RvcmUvbWFza1wiO1xuaW1wb3J0IHsgQ2hhdENvbW1hbmRQcmVmaXgsIHVzZUNoYXRDb21tYW5kLCB1c2VDb21tYW5kIH0gZnJvbSBcIi4uL2NvbW1hbmRcIjtcbmltcG9ydCB7IHByZXR0eU9iamVjdCB9IGZyb20gXCIuLi91dGlscy9mb3JtYXRcIjtcbmltcG9ydCB7IEV4cG9ydE1lc3NhZ2VNb2RhbCB9IGZyb20gXCIuL2V4cG9ydGVyXCI7XG5pbXBvcnQgeyBnZXRDbGllbnRDb25maWcgfSBmcm9tIFwiLi4vY29uZmlnL2NsaWVudFwiO1xuaW1wb3J0IHsgdXNlQWxsTW9kZWxzIH0gZnJvbSBcIi4uL3V0aWxzL2hvb2tzXCI7XG5pbXBvcnQgdHlwZSB7IFVwbG9hZFByb3BzIH0gZnJvbSAnYW50ZCc7XG5pbXBvcnQgeyBCdXR0b24sIG1lc3NhZ2UsIFVwbG9hZCB9IGZyb20gJ2FudGQnO1xuXG5jb25zdCBNYXJrZG93biA9IGR5bmFtaWMoYXN5bmMgKCkgPT4gKGF3YWl0IGltcG9ydChcIi4vbWFya2Rvd25cIikpLk1hcmtkb3duLCB7XG4gIGxvYWRpbmc6ICgpID0+IDxMb2FkaW5nSWNvbiAvPixcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gU2Vzc2lvbkNvbmZpZ01vZGVsKHByb3BzOiB7IG9uQ2xvc2U6ICgpID0+IHZvaWQgfSkge1xuICBjb25zdCBjaGF0U3RvcmUgPSB1c2VDaGF0U3RvcmUoKTtcbiAgY29uc3Qgc2Vzc2lvbiA9IGNoYXRTdG9yZS5jdXJyZW50U2Vzc2lvbigpO1xuICBjb25zdCBtYXNrU3RvcmUgPSB1c2VNYXNrU3RvcmUoKTtcbiAgY29uc3QgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1tYXNrXCI+XG4gICAgICA8TW9kYWxcbiAgICAgICAgdGl0bGU9e0xvY2FsZS5Db250ZXh0LkVkaXR9XG4gICAgICAgIG9uQ2xvc2U9eygpID0+IHByb3BzLm9uQ2xvc2UoKX1cbiAgICAgICAgYWN0aW9ucz17W1xuICAgICAgICAgIDxJY29uQnV0dG9uXG4gICAgICAgICAgICBrZXk9XCJyZXNldFwiXG4gICAgICAgICAgICBpY29uPXs8UmVzZXRJY29uIC8+fVxuICAgICAgICAgICAgYm9yZGVyZWRcbiAgICAgICAgICAgIHRleHQ9e0xvY2FsZS5DaGF0LkNvbmZpZy5SZXNldH1cbiAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGF3YWl0IHNob3dDb25maXJtKExvY2FsZS5NZW1vcnkuUmVzZXRDb25maXJtKSkge1xuICAgICAgICAgICAgICAgIGNoYXRTdG9yZS51cGRhdGVDdXJyZW50U2Vzc2lvbihcbiAgICAgICAgICAgICAgICAgIChzZXNzaW9uKSA9PiAoc2Vzc2lvbi5tZW1vcnlQcm9tcHQgPSBcIlwiKSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+LFxuICAgICAgICAgIDxJY29uQnV0dG9uXG4gICAgICAgICAgICBrZXk9XCJjb3B5XCJcbiAgICAgICAgICAgIGljb249ezxDb3B5SWNvbiAvPn1cbiAgICAgICAgICAgIGJvcmRlcmVkXG4gICAgICAgICAgICB0ZXh0PXtMb2NhbGUuQ2hhdC5Db25maWcuU2F2ZUFzfVxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICBuYXZpZ2F0ZShQYXRoLk1hc2tzKTtcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgbWFza1N0b3JlLmNyZWF0ZShzZXNzaW9uLm1hc2spO1xuICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPixcbiAgICAgICAgXX1cbiAgICAgID5cbiAgICAgICAgPE1hc2tDb25maWdcbiAgICAgICAgICBtYXNrPXtzZXNzaW9uLm1hc2t9XG4gICAgICAgICAgdXBkYXRlTWFzaz17KHVwZGF0ZXIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1hc2sgPSB7IC4uLnNlc3Npb24ubWFzayB9O1xuICAgICAgICAgICAgdXBkYXRlcihtYXNrKTtcbiAgICAgICAgICAgIGNoYXRTdG9yZS51cGRhdGVDdXJyZW50U2Vzc2lvbigoc2Vzc2lvbikgPT4gKHNlc3Npb24ubWFzayA9IG1hc2spKTtcbiAgICAgICAgICB9fVxuICAgICAgICAgIHNob3VsZFN5bmNGcm9tR2xvYmFsXG4gICAgICAgICAgZXh0cmFMaXN0SXRlbXM9e1xuICAgICAgICAgICAgc2Vzc2lvbi5tYXNrLm1vZGVsQ29uZmlnLnNlbmRNZW1vcnkgPyAoXG4gICAgICAgICAgICAgIDxMaXN0SXRlbVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNvcHlhYmxlXCJcbiAgICAgICAgICAgICAgICB0aXRsZT17YCR7TG9jYWxlLk1lbW9yeS5UaXRsZX0gKCR7c2Vzc2lvbi5sYXN0U3VtbWFyaXplSW5kZXh9IG9mICR7c2Vzc2lvbi5tZXNzYWdlcy5sZW5ndGh9KWB9XG4gICAgICAgICAgICAgICAgc3ViVGl0bGU9e3Nlc3Npb24ubWVtb3J5UHJvbXB0IHx8IExvY2FsZS5NZW1vcnkuRW1wdHlDb250ZW50fVxuICAgICAgICAgICAgICA+PC9MaXN0SXRlbT5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDw+PC8+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICA+PC9NYXNrQ29uZmlnPlxuICAgICAgPC9Nb2RhbD5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gUHJvbXB0VG9hc3QocHJvcHM6IHtcbiAgc2hvd1RvYXN0PzogYm9vbGVhbjtcbiAgc2hvd01vZGFsPzogYm9vbGVhbjtcbiAgc2V0U2hvd01vZGFsOiAoXzogYm9vbGVhbikgPT4gdm9pZDtcbn0pIHtcbiAgY29uc3QgY2hhdFN0b3JlID0gdXNlQ2hhdFN0b3JlKCk7XG4gIGNvbnN0IHNlc3Npb24gPSBjaGF0U3RvcmUuY3VycmVudFNlc3Npb24oKTtcbiAgY29uc3QgY29udGV4dCA9IHNlc3Npb24ubWFzay5jb250ZXh0O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1tcInByb21wdC10b2FzdFwiXX0ga2V5PVwicHJvbXB0LXRvYXN0XCI+XG4gICAgICB7cHJvcHMuc2hvd1RvYXN0ICYmIChcbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzW1wicHJvbXB0LXRvYXN0LWlubmVyXCJdICsgXCIgY2xpY2thYmxlXCJ9XG4gICAgICAgICAgcm9sZT1cImJ1dHRvblwiXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gcHJvcHMuc2V0U2hvd01vZGFsKHRydWUpfVxuICAgICAgICA+XG4gICAgICAgICAgPEJyYWluSWNvbiAvPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17c3R5bGVzW1wicHJvbXB0LXRvYXN0LWNvbnRlbnRcIl19PlxuICAgICAgICAgICAge0xvY2FsZS5Db250ZXh0LlRvYXN0KGNvbnRleHQubGVuZ3RoKX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIHtwcm9wcy5zaG93TW9kYWwgJiYgKFxuICAgICAgICA8U2Vzc2lvbkNvbmZpZ01vZGVsIG9uQ2xvc2U9eygpID0+IHByb3BzLnNldFNob3dNb2RhbChmYWxzZSl9IC8+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG5mdW5jdGlvbiB1c2VTdWJtaXRIYW5kbGVyKCkge1xuICBjb25zdCBjb25maWcgPSB1c2VBcHBDb25maWcoKTtcbiAgY29uc3Qgc3VibWl0S2V5ID0gY29uZmlnLnN1Ym1pdEtleTtcbiAgY29uc3QgaXNDb21wb3NpbmcgPSB1c2VSZWYoZmFsc2UpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG5cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8PSA1OyBpKyspe1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiB0aW1lcigpIHtcbiAgICAgICAgY29uc29sZS5sb2coaSlcbiAgICAgIH0sIDApO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBvbkNvbXBvc2l0aW9uU3RhcnQgPSAoKSA9PiB7XG4gICAgICBpc0NvbXBvc2luZy5jdXJyZW50ID0gdHJ1ZTtcbiAgICB9O1xuICAgIGNvbnN0IG9uQ29tcG9zaXRpb25FbmQgPSAoKSA9PiB7XG4gICAgICBpc0NvbXBvc2luZy5jdXJyZW50ID0gZmFsc2U7XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY29tcG9zaXRpb25zdGFydFwiLCBvbkNvbXBvc2l0aW9uU3RhcnQpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY29tcG9zaXRpb25lbmRcIiwgb25Db21wb3NpdGlvbkVuZCk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjb21wb3NpdGlvbnN0YXJ0XCIsIG9uQ29tcG9zaXRpb25TdGFydCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvbXBvc2l0aW9uZW5kXCIsIG9uQ29tcG9zaXRpb25FbmQpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICBjb25zdCBzaG91bGRTdWJtaXQgPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudDxIVE1MVGV4dEFyZWFFbGVtZW50PikgPT4ge1xuICAgIGlmIChlLmtleSAhPT0gXCJFbnRlclwiKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIgJiYgKGUubmF0aXZlRXZlbnQuaXNDb21wb3NpbmcgfHwgaXNDb21wb3NpbmcuY3VycmVudCkpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIChcbiAgICAgIChjb25maWcuc3VibWl0S2V5ID09PSBTdWJtaXRLZXkuQWx0RW50ZXIgJiYgZS5hbHRLZXkpIHx8XG4gICAgICAoY29uZmlnLnN1Ym1pdEtleSA9PT0gU3VibWl0S2V5LkN0cmxFbnRlciAmJiBlLmN0cmxLZXkpIHx8XG4gICAgICAoY29uZmlnLnN1Ym1pdEtleSA9PT0gU3VibWl0S2V5LlNoaWZ0RW50ZXIgJiYgZS5zaGlmdEtleSkgfHxcbiAgICAgIChjb25maWcuc3VibWl0S2V5ID09PSBTdWJtaXRLZXkuTWV0YUVudGVyICYmIGUubWV0YUtleSkgfHxcbiAgICAgIChjb25maWcuc3VibWl0S2V5ID09PSBTdWJtaXRLZXkuRW50ZXIgJiZcbiAgICAgICAgIWUuYWx0S2V5ICYmXG4gICAgICAgICFlLmN0cmxLZXkgJiZcbiAgICAgICAgIWUuc2hpZnRLZXkgJiZcbiAgICAgICAgIWUubWV0YUtleSlcbiAgICApO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgc3VibWl0S2V5LFxuICAgIHNob3VsZFN1Ym1pdCxcbiAgfTtcbn1cblxuZXhwb3J0IHR5cGUgUmVuZGVyUG9tcHQgPSBQaWNrPFByb21wdCwgXCJ0aXRsZVwiIHwgXCJjb250ZW50XCI+O1xuXG5leHBvcnQgZnVuY3Rpb24gUHJvbXB0SGludHMocHJvcHM6IHtcbiAgcHJvbXB0czogUmVuZGVyUG9tcHRbXTtcbiAgb25Qcm9tcHRTZWxlY3Q6IChwcm9tcHQ6IFJlbmRlclBvbXB0KSA9PiB2b2lkO1xufSkge1xuICBjb25zdCBub1Byb21wdHMgPSBwcm9wcy5wcm9tcHRzLmxlbmd0aCA9PT0gMDtcbiAgY29uc3QgW3NlbGVjdEluZGV4LCBzZXRTZWxlY3RJbmRleF0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3Qgc2VsZWN0ZWRSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0U2VsZWN0SW5kZXgoMCk7XG4gIH0sIFtwcm9wcy5wcm9tcHRzLmxlbmd0aF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgb25LZXlEb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgIGlmIChub1Byb21wdHMgfHwgZS5tZXRhS2V5IHx8IGUuYWx0S2V5IHx8IGUuY3RybEtleSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBhcnJvdyB1cCAvIGRvd24gdG8gc2VsZWN0IHByb21wdFxuICAgICAgY29uc3QgY2hhbmdlSW5kZXggPSAoZGVsdGE6IG51bWJlcikgPT4ge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IG5leHRJbmRleCA9IE1hdGgubWF4KFxuICAgICAgICAgIDAsXG4gICAgICAgICAgTWF0aC5taW4ocHJvcHMucHJvbXB0cy5sZW5ndGggLSAxLCBzZWxlY3RJbmRleCArIGRlbHRhKSxcbiAgICAgICAgKTtcbiAgICAgICAgc2V0U2VsZWN0SW5kZXgobmV4dEluZGV4KTtcbiAgICAgICAgc2VsZWN0ZWRSZWYuY3VycmVudD8uc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgICAgIGJsb2NrOiBcImNlbnRlclwiLFxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIGlmIChlLmtleSA9PT0gXCJBcnJvd1VwXCIpIHtcbiAgICAgICAgY2hhbmdlSW5kZXgoMSk7XG4gICAgICB9IGVsc2UgaWYgKGUua2V5ID09PSBcIkFycm93RG93blwiKSB7XG4gICAgICAgIGNoYW5nZUluZGV4KC0xKTtcbiAgICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09IFwiRW50ZXJcIikge1xuICAgICAgICBjb25zdCBzZWxlY3RlZFByb21wdCA9IHByb3BzLnByb21wdHMuYXQoc2VsZWN0SW5kZXgpO1xuICAgICAgICBpZiAoc2VsZWN0ZWRQcm9tcHQpIHtcbiAgICAgICAgICBwcm9wcy5vblByb21wdFNlbGVjdChzZWxlY3RlZFByb21wdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIG9uS2V5RG93bik7XG5cbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIG9uS2V5RG93bik7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbcHJvcHMucHJvbXB0cy5sZW5ndGgsIHNlbGVjdEluZGV4XSk7XG5cbiAgaWYgKG5vUHJvbXB0cykgcmV0dXJuIG51bGw7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1tcInByb21wdC1oaW50c1wiXX0+XG4gICAgICB7cHJvcHMucHJvbXB0cy5tYXAoKHByb21wdCwgaSkgPT4gKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgcmVmPXtpID09PSBzZWxlY3RJbmRleCA/IHNlbGVjdGVkUmVmIDogbnVsbH1cbiAgICAgICAgICBjbGFzc05hbWU9e1xuICAgICAgICAgICAgc3R5bGVzW1wicHJvbXB0LWhpbnRcIl0gK1xuICAgICAgICAgICAgYCAke2kgPT09IHNlbGVjdEluZGV4ID8gc3R5bGVzW1wicHJvbXB0LWhpbnQtc2VsZWN0ZWRcIl0gOiBcIlwifWBcbiAgICAgICAgICB9XG4gICAgICAgICAga2V5PXtwcm9tcHQudGl0bGUgKyBpLnRvU3RyaW5nKCl9XG4gICAgICAgICAgb25DbGljaz17KCkgPT4gcHJvcHMub25Qcm9tcHRTZWxlY3QocHJvbXB0KX1cbiAgICAgICAgICBvbk1vdXNlRW50ZXI9eygpID0+IHNldFNlbGVjdEluZGV4KGkpfVxuICAgICAgICA+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1tcImhpbnQtdGl0bGVcIl19Pntwcm9tcHQudGl0bGV9PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1tcImhpbnQtY29udGVudFwiXX0+e3Byb21wdC5jb250ZW50fTwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICkpfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG5mdW5jdGlvbiBDbGVhckNvbnRleHREaXZpZGVyKCkge1xuICBjb25zdCBjaGF0U3RvcmUgPSB1c2VDaGF0U3RvcmUoKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT17c3R5bGVzW1wiY2xlYXItY29udGV4dFwiXX1cbiAgICAgIG9uQ2xpY2s9eygpID0+XG4gICAgICAgIGNoYXRTdG9yZS51cGRhdGVDdXJyZW50U2Vzc2lvbihcbiAgICAgICAgICAoc2Vzc2lvbikgPT4gKHNlc3Npb24uY2xlYXJDb250ZXh0SW5kZXggPSB1bmRlZmluZWQpLFxuICAgICAgICApXG4gICAgICB9XG4gICAgPlxuICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1tcImNsZWFyLWNvbnRleHQtdGlwc1wiXX0+e0xvY2FsZS5Db250ZXh0LkNsZWFyfTwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1tcImNsZWFyLWNvbnRleHQtcmV2ZXJ0LWJ0blwiXX0+XG4gICAgICAgIHtMb2NhbGUuQ29udGV4dC5SZXZlcnR9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gQ2hhdEFjdGlvbihwcm9wczoge1xuICB0ZXh0OiBzdHJpbmc7XG4gIGljb246IEpTWC5FbGVtZW50O1xuICBvbkNsaWNrOiAoKSA9PiB2b2lkO1xufSkge1xuICBjb25zdCBpY29uUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgdGV4dFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IFt3aWR0aCwgc2V0V2lkdGhdID0gdXNlU3RhdGUoe1xuICAgIGZ1bGw6IDE2LFxuICAgIGljb246IDE2LFxuICB9KTtcblxuICBmdW5jdGlvbiB1cGRhdGVXaWR0aCgpIHtcbiAgICBpZiAoIWljb25SZWYuY3VycmVudCB8fCAhdGV4dFJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgY29uc3QgZ2V0V2lkdGggPSAoZG9tOiBIVE1MRGl2RWxlbWVudCkgPT4gZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xuICAgIGNvbnN0IHRleHRXaWR0aCA9IGdldFdpZHRoKHRleHRSZWYuY3VycmVudCk7XG4gICAgY29uc3QgaWNvbldpZHRoID0gZ2V0V2lkdGgoaWNvblJlZi5jdXJyZW50KTtcbiAgICBzZXRXaWR0aCh7XG4gICAgICBmdWxsOiB0ZXh0V2lkdGggKyBpY29uV2lkdGgsXG4gICAgICBpY29uOiBpY29uV2lkdGgsXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT17YCR7c3R5bGVzW1wiY2hhdC1pbnB1dC1hY3Rpb25cIl19IGNsaWNrYWJsZWB9XG4gICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgIHByb3BzLm9uQ2xpY2soKTtcbiAgICAgICAgc2V0VGltZW91dCh1cGRhdGVXaWR0aCwgMSk7XG4gICAgICB9fVxuICAgICAgb25Nb3VzZUVudGVyPXt1cGRhdGVXaWR0aH1cbiAgICAgIG9uVG91Y2hTdGFydD17dXBkYXRlV2lkdGh9XG4gICAgICBzdHlsZT17XG4gICAgICAgIHtcbiAgICAgICAgICBcIi0taWNvbi13aWR0aFwiOiBgJHt3aWR0aC5pY29ufXB4YCxcbiAgICAgICAgICBcIi0tZnVsbC13aWR0aFwiOiBgJHt3aWR0aC5mdWxsfXB4YCxcbiAgICAgICAgfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzXG4gICAgICB9XG4gICAgPlxuICAgICAgPGRpdiByZWY9e2ljb25SZWZ9IGNsYXNzTmFtZT17c3R5bGVzW1wiaWNvblwiXX0+XG4gICAgICAgIHtwcm9wcy5pY29ufVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1widGV4dFwiXX0gcmVmPXt0ZXh0UmVmfT5cbiAgICAgICAge3Byb3BzLnRleHR9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gdXNlU2Nyb2xsVG9Cb3R0b20oKSB7XG4gIC8vIGZvciBhdXRvLXNjcm9sbFxuICBjb25zdCBzY3JvbGxSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBbYXV0b1Njcm9sbCwgc2V0QXV0b1Njcm9sbF0gPSB1c2VTdGF0ZSh0cnVlKTtcblxuICBmdW5jdGlvbiBzY3JvbGxEb21Ub0JvdHRvbSgpIHtcbiAgICBjb25zdCBkb20gPSBzY3JvbGxSZWYuY3VycmVudDtcbiAgICBpZiAoZG9tKSB7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICBzZXRBdXRvU2Nyb2xsKHRydWUpO1xuICAgICAgICBkb20uc2Nyb2xsVG8oMCwgZG9tLnNjcm9sbEhlaWdodCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvLyBhdXRvIHNjcm9sbFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhdXRvU2Nyb2xsKSB7XG4gICAgICBzY3JvbGxEb21Ub0JvdHRvbSgpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBzY3JvbGxSZWYsXG4gICAgYXV0b1Njcm9sbCxcbiAgICBzZXRBdXRvU2Nyb2xsLFxuICAgIHNjcm9sbERvbVRvQm90dG9tLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2hhdEFjdGlvbnMocHJvcHM6IHtcbiAgc2hvd1Byb21wdE1vZGFsOiAoKSA9PiB2b2lkO1xuICBzY3JvbGxUb0JvdHRvbTogKCkgPT4gdm9pZDtcbiAgc2hvd1Byb21wdEhpbnRzOiAoKSA9PiB2b2lkO1xuICBoaXRCb3R0b206IGJvb2xlYW47XG59KSB7XG4gIGNvbnN0IGNvbmZpZyA9IHVzZUFwcENvbmZpZygpO1xuICBjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XG4gIGNvbnN0IGNoYXRTdG9yZSA9IHVzZUNoYXRTdG9yZSgpO1xuXG4gIC8vIHN3aXRjaCB0aGVtZXNcbiAgY29uc3QgdGhlbWUgPSBjb25maWcudGhlbWU7XG4gIGZ1bmN0aW9uIG5leHRUaGVtZSgpIHtcbiAgICBjb25zdCB0aGVtZXMgPSBbVGhlbWUuQXV0bywgVGhlbWUuTGlnaHQsIFRoZW1lLkRhcmtdO1xuICAgIGNvbnN0IHRoZW1lSW5kZXggPSB0aGVtZXMuaW5kZXhPZih0aGVtZSk7XG4gICAgY29uc3QgbmV4dEluZGV4ID0gKHRoZW1lSW5kZXggKyAxKSAlIHRoZW1lcy5sZW5ndGg7XG4gICAgY29uc3QgbmV4dFRoZW1lID0gdGhlbWVzW25leHRJbmRleF07XG4gICAgY29uZmlnLnVwZGF0ZSgoY29uZmlnKSA9PiAoY29uZmlnLnRoZW1lID0gbmV4dFRoZW1lKSk7XG4gIH1cblxuICAvLyBzdG9wIGFsbCByZXNwb25zZXNcbiAgY29uc3QgY291bGRTdG9wID0gQ2hhdENvbnRyb2xsZXJQb29sLmhhc1BlbmRpbmcoKTtcbiAgY29uc3Qgc3RvcEFsbCA9ICgpID0+IENoYXRDb250cm9sbGVyUG9vbC5zdG9wQWxsKCk7XG5cbiAgLy8gc3dpdGNoIG1vZGVsXG4gIGNvbnN0IGN1cnJlbnRNb2RlbCA9IGNoYXRTdG9yZS5jdXJyZW50U2Vzc2lvbigpLm1hc2subW9kZWxDb25maWcubW9kZWw7XG4gIGNvbnN0IGFsbE1vZGVscyA9IHVzZUFsbE1vZGVscygpO1xuICBjb25zdCBtb2RlbHMgPSB1c2VNZW1vKFxuICAgICgpID0+IGFsbE1vZGVscy5maWx0ZXIoKG0pID0+IG0uYXZhaWxhYmxlKSxcbiAgICBbYWxsTW9kZWxzXSxcbiAgKTtcbiAgY29uc3QgW3Nob3dNb2RlbFNlbGVjdG9yLCBzZXRTaG93TW9kZWxTZWxlY3Rvcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBpZiBjdXJyZW50IG1vZGVsIGlzIG5vdCBhdmFpbGFibGVcbiAgICAvLyBzd2l0Y2ggdG8gZmlyc3QgYXZhaWxhYmxlIG1vZGVsXG4gICAgY29uc3QgaXNVbmF2YWxpYWJsZU1vZGVsID0gIW1vZGVscy5zb21lKChtKSA9PiBtLm5hbWUgPT09IGN1cnJlbnRNb2RlbCk7XG4gICAgaWYgKGlzVW5hdmFsaWFibGVNb2RlbCAmJiBtb2RlbHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgbmV4dE1vZGVsID0gbW9kZWxzWzBdLm5hbWUgYXMgTW9kZWxUeXBlO1xuICAgICAgY2hhdFN0b3JlLnVwZGF0ZUN1cnJlbnRTZXNzaW9uKFxuICAgICAgICAoc2Vzc2lvbikgPT4gKHNlc3Npb24ubWFzay5tb2RlbENvbmZpZy5tb2RlbCA9IG5leHRNb2RlbCksXG4gICAgICApO1xuICAgICAgc2hvd1RvYXN0KG5leHRNb2RlbCk7XG4gICAgfVxuICB9LCBbY2hhdFN0b3JlLCBjdXJyZW50TW9kZWwsIG1vZGVsc10pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1tcImNoYXQtaW5wdXQtYWN0aW9uc1wiXX0+XG4gICAgICB7Y291bGRTdG9wICYmIChcbiAgICAgICAgPENoYXRBY3Rpb25cbiAgICAgICAgICBvbkNsaWNrPXtzdG9wQWxsfVxuICAgICAgICAgIHRleHQ9e0xvY2FsZS5DaGF0LklucHV0QWN0aW9ucy5TdG9wfVxuICAgICAgICAgIGljb249ezxTdG9wSWNvbiAvPn1cbiAgICAgICAgLz5cbiAgICAgICl9XG4gICAgICB7IXByb3BzLmhpdEJvdHRvbSAmJiAoXG4gICAgICAgIDxDaGF0QWN0aW9uXG4gICAgICAgICAgb25DbGljaz17cHJvcHMuc2Nyb2xsVG9Cb3R0b219XG4gICAgICAgICAgdGV4dD17TG9jYWxlLkNoYXQuSW5wdXRBY3Rpb25zLlRvQm90dG9tfVxuICAgICAgICAgIGljb249ezxCb3R0b21JY29uIC8+fVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICAgIHtwcm9wcy5oaXRCb3R0b20gJiYgKFxuICAgICAgICA8Q2hhdEFjdGlvblxuICAgICAgICAgIG9uQ2xpY2s9e3Byb3BzLnNob3dQcm9tcHRNb2RhbH1cbiAgICAgICAgICB0ZXh0PXtMb2NhbGUuQ2hhdC5JbnB1dEFjdGlvbnMuU2V0dGluZ3N9XG4gICAgICAgICAgaWNvbj17PFNldHRpbmdzSWNvbiAvPn1cbiAgICAgICAgLz5cbiAgICAgICl9XG5cbiAgICAgIDxDaGF0QWN0aW9uXG4gICAgICAgIG9uQ2xpY2s9e25leHRUaGVtZX1cbiAgICAgICAgdGV4dD17TG9jYWxlLkNoYXQuSW5wdXRBY3Rpb25zLlRoZW1lW3RoZW1lXX1cbiAgICAgICAgaWNvbj17XG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIHt0aGVtZSA9PT0gVGhlbWUuQXV0byA/IChcbiAgICAgICAgICAgICAgPEF1dG9JY29uIC8+XG4gICAgICAgICAgICApIDogdGhlbWUgPT09IFRoZW1lLkxpZ2h0ID8gKFxuICAgICAgICAgICAgICA8TGlnaHRJY29uIC8+XG4gICAgICAgICAgICApIDogdGhlbWUgPT09IFRoZW1lLkRhcmsgPyAoXG4gICAgICAgICAgICAgIDxEYXJrSWNvbiAvPlxuICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgPC8+XG4gICAgICAgIH1cbiAgICAgIC8+XG5cbiAgICAgIDxDaGF0QWN0aW9uXG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLnNob3dQcm9tcHRIaW50c31cbiAgICAgICAgdGV4dD17TG9jYWxlLkNoYXQuSW5wdXRBY3Rpb25zLlByb21wdH1cbiAgICAgICAgaWNvbj17PFByb21wdEljb24gLz59XG4gICAgICAvPlxuXG4gICAgICA8Q2hhdEFjdGlvblxuICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgbmF2aWdhdGUoUGF0aC5NYXNrcyk7XG4gICAgICAgIH19XG4gICAgICAgIHRleHQ9e0xvY2FsZS5DaGF0LklucHV0QWN0aW9ucy5NYXNrc31cbiAgICAgICAgaWNvbj17PE1hc2tJY29uIC8+fVxuICAgICAgLz5cblxuICAgICAgPENoYXRBY3Rpb25cbiAgICAgICAgdGV4dD17TG9jYWxlLkNoYXQuSW5wdXRBY3Rpb25zLkNsZWFyfVxuICAgICAgICBpY29uPXs8QnJlYWtJY29uIC8+fVxuICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgY2hhdFN0b3JlLnVwZGF0ZUN1cnJlbnRTZXNzaW9uKChzZXNzaW9uKSA9PiB7XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbi5jbGVhckNvbnRleHRJbmRleCA9PT0gc2Vzc2lvbi5tZXNzYWdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgc2Vzc2lvbi5jbGVhckNvbnRleHRJbmRleCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlc3Npb24uY2xlYXJDb250ZXh0SW5kZXggPSBzZXNzaW9uLm1lc3NhZ2VzLmxlbmd0aDtcbiAgICAgICAgICAgICAgc2Vzc2lvbi5tZW1vcnlQcm9tcHQgPSBcIlwiOyAvLyB3aWxsIGNsZWFyIG1lbW9yeVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9fVxuICAgICAgLz5cblxuICAgICAgPENoYXRBY3Rpb25cbiAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd01vZGVsU2VsZWN0b3IodHJ1ZSl9XG4gICAgICAgIHRleHQ9e2N1cnJlbnRNb2RlbH1cbiAgICAgICAgaWNvbj17PFJvYm90SWNvbiAvPn1cbiAgICAgIC8+XG5cbiAgICAgIHtzaG93TW9kZWxTZWxlY3RvciAmJiAoXG4gICAgICAgIDxTZWxlY3RvclxuICAgICAgICAgIGRlZmF1bHRTZWxlY3RlZFZhbHVlPXtjdXJyZW50TW9kZWx9XG4gICAgICAgICAgaXRlbXM9e21vZGVscy5tYXAoKG0pID0+ICh7XG4gICAgICAgICAgICB0aXRsZTogbS5kaXNwbGF5TmFtZSxcbiAgICAgICAgICAgIHZhbHVlOiBtLm5hbWUsXG4gICAgICAgICAgfSkpfVxuICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldFNob3dNb2RlbFNlbGVjdG9yKGZhbHNlKX1cbiAgICAgICAgICBvblNlbGVjdGlvbj17KHMpID0+IHtcbiAgICAgICAgICAgIGlmIChzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgICAgICAgY2hhdFN0b3JlLnVwZGF0ZUN1cnJlbnRTZXNzaW9uKChzZXNzaW9uKSA9PiB7XG4gICAgICAgICAgICAgIHNlc3Npb24ubWFzay5tb2RlbENvbmZpZy5tb2RlbCA9IHNbMF0gYXMgTW9kZWxUeXBlO1xuICAgICAgICAgICAgICBzZXNzaW9uLm1hc2suc3luY0dsb2JhbENvbmZpZyA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzaG93VG9hc3Qoc1swXSk7XG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBFZGl0TWVzc2FnZU1vZGFsKHByb3BzOiB7IG9uQ2xvc2U6ICgpID0+IHZvaWQgfSkge1xuICBjb25zdCBjaGF0U3RvcmUgPSB1c2VDaGF0U3RvcmUoKTtcbiAgY29uc3Qgc2Vzc2lvbiA9IGNoYXRTdG9yZS5jdXJyZW50U2Vzc2lvbigpO1xuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlKHNlc3Npb24ubWVzc2FnZXMuc2xpY2UoKSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLW1hc2tcIj5cbiAgICAgIDxNb2RhbFxuICAgICAgICB0aXRsZT17TG9jYWxlLkNoYXQuRWRpdE1lc3NhZ2UuVGl0bGV9XG4gICAgICAgIG9uQ2xvc2U9e3Byb3BzLm9uQ2xvc2V9XG4gICAgICAgIGFjdGlvbnM9e1tcbiAgICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgICAgdGV4dD17TG9jYWxlLlVJLkNhbmNlbH1cbiAgICAgICAgICAgIGljb249ezxDYW5jZWxJY29uIC8+fVxuICAgICAgICAgICAga2V5PVwiY2FuY2VsXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgcHJvcHMub25DbG9zZSgpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPixcbiAgICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgdGV4dD17TG9jYWxlLlVJLkNvbmZpcm19XG4gICAgICAgICAgICBpY29uPXs8Q29uZmlybUljb24gLz59XG4gICAgICAgICAgICBrZXk9XCJva1wiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgIGNoYXRTdG9yZS51cGRhdGVDdXJyZW50U2Vzc2lvbihcbiAgICAgICAgICAgICAgICAoc2Vzc2lvbikgPT4gKHNlc3Npb24ubWVzc2FnZXMgPSBtZXNzYWdlcyksXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHByb3BzLm9uQ2xvc2UoKTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgLz4sXG4gICAgICAgIF19XG4gICAgICA+XG4gICAgICAgIDxMaXN0PlxuICAgICAgICAgIDxMaXN0SXRlbVxuICAgICAgICAgICAgdGl0bGU9e0xvY2FsZS5DaGF0LkVkaXRNZXNzYWdlLlRvcGljLlRpdGxlfVxuICAgICAgICAgICAgc3ViVGl0bGU9e0xvY2FsZS5DaGF0LkVkaXRNZXNzYWdlLlRvcGljLlN1YlRpdGxlfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgIHZhbHVlPXtzZXNzaW9uLnRvcGljfVxuICAgICAgICAgICAgICBvbklucHV0PXsoZSkgPT5cbiAgICAgICAgICAgICAgICBjaGF0U3RvcmUudXBkYXRlQ3VycmVudFNlc3Npb24oXG4gICAgICAgICAgICAgICAgICAoc2Vzc2lvbikgPT4gKHNlc3Npb24udG9waWMgPSBlLmN1cnJlbnRUYXJnZXQudmFsdWUpLFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPjwvaW5wdXQ+XG4gICAgICAgICAgPC9MaXN0SXRlbT5cbiAgICAgICAgPC9MaXN0PlxuICAgICAgICA8Q29udGV4dFByb21wdHNcbiAgICAgICAgICBjb250ZXh0PXttZXNzYWdlc31cbiAgICAgICAgICB1cGRhdGVDb250ZXh0PXsodXBkYXRlcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3TWVzc2FnZXMgPSBtZXNzYWdlcy5zbGljZSgpO1xuICAgICAgICAgICAgdXBkYXRlcihuZXdNZXNzYWdlcyk7XG4gICAgICAgICAgICBzZXRNZXNzYWdlcyhuZXdNZXNzYWdlcyk7XG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgIDwvTW9kYWw+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIF9DaGF0KCkge1xuICB0eXBlIFJlbmRlck1lc3NhZ2UgPSBDaGF0TWVzc2FnZSAmIHsgcHJldmlldz86IGJvb2xlYW4gfTtcblxuICBjb25zdCBjaGF0U3RvcmUgPSB1c2VDaGF0U3RvcmUoKTtcbiAgY29uc3Qgc2Vzc2lvbiA9IGNoYXRTdG9yZS5jdXJyZW50U2Vzc2lvbigpO1xuICBjb25zdCBjb25maWcgPSB1c2VBcHBDb25maWcoKTtcbiAgY29uc3QgZm9udFNpemUgPSBjb25maWcuZm9udFNpemU7XG5cbiAgY29uc3QgW3Nob3dFeHBvcnQsIHNldFNob3dFeHBvcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIGNvbnN0IGlucHV0UmVmID0gdXNlUmVmPEhUTUxUZXh0QXJlYUVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBbdXNlcklucHV0LCBzZXRVc2VySW5wdXRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHsgc3VibWl0S2V5LCBzaG91bGRTdWJtaXQgfSA9IHVzZVN1Ym1pdEhhbmRsZXIoKTtcbiAgY29uc3QgeyBzY3JvbGxSZWYsIHNldEF1dG9TY3JvbGwsIHNjcm9sbERvbVRvQm90dG9tIH0gPSB1c2VTY3JvbGxUb0JvdHRvbSgpO1xuICBjb25zdCBbaGl0Qm90dG9tLCBzZXRIaXRCb3R0b21dID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IGlzTW9iaWxlU2NyZWVuID0gdXNlTW9iaWxlU2NyZWVuKCk7XG4gIGNvbnN0IG5hdmlnYXRlID0gdXNlTmF2aWdhdGUoKTtcblxuICAvLyBwcm9tcHQgaGludHNcbiAgY29uc3QgcHJvbXB0U3RvcmUgPSB1c2VQcm9tcHRTdG9yZSgpO1xuICBjb25zdCBbcHJvbXB0SGludHMsIHNldFByb21wdEhpbnRzXSA9IHVzZVN0YXRlPFJlbmRlclBvbXB0W10+KFtdKTtcbiAgY29uc3Qgb25TZWFyY2ggPSB1c2VEZWJvdW5jZWRDYWxsYmFjayhcbiAgICAodGV4dDogc3RyaW5nKSA9PiB7XG4gICAgICBjb25zdCBtYXRjaGVkUHJvbXB0cyA9IHByb21wdFN0b3JlLnNlYXJjaCh0ZXh0KTtcbiAgICAgIHNldFByb21wdEhpbnRzKG1hdGNoZWRQcm9tcHRzKTtcbiAgICB9LFxuICAgIDEwMCxcbiAgICB7IGxlYWRpbmc6IHRydWUsIHRyYWlsaW5nOiB0cnVlIH0sXG4gICk7XG5cbiAgLy8gYXV0byBncm93IGlucHV0XG4gIGNvbnN0IFtpbnB1dFJvd3MsIHNldElucHV0Um93c10gPSB1c2VTdGF0ZSgyKTtcbiAgY29uc3QgbWVhc3VyZSA9IHVzZURlYm91bmNlZENhbGxiYWNrKFxuICAgICgpID0+IHtcbiAgICAgIGNvbnN0IHJvd3MgPSBpbnB1dFJlZi5jdXJyZW50ID8gYXV0b0dyb3dUZXh0QXJlYShpbnB1dFJlZi5jdXJyZW50KSA6IDE7XG4gICAgICBjb25zdCBpbnB1dFJvd3MgPSBNYXRoLm1pbihcbiAgICAgICAgMjAsXG4gICAgICAgIE1hdGgubWF4KDIgKyBOdW1iZXIoIWlzTW9iaWxlU2NyZWVuKSwgcm93cyksXG4gICAgICApO1xuICAgICAgc2V0SW5wdXRSb3dzKGlucHV0Um93cyk7XG4gICAgfSxcbiAgICAxMDAsXG4gICAge1xuICAgICAgbGVhZGluZzogdHJ1ZSxcbiAgICAgIHRyYWlsaW5nOiB0cnVlLFxuICAgIH0sXG4gICk7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB1c2VFZmZlY3QobWVhc3VyZSwgW3VzZXJJbnB1dF0pO1xuXG4gIC8vIGNoYXQgY29tbWFuZHMgc2hvcnRjdXRzXG4gIGNvbnN0IGNoYXRDb21tYW5kcyA9IHVzZUNoYXRDb21tYW5kKHtcbiAgICBuZXc6ICgpID0+IGNoYXRTdG9yZS5uZXdTZXNzaW9uKCksXG4gICAgbmV3bTogKCkgPT4gbmF2aWdhdGUoUGF0aC5OZXdDaGF0KSxcbiAgICBwcmV2OiAoKSA9PiBjaGF0U3RvcmUubmV4dFNlc3Npb24oLTEpLFxuICAgIG5leHQ6ICgpID0+IGNoYXRTdG9yZS5uZXh0U2Vzc2lvbigxKSxcbiAgICBjbGVhcjogKCkgPT5cbiAgICAgIGNoYXRTdG9yZS51cGRhdGVDdXJyZW50U2Vzc2lvbihcbiAgICAgICAgKHNlc3Npb24pID0+IChzZXNzaW9uLmNsZWFyQ29udGV4dEluZGV4ID0gc2Vzc2lvbi5tZXNzYWdlcy5sZW5ndGgpLFxuICAgICAgKSxcbiAgICBkZWw6ICgpID0+IGNoYXRTdG9yZS5kZWxldGVTZXNzaW9uKGNoYXRTdG9yZS5jdXJyZW50U2Vzc2lvbkluZGV4KSxcbiAgfSk7XG5cbiAgLy8gb25seSBzZWFyY2ggcHJvbXB0cyB3aGVuIHVzZXIgaW5wdXQgaXMgc2hvcnRcbiAgY29uc3QgU0VBUkNIX1RFWFRfTElNSVQgPSAzMDtcbiAgY29uc3Qgb25JbnB1dCA9ICh0ZXh0OiBzdHJpbmcpID0+IHtcbiAgICBzZXRVc2VySW5wdXQodGV4dCk7XG4gICAgY29uc3QgbiA9IHRleHQudHJpbSgpLmxlbmd0aDtcblxuICAgIC8vIGNsZWFyIHNlYXJjaCByZXN1bHRzXG4gICAgaWYgKG4gPT09IDApIHtcbiAgICAgIHNldFByb21wdEhpbnRzKFtdKTtcbiAgICB9IGVsc2UgaWYgKHRleHQuc3RhcnRzV2l0aChDaGF0Q29tbWFuZFByZWZpeCkpIHtcbiAgICAgIHNldFByb21wdEhpbnRzKGNoYXRDb21tYW5kcy5zZWFyY2godGV4dCkpO1xuICAgIH0gZWxzZSBpZiAoIWNvbmZpZy5kaXNhYmxlUHJvbXB0SGludCAmJiBuIDwgU0VBUkNIX1RFWFRfTElNSVQpIHtcbiAgICAgIC8vIGNoZWNrIGlmIG5lZWQgdG8gdHJpZ2dlciBhdXRvIGNvbXBsZXRpb25cbiAgICAgIGlmICh0ZXh0LnN0YXJ0c1dpdGgoXCIvXCIpKSB7XG4gICAgICAgIGxldCBzZWFyY2hUZXh0ID0gdGV4dC5zbGljZSgxKTtcbiAgICAgICAgb25TZWFyY2goc2VhcmNoVGV4dCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGRvU3VibWl0ID0gKHVzZXJJbnB1dDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKHVzZXJJbnB1dC50cmltKCkgPT09IFwiXCIpIHJldHVybjtcbiAgICBjb25zdCBtYXRjaENvbW1hbmQgPSBjaGF0Q29tbWFuZHMubWF0Y2godXNlcklucHV0KTtcbiAgICBpZiAobWF0Y2hDb21tYW5kLm1hdGNoZWQpIHtcbiAgICAgIHNldFVzZXJJbnB1dChcIlwiKTtcbiAgICAgIHNldFByb21wdEhpbnRzKFtdKTtcbiAgICAgIG1hdGNoQ29tbWFuZC5pbnZva2UoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgIGNoYXRTdG9yZS5vblVzZXJJbnB1dCh1c2VySW5wdXQpLnRoZW4oKCkgPT4gc2V0SXNMb2FkaW5nKGZhbHNlKSk7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oTEFTVF9JTlBVVF9LRVksIHVzZXJJbnB1dCk7XG4gICAgc2V0VXNlcklucHV0KFwiXCIpO1xuICAgIHNldFByb21wdEhpbnRzKFtdKTtcbiAgICBpZiAoIWlzTW9iaWxlU2NyZWVuKSBpbnB1dFJlZi5jdXJyZW50Py5mb2N1cygpO1xuICAgIHNldEF1dG9TY3JvbGwodHJ1ZSk7XG4gIH07XG5cbiAgY29uc3Qgb25Qcm9tcHRTZWxlY3QgPSAocHJvbXB0OiBSZW5kZXJQb21wdCkgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2V0UHJvbXB0SGludHMoW10pO1xuXG4gICAgICBjb25zdCBtYXRjaGVkQ2hhdENvbW1hbmQgPSBjaGF0Q29tbWFuZHMubWF0Y2gocHJvbXB0LmNvbnRlbnQpO1xuICAgICAgaWYgKG1hdGNoZWRDaGF0Q29tbWFuZC5tYXRjaGVkKSB7XG4gICAgICAgIC8vIGlmIHVzZXIgaXMgc2VsZWN0aW5nIGEgY2hhdCBjb21tYW5kLCBqdXN0IHRyaWdnZXIgaXRcbiAgICAgICAgbWF0Y2hlZENoYXRDb21tYW5kLmludm9rZSgpO1xuICAgICAgICBzZXRVc2VySW5wdXQoXCJcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBvciBmaWxsIHRoZSBwcm9tcHRcbiAgICAgICAgc2V0VXNlcklucHV0KHByb21wdC5jb250ZW50KTtcbiAgICAgIH1cbiAgICAgIGlucHV0UmVmLmN1cnJlbnQ/LmZvY3VzKCk7XG4gICAgfSwgMzApO1xuICB9O1xuXG4gIC8vIHN0b3AgcmVzcG9uc2VcbiAgY29uc3Qgb25Vc2VyU3RvcCA9IChtZXNzYWdlSWQ6IHN0cmluZykgPT4ge1xuICAgIENoYXRDb250cm9sbGVyUG9vbC5zdG9wKHNlc3Npb24uaWQsIG1lc3NhZ2VJZCk7XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjaGF0U3RvcmUudXBkYXRlQ3VycmVudFNlc3Npb24oKHNlc3Npb24pID0+IHtcbiAgICAgIGNvbnN0IHN0b3BUaW1pbmcgPSBEYXRlLm5vdygpIC0gUkVRVUVTVF9USU1FT1VUX01TO1xuICAgICAgc2Vzc2lvbi5tZXNzYWdlcy5mb3JFYWNoKChtKSA9PiB7XG4gICAgICAgIC8vIGNoZWNrIGlmIHNob3VsZCBzdG9wIGFsbCBzdGFsZSBtZXNzYWdlc1xuICAgICAgICBpZiAobS5pc0Vycm9yIHx8IG5ldyBEYXRlKG0uZGF0ZSkuZ2V0VGltZSgpIDwgc3RvcFRpbWluZykge1xuICAgICAgICAgIGlmIChtLnN0cmVhbWluZykge1xuICAgICAgICAgICAgbS5zdHJlYW1pbmcgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG0uY29udGVudC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIG0uaXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgICBtLmNvbnRlbnQgPSBwcmV0dHlPYmplY3Qoe1xuICAgICAgICAgICAgICBlcnJvcjogdHJ1ZSxcbiAgICAgICAgICAgICAgbWVzc2FnZTogXCJlbXB0eSByZXNwb25zZVwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gYXV0byBzeW5jIG1hc2sgY29uZmlnIGZyb20gZ2xvYmFsIGNvbmZpZ1xuICAgICAgaWYgKHNlc3Npb24ubWFzay5zeW5jR2xvYmFsQ29uZmlnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiW01hc2tdIHN5bmNpbmcgZnJvbSBnbG9iYWwsIG5hbWUgPSBcIiwgc2Vzc2lvbi5tYXNrLm5hbWUpO1xuICAgICAgICBzZXNzaW9uLm1hc2subW9kZWxDb25maWcgPSB7IC4uLmNvbmZpZy5tb2RlbENvbmZpZyB9O1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW10pO1xuXG4gIC8vIGNoZWNrIGlmIHNob3VsZCBzZW5kIG1lc3NhZ2VcbiAgY29uc3Qgb25JbnB1dEtleURvd24gPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudDxIVE1MVGV4dEFyZWFFbGVtZW50PikgPT4ge1xuICAgIC8vIGlmIEFycm93VXAgYW5kIG5vIHVzZXJJbnB1dCwgZmlsbCB3aXRoIGxhc3QgaW5wdXRcbiAgICBpZiAoXG4gICAgICBlLmtleSA9PT0gXCJBcnJvd1VwXCIgJiZcbiAgICAgIHVzZXJJbnB1dC5sZW5ndGggPD0gMCAmJlxuICAgICAgIShlLm1ldGFLZXkgfHwgZS5hbHRLZXkgfHwgZS5jdHJsS2V5KVxuICAgICkge1xuICAgICAgc2V0VXNlcklucHV0KGxvY2FsU3RvcmFnZS5nZXRJdGVtKExBU1RfSU5QVVRfS0VZKSA/PyBcIlwiKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNob3VsZFN1Ym1pdChlKSAmJiBwcm9tcHRIaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIGRvU3VibWl0KHVzZXJJbnB1dCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9uUmlnaHRDbGljayA9IChlOiBhbnksIG1lc3NhZ2U6IENoYXRNZXNzYWdlKSA9PiB7XG4gICAgLy8gY29weSB0byBjbGlwYm9hcmRcbiAgICBpZiAoc2VsZWN0T3JDb3B5KGUuY3VycmVudFRhcmdldCwgbWVzc2FnZS5jb250ZW50KSkge1xuICAgICAgaWYgKHVzZXJJbnB1dC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2V0VXNlcklucHV0KG1lc3NhZ2UuY29udGVudCk7XG4gICAgICB9XG5cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZGVsZXRlTWVzc2FnZSA9IChtc2dJZD86IHN0cmluZykgPT4ge1xuICAgIGNoYXRTdG9yZS51cGRhdGVDdXJyZW50U2Vzc2lvbihcbiAgICAgIChzZXNzaW9uKSA9PlxuICAgICAgICAoc2Vzc2lvbi5tZXNzYWdlcyA9IHNlc3Npb24ubWVzc2FnZXMuZmlsdGVyKChtKSA9PiBtLmlkICE9PSBtc2dJZCkpLFxuICAgICk7XG4gIH07XG5cbiAgY29uc3Qgb25EZWxldGUgPSAobXNnSWQ6IHN0cmluZykgPT4ge1xuICAgIGRlbGV0ZU1lc3NhZ2UobXNnSWQpO1xuICB9O1xuXG4gIGNvbnN0IG9uUmVzZW5kID0gKG1lc3NhZ2U6IENoYXRNZXNzYWdlKSA9PiB7XG4gICAgLy8gd2hlbiBpdCBpcyByZXNlbmRpbmcgYSBtZXNzYWdlXG4gICAgLy8gMS4gZm9yIGEgdXNlcidzIG1lc3NhZ2UsIGZpbmQgdGhlIG5leHQgYm90IHJlc3BvbnNlXG4gICAgLy8gMi4gZm9yIGEgYm90J3MgbWVzc2FnZSwgZmluZCB0aGUgbGFzdCB1c2VyJ3MgaW5wdXRcbiAgICAvLyAzLiBkZWxldGUgb3JpZ2luYWwgdXNlciBpbnB1dCBhbmQgYm90J3MgbWVzc2FnZVxuICAgIC8vIDQuIHJlc2VuZCB0aGUgdXNlcidzIGlucHV0XG5cbiAgICBjb25zdCByZXNlbmRpbmdJbmRleCA9IHNlc3Npb24ubWVzc2FnZXMuZmluZEluZGV4KFxuICAgICAgKG0pID0+IG0uaWQgPT09IG1lc3NhZ2UuaWQsXG4gICAgKTtcblxuICAgIGlmIChyZXNlbmRpbmdJbmRleCA8IDAgfHwgcmVzZW5kaW5nSW5kZXggPj0gc2Vzc2lvbi5tZXNzYWdlcy5sZW5ndGgpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbQ2hhdF0gZmFpbGVkIHRvIGZpbmQgcmVzZW5kaW5nIG1lc3NhZ2VcIiwgbWVzc2FnZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHVzZXJNZXNzYWdlOiBDaGF0TWVzc2FnZSB8IHVuZGVmaW5lZDtcbiAgICBsZXQgYm90TWVzc2FnZTogQ2hhdE1lc3NhZ2UgfCB1bmRlZmluZWQ7XG5cbiAgICBpZiAobWVzc2FnZS5yb2xlID09PSBcImFzc2lzdGFudFwiKSB7XG4gICAgICAvLyBpZiBpdCBpcyByZXNlbmRpbmcgYSBib3QncyBtZXNzYWdlLCBmaW5kIHRoZSB1c2VyIGlucHV0IGZvciBpdFxuICAgICAgYm90TWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICBmb3IgKGxldCBpID0gcmVzZW5kaW5nSW5kZXg7IGkgPj0gMDsgaSAtPSAxKSB7XG4gICAgICAgIGlmIChzZXNzaW9uLm1lc3NhZ2VzW2ldLnJvbGUgPT09IFwidXNlclwiKSB7XG4gICAgICAgICAgdXNlck1lc3NhZ2UgPSBzZXNzaW9uLm1lc3NhZ2VzW2ldO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChtZXNzYWdlLnJvbGUgPT09IFwidXNlclwiKSB7XG4gICAgICAvLyBpZiBpdCBpcyByZXNlbmRpbmcgYSB1c2VyJ3MgaW5wdXQsIGZpbmQgdGhlIGJvdCdzIHJlc3BvbnNlXG4gICAgICB1c2VyTWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICBmb3IgKGxldCBpID0gcmVzZW5kaW5nSW5kZXg7IGkgPCBzZXNzaW9uLm1lc3NhZ2VzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChzZXNzaW9uLm1lc3NhZ2VzW2ldLnJvbGUgPT09IFwiYXNzaXN0YW50XCIpIHtcbiAgICAgICAgICBib3RNZXNzYWdlID0gc2Vzc2lvbi5tZXNzYWdlc1tpXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1c2VyTWVzc2FnZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiW0NoYXRdIGZhaWxlZCB0byByZXNlbmRcIiwgbWVzc2FnZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gZGVsZXRlIHRoZSBvcmlnaW5hbCBtZXNzYWdlc1xuICAgIGRlbGV0ZU1lc3NhZ2UodXNlck1lc3NhZ2UuaWQpO1xuICAgIGRlbGV0ZU1lc3NhZ2UoYm90TWVzc2FnZT8uaWQpO1xuXG4gICAgLy8gcmVzZW5kIHRoZSBtZXNzYWdlXG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgIGNoYXRTdG9yZS5vblVzZXJJbnB1dCh1c2VyTWVzc2FnZS5jb250ZW50KS50aGVuKCgpID0+IHNldElzTG9hZGluZyhmYWxzZSkpO1xuICAgIGlucHV0UmVmLmN1cnJlbnQ/LmZvY3VzKCk7XG4gIH07XG5cbiAgY29uc3Qgb25QaW5NZXNzYWdlID0gKG1lc3NhZ2U6IENoYXRNZXNzYWdlKSA9PiB7XG4gICAgY2hhdFN0b3JlLnVwZGF0ZUN1cnJlbnRTZXNzaW9uKChzZXNzaW9uKSA9PlxuICAgICAgc2Vzc2lvbi5tYXNrLmNvbnRleHQucHVzaChtZXNzYWdlKSxcbiAgICApO1xuXG4gICAgc2hvd1RvYXN0KExvY2FsZS5DaGF0LkFjdGlvbnMuUGluVG9hc3RDb250ZW50LCB7XG4gICAgICB0ZXh0OiBMb2NhbGUuQ2hhdC5BY3Rpb25zLlBpblRvYXN0QWN0aW9uLFxuICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICBzZXRTaG93UHJvbXB0TW9kYWwodHJ1ZSk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGNvbnRleHQ6IFJlbmRlck1lc3NhZ2VbXSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBzZXNzaW9uLm1hc2suaGlkZUNvbnRleHQgPyBbXSA6IHNlc3Npb24ubWFzay5jb250ZXh0LnNsaWNlKCk7XG4gIH0sIFtzZXNzaW9uLm1hc2suY29udGV4dCwgc2Vzc2lvbi5tYXNrLmhpZGVDb250ZXh0XSk7XG4gIGNvbnN0IGFjY2Vzc1N0b3JlID0gdXNlQWNjZXNzU3RvcmUoKTtcblxuICBpZiAoXG4gICAgY29udGV4dC5sZW5ndGggPT09IDAgJiZcbiAgICBzZXNzaW9uLm1lc3NhZ2VzLmF0KDApPy5jb250ZW50ICE9PSBCT1RfSEVMTE8uY29udGVudFxuICApIHtcbiAgICBjb25zdCBjb3BpZWRIZWxsbyA9IE9iamVjdC5hc3NpZ24oe30sIEJPVF9IRUxMTyk7XG4gICAgaWYgKCFhY2Nlc3NTdG9yZS5pc0F1dGhvcml6ZWQoKSkge1xuICAgICAgY29waWVkSGVsbG8uY29udGVudCA9IExvY2FsZS5FcnJvci5VbmF1dGhvcml6ZWQ7XG4gICAgfVxuICAgIGNvbnRleHQucHVzaChjb3BpZWRIZWxsbyk7XG4gIH1cblxuICAvLyBwcmV2aWV3IG1lc3NhZ2VzXG4gIGNvbnN0IHJlbmRlck1lc3NhZ2VzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIGNvbnRleHRcbiAgICAgIC5jb25jYXQoc2Vzc2lvbi5tZXNzYWdlcyBhcyBSZW5kZXJNZXNzYWdlW10pXG4gICAgICAuY29uY2F0KFxuICAgICAgICBpc0xvYWRpbmdcbiAgICAgICAgICA/IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC4uLmNyZWF0ZU1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwi4oCm4oCmXCIsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgcHJldmlldzogdHJ1ZSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF1cbiAgICAgICAgICA6IFtdLFxuICAgICAgKVxuICAgICAgLmNvbmNhdChcbiAgICAgICAgdXNlcklucHV0Lmxlbmd0aCA+IDAgJiYgY29uZmlnLnNlbmRQcmV2aWV3QnViYmxlXG4gICAgICAgICAgPyBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAuLi5jcmVhdGVNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgICAgICAgICAgICAgY29udGVudDogdXNlcklucHV0LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHByZXZpZXc6IHRydWUsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdXG4gICAgICAgICAgOiBbXSxcbiAgICAgICk7XG4gIH0sIFtcbiAgICBjb25maWcuc2VuZFByZXZpZXdCdWJibGUsXG4gICAgY29udGV4dCxcbiAgICBpc0xvYWRpbmcsXG4gICAgc2Vzc2lvbi5tZXNzYWdlcyxcbiAgICB1c2VySW5wdXQsXG4gIF0pO1xuXG4gIGNvbnN0IFttc2dSZW5kZXJJbmRleCwgX3NldE1zZ1JlbmRlckluZGV4XSA9IHVzZVN0YXRlKFxuICAgIE1hdGgubWF4KDAsIHJlbmRlck1lc3NhZ2VzLmxlbmd0aCAtIENIQVRfUEFHRV9TSVpFKSxcbiAgKTtcbiAgZnVuY3Rpb24gc2V0TXNnUmVuZGVySW5kZXgobmV3SW5kZXg6IG51bWJlcikge1xuICAgIG5ld0luZGV4ID0gTWF0aC5taW4ocmVuZGVyTWVzc2FnZXMubGVuZ3RoIC0gQ0hBVF9QQUdFX1NJWkUsIG5ld0luZGV4KTtcbiAgICBuZXdJbmRleCA9IE1hdGgubWF4KDAsIG5ld0luZGV4KTtcbiAgICBfc2V0TXNnUmVuZGVySW5kZXgobmV3SW5kZXgpO1xuICB9XG5cbiAgY29uc3QgbWVzc2FnZXMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBlbmRSZW5kZXJJbmRleCA9IE1hdGgubWluKFxuICAgICAgbXNnUmVuZGVySW5kZXggKyAzICogQ0hBVF9QQUdFX1NJWkUsXG4gICAgICByZW5kZXJNZXNzYWdlcy5sZW5ndGgsXG4gICAgKTtcbiAgICByZXR1cm4gcmVuZGVyTWVzc2FnZXMuc2xpY2UobXNnUmVuZGVySW5kZXgsIGVuZFJlbmRlckluZGV4KTtcbiAgfSwgW21zZ1JlbmRlckluZGV4LCByZW5kZXJNZXNzYWdlc10pO1xuXG4gIGNvbnN0IG9uQ2hhdEJvZHlTY3JvbGwgPSAoZTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICBjb25zdCBib3R0b21IZWlnaHQgPSBlLnNjcm9sbFRvcCArIGUuY2xpZW50SGVpZ2h0O1xuICAgIGNvbnN0IGVkZ2VUaHJlc2hvbGQgPSBlLmNsaWVudEhlaWdodDtcblxuICAgIGNvbnN0IGlzVG91Y2hUb3BFZGdlID0gZS5zY3JvbGxUb3AgPD0gZWRnZVRocmVzaG9sZDtcbiAgICBjb25zdCBpc1RvdWNoQm90dG9tRWRnZSA9IGJvdHRvbUhlaWdodCA+PSBlLnNjcm9sbEhlaWdodCAtIGVkZ2VUaHJlc2hvbGQ7XG4gICAgY29uc3QgaXNIaXRCb3R0b20gPVxuICAgICAgYm90dG9tSGVpZ2h0ID49IGUuc2Nyb2xsSGVpZ2h0IC0gKGlzTW9iaWxlU2NyZWVuID8gNCA6IDEwKTtcblxuICAgIGNvbnN0IHByZXZQYWdlTXNnSW5kZXggPSBtc2dSZW5kZXJJbmRleCAtIENIQVRfUEFHRV9TSVpFO1xuICAgIGNvbnN0IG5leHRQYWdlTXNnSW5kZXggPSBtc2dSZW5kZXJJbmRleCArIENIQVRfUEFHRV9TSVpFO1xuXG4gICAgaWYgKGlzVG91Y2hUb3BFZGdlICYmICFpc1RvdWNoQm90dG9tRWRnZSkge1xuICAgICAgc2V0TXNnUmVuZGVySW5kZXgocHJldlBhZ2VNc2dJbmRleCk7XG4gICAgfSBlbHNlIGlmIChpc1RvdWNoQm90dG9tRWRnZSkge1xuICAgICAgc2V0TXNnUmVuZGVySW5kZXgobmV4dFBhZ2VNc2dJbmRleCk7XG4gICAgfVxuXG4gICAgc2V0SGl0Qm90dG9tKGlzSGl0Qm90dG9tKTtcbiAgICBzZXRBdXRvU2Nyb2xsKGlzSGl0Qm90dG9tKTtcbiAgfTtcblxuICBmdW5jdGlvbiBzY3JvbGxUb0JvdHRvbSgpIHtcbiAgICBzZXRNc2dSZW5kZXJJbmRleChyZW5kZXJNZXNzYWdlcy5sZW5ndGggLSBDSEFUX1BBR0VfU0laRSk7XG4gICAgc2Nyb2xsRG9tVG9Cb3R0b20oKTtcbiAgfVxuXG4gIC8vIGNsZWFyIGNvbnRleHQgaW5kZXggPSBjb250ZXh0IGxlbmd0aCArIGluZGV4IGluIG1lc3NhZ2VzXG4gIGNvbnN0IGNsZWFyQ29udGV4dEluZGV4ID1cbiAgICAoc2Vzc2lvbi5jbGVhckNvbnRleHRJbmRleCA/PyAtMSkgPj0gMFxuICAgICAgPyBzZXNzaW9uLmNsZWFyQ29udGV4dEluZGV4ISArIGNvbnRleHQubGVuZ3RoIC0gbXNnUmVuZGVySW5kZXhcbiAgICAgIDogLTE7XG5cbiAgY29uc3QgW3Nob3dQcm9tcHRNb2RhbCwgc2V0U2hvd1Byb21wdE1vZGFsXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBjbGllbnRDb25maWcgPSB1c2VNZW1vKCgpID0+IGdldENsaWVudENvbmZpZygpLCBbXSk7XG5cbiAgY29uc3QgYXV0b0ZvY3VzID0gIWlzTW9iaWxlU2NyZWVuOyAvLyB3b250IGF1dG8gZm9jdXMgb24gbW9iaWxlIHNjcmVlblxuICBjb25zdCBzaG93TWF4SWNvbiA9ICFpc01vYmlsZVNjcmVlbiAmJiAhY2xpZW50Q29uZmlnPy5pc0FwcDtcblxuICB1c2VDb21tYW5kKHtcbiAgICBmaWxsOiBzZXRVc2VySW5wdXQsXG4gICAgc3VibWl0OiAodGV4dCkgPT4ge1xuICAgICAgZG9TdWJtaXQodGV4dCk7XG4gICAgfSxcbiAgICBjb2RlOiAodGV4dCkgPT4ge1xuICAgICAgaWYgKGFjY2Vzc1N0b3JlLmRpc2FibGVGYXN0TGluaykgcmV0dXJuO1xuICAgICAgY29uc29sZS5sb2coXCJbQ29tbWFuZF0gZ290IGNvZGUgZnJvbSB1cmw6IFwiLCB0ZXh0KTtcbiAgICAgIHNob3dDb25maXJtKExvY2FsZS5VUkxDb21tYW5kLkNvZGUgKyBgY29kZSA9ICR7dGV4dH1gKS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgIGFjY2Vzc1N0b3JlLnVwZGF0ZSgoYWNjZXNzKSA9PiAoYWNjZXNzLmFjY2Vzc0NvZGUgPSB0ZXh0KSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgc2V0dGluZ3M6ICh0ZXh0KSA9PiB7XG4gICAgICBpZiAoYWNjZXNzU3RvcmUuZGlzYWJsZUZhc3RMaW5rKSByZXR1cm47XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBKU09OLnBhcnNlKHRleHQpIGFzIHtcbiAgICAgICAgICBrZXk/OiBzdHJpbmc7XG4gICAgICAgICAgdXJsPzogc3RyaW5nO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnNvbGUubG9nKFwiW0NvbW1hbmRdIGdvdCBzZXR0aW5ncyBmcm9tIHVybDogXCIsIHBheWxvYWQpO1xuXG4gICAgICAgIGlmIChwYXlsb2FkLmtleSB8fCBwYXlsb2FkLnVybCkge1xuICAgICAgICAgIHNob3dDb25maXJtKFxuICAgICAgICAgICAgTG9jYWxlLlVSTENvbW1hbmQuU2V0dGluZ3MgK1xuICAgICAgICAgICAgICBgXFxuJHtKU09OLnN0cmluZ2lmeShwYXlsb2FkLCBudWxsLCA0KX1gLFxuICAgICAgICAgICkudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXJlcykgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKHBheWxvYWQua2V5KSB7XG4gICAgICAgICAgICAgIGFjY2Vzc1N0b3JlLnVwZGF0ZShcbiAgICAgICAgICAgICAgICAoYWNjZXNzKSA9PiAoYWNjZXNzLm9wZW5haUFwaUtleSA9IHBheWxvYWQua2V5ISksXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGF5bG9hZC51cmwpIHtcbiAgICAgICAgICAgICAgYWNjZXNzU3RvcmUudXBkYXRlKChhY2Nlc3MpID0+IChhY2Nlc3Mub3BlbmFpVXJsID0gcGF5bG9hZC51cmwhKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiW0NvbW1hbmRdIGZhaWxlZCB0byBnZXQgc2V0dGluZ3MgZnJvbSB1cmw6IFwiLCB0ZXh0KTtcbiAgICAgIH1cbiAgICB9LFxuICB9KTtcblxuICAvLyBlZGl0IC8gaW5zZXJ0IG1lc3NhZ2UgbW9kYWxcbiAgY29uc3QgW2lzRWRpdGluZ01lc3NhZ2UsIHNldElzRWRpdGluZ01lc3NhZ2VdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIHJlbWVtYmVyIHVuZmluaXNoZWQgaW5wdXRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyB0cnkgdG8gbG9hZCBmcm9tIGxvY2FsIHN0b3JhZ2VcbiAgICBjb25zdCBrZXkgPSBVTkZJTklTSEVEX0lOUFVUKHNlc3Npb24uaWQpO1xuICAgIGNvbnN0IG1heUJlVW5maW5pc2hlZElucHV0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICBpZiAobWF5QmVVbmZpbmlzaGVkSW5wdXQgJiYgdXNlcklucHV0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2V0VXNlcklucHV0KG1heUJlVW5maW5pc2hlZElucHV0KTtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgfVxuXG4gICAgY29uc3QgZG9tID0gaW5wdXRSZWYuY3VycmVudDtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBkb20/LnZhbHVlID8/IFwiXCIpO1xuICAgIH07XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbXSk7XG5cbiAgY29uc3QgcHJvcHM6IFVwbG9hZFByb3BzID0ge1xuICAgIG5hbWU6ICdmaWxlJyxcbiAgICBhY3Rpb246ICdodHRwczovL3J1bi5tb2NreS5pby92My80MzVlMjI0Yy00NGZiLTQ3NzMtOWZhZi0zODBjNWU2YTIxODgnLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgIGF1dGhvcml6YXRpb246ICdhdXRob3JpemF0aW9uLXRleHQnLFxuICAgIH0sXG4gICAgb25DaGFuZ2UoaW5mbykge1xuICAgICAgaWYgKGluZm8uZmlsZS5zdGF0dXMgIT09ICd1cGxvYWRpbmcnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGluZm8uZmlsZSwgaW5mby5maWxlTGlzdCk7XG4gICAgICB9XG4gICAgICBpZiAoaW5mby5maWxlLnN0YXR1cyA9PT0gJ2RvbmUnKSB7XG4gICAgICAgIG1lc3NhZ2Uuc3VjY2VzcyhgJHtpbmZvLmZpbGUubmFtZX0gZmlsZSB1cGxvYWRlZCBzdWNjZXNzZnVsbHlgKTtcbiAgICAgIH0gZWxzZSBpZiAoaW5mby5maWxlLnN0YXR1cyA9PT0gJ2Vycm9yJykge1xuICAgICAgICBtZXNzYWdlLmVycm9yKGAke2luZm8uZmlsZS5uYW1lfSBmaWxlIHVwbG9hZCBmYWlsZWQuYCk7XG4gICAgICB9XG4gICAgfSxcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY2hhdH0ga2V5PXtzZXNzaW9uLmlkfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2luZG93LWhlYWRlclwiIGRhdGEtdGF1cmktZHJhZy1yZWdpb24+XG4gICAgICAgIHtpc01vYmlsZVNjcmVlbiAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3aW5kb3ctYWN0aW9uc1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e1wid2luZG93LWFjdGlvbi1idXR0b25cIn0+XG4gICAgICAgICAgICAgIDxJY29uQnV0dG9uXG4gICAgICAgICAgICAgICAgaWNvbj17PFJldHVybkljb24gLz59XG4gICAgICAgICAgICAgICAgYm9yZGVyZWRcbiAgICAgICAgICAgICAgICB0aXRsZT17TG9jYWxlLkNoYXQuQWN0aW9ucy5DaGF0TGlzdH1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBuYXZpZ2F0ZShQYXRoLkhvbWUpfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B3aW5kb3ctaGVhZGVyLXRpdGxlICR7c3R5bGVzW1wiY2hhdC1ib2R5LXRpdGxlXCJdfWB9PlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHdpbmRvdy1oZWFkZXItbWFpbi10aXRsZSAke3N0eWxlc1tcImNoYXQtYm9keS1tYWluLXRpdGxlXCJdfWB9XG4gICAgICAgICAgICBvbkNsaWNrQ2FwdHVyZT17KCkgPT4gc2V0SXNFZGl0aW5nTWVzc2FnZSh0cnVlKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7IXNlc3Npb24udG9waWMgPyBERUZBVUxUX1RPUElDIDogc2Vzc2lvbi50b3BpY31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndpbmRvdy1oZWFkZXItc3ViLXRpdGxlXCI+XG4gICAgICAgICAgICB7TG9jYWxlLkNoYXQuU3ViVGl0bGUoc2Vzc2lvbi5tZXNzYWdlcy5sZW5ndGgpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndpbmRvdy1hY3Rpb25zXCI+XG4gICAgICAgICAgey8qIHshaXNNb2JpbGVTY3JlZW4gJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3aW5kb3ctYWN0aW9uLWJ1dHRvblwiPlxuICAgICAgICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgICAgICAgIGljb249ezxSZW5hbWVJY29uIC8+fVxuICAgICAgICAgICAgICAgIGJvcmRlcmVkXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNFZGl0aW5nTWVzc2FnZSh0cnVlKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3aW5kb3ctYWN0aW9uLWJ1dHRvblwiPlxuICAgICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgICAgaWNvbj17PEV4cG9ydEljb24gLz59XG4gICAgICAgICAgICAgIGJvcmRlcmVkXG4gICAgICAgICAgICAgIHRpdGxlPXtMb2NhbGUuQ2hhdC5BY3Rpb25zLkV4cG9ydH1cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFNob3dFeHBvcnQodHJ1ZSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PiAqL31cbiAgICAgICAgICB7c2hvd01heEljb24gJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3aW5kb3ctYWN0aW9uLWJ1dHRvblwiPlxuICAgICAgICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgICAgICAgIGljb249e2NvbmZpZy50aWdodEJvcmRlciA/IDxNaW5JY29uIC8+IDogPE1heEljb24gLz59XG4gICAgICAgICAgICAgICAgYm9yZGVyZWRcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25maWcudXBkYXRlKFxuICAgICAgICAgICAgICAgICAgICAoY29uZmlnKSA9PiAoY29uZmlnLnRpZ2h0Qm9yZGVyID0gIWNvbmZpZy50aWdodEJvcmRlciksXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8UHJvbXB0VG9hc3RcbiAgICAgICAgICBzaG93VG9hc3Q9eyFoaXRCb3R0b219XG4gICAgICAgICAgc2hvd01vZGFsPXtzaG93UHJvbXB0TW9kYWx9XG4gICAgICAgICAgc2V0U2hvd01vZGFsPXtzZXRTaG93UHJvbXB0TW9kYWx9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9e3N0eWxlc1tcImNoYXQtYm9keVwiXX1cbiAgICAgICAgcmVmPXtzY3JvbGxSZWZ9XG4gICAgICAgIG9uU2Nyb2xsPXsoZSkgPT4gb25DaGF0Qm9keVNjcm9sbChlLmN1cnJlbnRUYXJnZXQpfVxuICAgICAgICBvbk1vdXNlRG93bj17KCkgPT4gaW5wdXRSZWYuY3VycmVudD8uYmx1cigpfVxuICAgICAgICBvblRvdWNoU3RhcnQ9eygpID0+IHtcbiAgICAgICAgICBpbnB1dFJlZi5jdXJyZW50Py5ibHVyKCk7XG4gICAgICAgICAgc2V0QXV0b1Njcm9sbChmYWxzZSk7XG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIHttZXNzYWdlcy5tYXAoKG1lc3NhZ2UsIGkpID0+IHtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBpc1VzZXIgPSBtZXNzYWdlLnJvbGUgPT09IFwidXNlclwiO1xuICAgICAgICAgIGNvbnN0IGlzQ29udGV4dCA9IGkgPCBjb250ZXh0Lmxlbmd0aDtcbiAgICAgICAgICBjb25zdCBzaG93QWN0aW9ucyA9XG4gICAgICAgICAgICBpID4gMCAmJlxuICAgICAgICAgICAgIShtZXNzYWdlLnByZXZpZXcgfHwgbWVzc2FnZS5jb250ZW50Lmxlbmd0aCA9PT0gMCkgJiZcbiAgICAgICAgICAgICFpc0NvbnRleHQ7XG4gICAgICAgICAgY29uc3Qgc2hvd1R5cGluZyA9IG1lc3NhZ2UucHJldmlldyB8fCBtZXNzYWdlLnN0cmVhbWluZztcbiAgICAgICAgICBjb25zdCBzaG91bGRTaG93Q2xlYXJDb250ZXh0RGl2aWRlciA9IGkgPT09IGNsZWFyQ29udGV4dEluZGV4IC0gMTtcblxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8RnJhZ21lbnQga2V5PXttZXNzYWdlLmlkfT5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17aXNVc2VyID8gc3R5bGVzW1wiY2hhdC1tZXNzYWdlLXVzZXJcIl0gOiBzdHlsZXNbXCJjaGF0LW1lc3NhZ2VcIl19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1wiY2hhdC1tZXNzYWdlLWNvbnRhaW5lclwiXX0+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1wiY2hhdC1tZXNzYWdlLWhlYWRlclwiXX0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbXCJjaGF0LW1lc3NhZ2UtYXZhdGFyXCJdfT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1wiY2hhdC1tZXNzYWdlLWVkaXRcIl19PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbj17PEVkaXRJY29uIC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3TWVzc2FnZSA9IGF3YWl0IHNob3dQcm9tcHQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2NhbGUuQ2hhdC5BY3Rpb25zLkVkaXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXRTdG9yZS51cGRhdGVDdXJyZW50U2Vzc2lvbigoc2Vzc2lvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbSA9IHNlc3Npb24ubWFzay5jb250ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jb25jYXQoc2Vzc2lvbi5tZXNzYWdlcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoKG0pID0+IG0uaWQgPT09IG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5jb250ZW50ID0gbmV3TWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID48L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAge2lzVXNlciA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxBdmF0YXIgYXZhdGFyPXtjb25maWcuYXZhdGFyfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7W1wic3lzdGVtXCJdLmluY2x1ZGVzKG1lc3NhZ2Uucm9sZSkgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEF2YXRhciBhdmF0YXI9XCIyNjk5LWZlMGZcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNYXNrQXZhdGFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmF0YXI9e3Nlc3Npb24ubWFzay5hdmF0YXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubW9kZWwgfHwgc2Vzc2lvbi5tYXNrLm1vZGVsQ29uZmlnLm1vZGVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIHtzaG93QWN0aW9ucyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1tcImNoYXQtbWVzc2FnZS1hY3Rpb25zXCJdfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbXCJjaGF0LWlucHV0LWFjdGlvbnNcIl19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS5zdHJlYW1pbmcgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoYXRBY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ9e0xvY2FsZS5DaGF0LkFjdGlvbnMuU3RvcH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249ezxTdG9wSWNvbiAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uVXNlclN0b3AobWVzc2FnZS5pZCA/PyBpKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hhdEFjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0PXtMb2NhbGUuQ2hhdC5BY3Rpb25zLlJldHJ5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uPXs8UmVzZXRJY29uIC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvblJlc2VuZChtZXNzYWdlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGF0QWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ9e0xvY2FsZS5DaGF0LkFjdGlvbnMuRGVsZXRlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uPXs8RGVsZXRlSWNvbiAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25EZWxldGUobWVzc2FnZS5pZCA/PyBpKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGF0QWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ9e0xvY2FsZS5DaGF0LkFjdGlvbnMuUGlufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uPXs8UGluSWNvbiAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25QaW5NZXNzYWdlKG1lc3NhZ2UpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGF0QWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ9e0xvY2FsZS5DaGF0LkFjdGlvbnMuQ29weX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbj17PENvcHlJY29uIC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBjb3B5VG9DbGlwYm9hcmQobWVzc2FnZS5jb250ZW50KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAge3Nob3dUeXBpbmcgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1wiY2hhdC1tZXNzYWdlLXN0YXR1c1wiXX0+XG4gICAgICAgICAgICAgICAgICAgICAge0xvY2FsZS5DaGF0LlR5cGluZ31cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1tcImNoYXQtbWVzc2FnZS1pdGVtXCJdfT5cbiAgICAgICAgICAgICAgICAgICAgPE1hcmtkb3duXG4gICAgICAgICAgICAgICAgICAgICAgY29udGVudD17bWVzc2FnZS5jb250ZW50fVxuICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e1xuICAgICAgICAgICAgICAgICAgICAgICAgKG1lc3NhZ2UucHJldmlldyB8fCBtZXNzYWdlLnN0cmVhbWluZykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29udGVudC5sZW5ndGggPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICFpc1VzZXJcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgb25Db250ZXh0TWVudT17KGUpID0+IG9uUmlnaHRDbGljayhlLCBtZXNzYWdlKX1cbiAgICAgICAgICAgICAgICAgICAgICBvbkRvdWJsZUNsaWNrQ2FwdHVyZT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc01vYmlsZVNjcmVlbikgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VXNlcklucHV0KG1lc3NhZ2UuY29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZT17Zm9udFNpemV9XG4gICAgICAgICAgICAgICAgICAgICAgcGFyZW50UmVmPXtzY3JvbGxSZWZ9XG4gICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNob3c9e2kgPj0gbWVzc2FnZXMubGVuZ3RoIC0gNn1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICB7LyogPGRpdiBjbGFzc05hbWU9e3N0eWxlc1tcImNoYXQtbWVzc2FnZS1hY3Rpb24tZGF0ZVwiXX0+XG4gICAgICAgICAgICAgICAgICAgIHtpc0NvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgICA/IExvY2FsZS5DaGF0LklzQ29udGV4dFxuICAgICAgICAgICAgICAgICAgICAgIDogbWVzc2FnZS5kYXRlLnRvTG9jYWxlU3RyaW5nKCl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj4gKi99XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICB7c2hvdWxkU2hvd0NsZWFyQ29udGV4dERpdmlkZXIgJiYgPENsZWFyQ29udGV4dERpdmlkZXIgLz59XG4gICAgICAgICAgICA8L0ZyYWdtZW50PlxuICAgICAgICAgICk7XG4gICAgICAgIH0pfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxVcGxvYWQgey4uLnByb3BzfT5cbiAgICAgICAgICAgICAgIDxNb3RhaSB3aWR0aD1cIjMwcHhcIiBjbGFzc05hbWU9e3N0eWxlc1snbW90YWknXX0vPlxuICAgICAgICA8L1VwbG9hZD5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1tcImNoYXQtaW5wdXQtcGFuZWxcIl19PlxuICAgICAgICB7LyogPFByb21wdEhpbnRzIHByb21wdHM9e3Byb21wdEhpbnRzfSBvblByb21wdFNlbGVjdD17b25Qcm9tcHRTZWxlY3R9IC8+ICovfVxuey8qIFxuICAgICAgICA8Q2hhdEFjdGlvbnNcbiAgICAgICAgICBzaG93UHJvbXB0TW9kYWw9eygpID0+IHNldFNob3dQcm9tcHRNb2RhbCh0cnVlKX1cbiAgICAgICAgICBzY3JvbGxUb0JvdHRvbT17c2Nyb2xsVG9Cb3R0b219XG4gICAgICAgICAgaGl0Qm90dG9tPXtoaXRCb3R0b219XG4gICAgICAgICAgc2hvd1Byb21wdEhpbnRzPXsoKSA9PiB7XG4gICAgICAgICAgICAvLyBDbGljayBhZ2FpbiB0byBjbG9zZVxuICAgICAgICAgICAgaWYgKHByb21wdEhpbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgc2V0UHJvbXB0SGludHMoW10pO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnB1dFJlZi5jdXJyZW50Py5mb2N1cygpO1xuICAgICAgICAgICAgc2V0VXNlcklucHV0KFwiL1wiKTtcbiAgICAgICAgICAgIG9uU2VhcmNoKFwiXCIpO1xuICAgICAgICAgIH19XG4gICAgICAgIC8+ICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1wiY2hhdC1pbnB1dC1wYW5lbC1pbm5lclwiXX0+XG4gICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICByZWY9e2lucHV0UmVmfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXNbXCJjaGF0LWlucHV0XCJdfVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9e0xvY2FsZS5DaGF0LklucHV0KHN1Ym1pdEtleSl9XG4gICAgICAgICAgICBvbklucHV0PXsoZSkgPT4gb25JbnB1dChlLmN1cnJlbnRUYXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgdmFsdWU9e3VzZXJJbnB1dH1cbiAgICAgICAgICAgIG9uS2V5RG93bj17b25JbnB1dEtleURvd259XG4gICAgICAgICAgICBvbkZvY3VzPXtzY3JvbGxUb0JvdHRvbX1cbiAgICAgICAgICAgIG9uQ2xpY2s9e3Njcm9sbFRvQm90dG9tfVxuICAgICAgICAgICAgcm93cz17aW5wdXRSb3dzfVxuICAgICAgICAgICAgYXV0b0ZvY3VzPXthdXRvRm9jdXN9XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBmb250U2l6ZTogY29uZmlnLmZvbnRTaXplLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxJY29uQnV0dG9uXG4gICAgICAgICAgICBpY29uPXs8U2VuZFdoaXRlSWNvbiAvPn1cbiAgICAgICAgICAgIHRleHQ9e0xvY2FsZS5DaGF0LlNlbmR9XG4gICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlc1tcImNoYXQtaW5wdXQtc2VuZFwiXX1cbiAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGRvU3VibWl0KHVzZXJJbnB1dCl9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAge3Nob3dFeHBvcnQgJiYgKFxuICAgICAgICA8RXhwb3J0TWVzc2FnZU1vZGFsIG9uQ2xvc2U9eygpID0+IHNldFNob3dFeHBvcnQoZmFsc2UpfSAvPlxuICAgICAgKX1cblxuICAgICAge2lzRWRpdGluZ01lc3NhZ2UgJiYgKFxuICAgICAgICA8RWRpdE1lc3NhZ2VNb2RhbFxuICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHtcbiAgICAgICAgICAgIHNldElzRWRpdGluZ01lc3NhZ2UoZmFsc2UpO1xuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2hhdCgpIHtcbiAgY29uc3QgY2hhdFN0b3JlID0gdXNlQ2hhdFN0b3JlKCk7XG4gIGNvbnN0IHNlc3Npb25JbmRleCA9IGNoYXRTdG9yZS5jdXJyZW50U2Vzc2lvbkluZGV4O1xuICByZXR1cm4gPF9DaGF0IGtleT17c2Vzc2lvbkluZGV4fT48L19DaGF0Pjtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VEZWJvdW5jZWRDYWxsYmFjayIsIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwiRnJhZ21lbnQiLCJTZW5kV2hpdGVJY29uIiwiQnJhaW5JY29uIiwiUmV0dXJuSWNvbiIsIkNvcHlJY29uIiwiTG9hZGluZ0ljb24iLCJQcm9tcHRJY29uIiwiTWFza0ljb24iLCJNYXhJY29uIiwiTWluSWNvbiIsIlJlc2V0SWNvbiIsIkJyZWFrSWNvbiIsIlNldHRpbmdzSWNvbiIsIkRlbGV0ZUljb24iLCJQaW5JY29uIiwiRWRpdEljb24iLCJDb25maXJtSWNvbiIsIkNhbmNlbEljb24iLCJMaWdodEljb24iLCJEYXJrSWNvbiIsIkF1dG9JY29uIiwiQm90dG9tSWNvbiIsIlN0b3BJY29uIiwiUm9ib3RJY29uIiwiTW90YWkiLCJTdWJtaXRLZXkiLCJ1c2VDaGF0U3RvcmUiLCJCT1RfSEVMTE8iLCJjcmVhdGVNZXNzYWdlIiwidXNlQWNjZXNzU3RvcmUiLCJUaGVtZSIsInVzZUFwcENvbmZpZyIsIkRFRkFVTFRfVE9QSUMiLCJjb3B5VG9DbGlwYm9hcmQiLCJzZWxlY3RPckNvcHkiLCJhdXRvR3Jvd1RleHRBcmVhIiwidXNlTW9iaWxlU2NyZWVuIiwiZHluYW1pYyIsIkNoYXRDb250cm9sbGVyUG9vbCIsInVzZVByb21wdFN0b3JlIiwiTG9jYWxlIiwiSWNvbkJ1dHRvbiIsInN0eWxlcyIsIkxpc3QiLCJMaXN0SXRlbSIsIk1vZGFsIiwiU2VsZWN0b3IiLCJzaG93Q29uZmlybSIsInNob3dQcm9tcHQiLCJzaG93VG9hc3QiLCJ1c2VOYXZpZ2F0ZSIsIkNIQVRfUEFHRV9TSVpFIiwiTEFTVF9JTlBVVF9LRVkiLCJQYXRoIiwiUkVRVUVTVF9USU1FT1VUX01TIiwiVU5GSU5JU0hFRF9JTlBVVCIsIkF2YXRhciIsIkNvbnRleHRQcm9tcHRzIiwiTWFza0F2YXRhciIsIk1hc2tDb25maWciLCJ1c2VNYXNrU3RvcmUiLCJDaGF0Q29tbWFuZFByZWZpeCIsInVzZUNoYXRDb21tYW5kIiwidXNlQ29tbWFuZCIsInByZXR0eU9iamVjdCIsIkV4cG9ydE1lc3NhZ2VNb2RhbCIsImdldENsaWVudENvbmZpZyIsInVzZUFsbE1vZGVscyIsIm1lc3NhZ2UiLCJVcGxvYWQiLCJNYXJrZG93biIsImxvYWRpbmciLCJTZXNzaW9uQ29uZmlnTW9kZWwiLCJwcm9wcyIsImNoYXRTdG9yZSIsInNlc3Npb24iLCJjdXJyZW50U2Vzc2lvbiIsIm1hc2tTdG9yZSIsIm5hdmlnYXRlIiwiZGl2IiwiY2xhc3NOYW1lIiwidGl0bGUiLCJDb250ZXh0IiwiRWRpdCIsIm9uQ2xvc2UiLCJhY3Rpb25zIiwiaWNvbiIsImJvcmRlcmVkIiwidGV4dCIsIkNoYXQiLCJDb25maWciLCJSZXNldCIsIm9uQ2xpY2siLCJNZW1vcnkiLCJSZXNldENvbmZpcm0iLCJ1cGRhdGVDdXJyZW50U2Vzc2lvbiIsIm1lbW9yeVByb21wdCIsIlNhdmVBcyIsIk1hc2tzIiwic2V0VGltZW91dCIsImNyZWF0ZSIsIm1hc2siLCJ1cGRhdGVNYXNrIiwidXBkYXRlciIsInNob3VsZFN5bmNGcm9tR2xvYmFsIiwiZXh0cmFMaXN0SXRlbXMiLCJtb2RlbENvbmZpZyIsInNlbmRNZW1vcnkiLCJUaXRsZSIsImxhc3RTdW1tYXJpemVJbmRleCIsIm1lc3NhZ2VzIiwibGVuZ3RoIiwic3ViVGl0bGUiLCJFbXB0eUNvbnRlbnQiLCJQcm9tcHRUb2FzdCIsImNvbnRleHQiLCJyb2xlIiwic2V0U2hvd01vZGFsIiwic3BhbiIsIlRvYXN0Iiwic2hvd01vZGFsIiwidXNlU3VibWl0SGFuZGxlciIsImNvbmZpZyIsInN1Ym1pdEtleSIsImlzQ29tcG9zaW5nIiwiaSIsInRpbWVyIiwiY29uc29sZSIsImxvZyIsIm9uQ29tcG9zaXRpb25TdGFydCIsImN1cnJlbnQiLCJvbkNvbXBvc2l0aW9uRW5kIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzaG91bGRTdWJtaXQiLCJlIiwia2V5IiwibmF0aXZlRXZlbnQiLCJBbHRFbnRlciIsImFsdEtleSIsIkN0cmxFbnRlciIsImN0cmxLZXkiLCJTaGlmdEVudGVyIiwic2hpZnRLZXkiLCJNZXRhRW50ZXIiLCJtZXRhS2V5IiwiRW50ZXIiLCJQcm9tcHRIaW50cyIsIm5vUHJvbXB0cyIsInByb21wdHMiLCJzZWxlY3RJbmRleCIsInNldFNlbGVjdEluZGV4Iiwic2VsZWN0ZWRSZWYiLCJvbktleURvd24iLCJjaGFuZ2VJbmRleCIsImRlbHRhIiwic3RvcFByb3BhZ2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJuZXh0SW5kZXgiLCJNYXRoIiwibWF4IiwibWluIiwic2Nyb2xsSW50b1ZpZXciLCJibG9jayIsInNlbGVjdGVkUHJvbXB0IiwiYXQiLCJvblByb21wdFNlbGVjdCIsIm1hcCIsInByb21wdCIsInJlZiIsIm9uTW91c2VFbnRlciIsImNvbnRlbnQiLCJ0b1N0cmluZyIsIkNsZWFyQ29udGV4dERpdmlkZXIiLCJjbGVhckNvbnRleHRJbmRleCIsInVuZGVmaW5lZCIsIkNsZWFyIiwiUmV2ZXJ0IiwiQ2hhdEFjdGlvbiIsImljb25SZWYiLCJ0ZXh0UmVmIiwid2lkdGgiLCJzZXRXaWR0aCIsImZ1bGwiLCJ1cGRhdGVXaWR0aCIsImdldFdpZHRoIiwiZG9tIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidGV4dFdpZHRoIiwiaWNvbldpZHRoIiwib25Ub3VjaFN0YXJ0Iiwic3R5bGUiLCJ1c2VTY3JvbGxUb0JvdHRvbSIsInNjcm9sbFJlZiIsImF1dG9TY3JvbGwiLCJzZXRBdXRvU2Nyb2xsIiwic2Nyb2xsRG9tVG9Cb3R0b20iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzY3JvbGxUbyIsInNjcm9sbEhlaWdodCIsIkNoYXRBY3Rpb25zIiwidGhlbWUiLCJuZXh0VGhlbWUiLCJ0aGVtZXMiLCJBdXRvIiwiTGlnaHQiLCJEYXJrIiwidGhlbWVJbmRleCIsImluZGV4T2YiLCJ1cGRhdGUiLCJjb3VsZFN0b3AiLCJoYXNQZW5kaW5nIiwic3RvcEFsbCIsImN1cnJlbnRNb2RlbCIsIm1vZGVsIiwiYWxsTW9kZWxzIiwibW9kZWxzIiwiZmlsdGVyIiwibSIsImF2YWlsYWJsZSIsInNob3dNb2RlbFNlbGVjdG9yIiwic2V0U2hvd01vZGVsU2VsZWN0b3IiLCJpc1VuYXZhbGlhYmxlTW9kZWwiLCJzb21lIiwibmFtZSIsIm5leHRNb2RlbCIsIklucHV0QWN0aW9ucyIsIlN0b3AiLCJoaXRCb3R0b20iLCJzY3JvbGxUb0JvdHRvbSIsIlRvQm90dG9tIiwic2hvd1Byb21wdE1vZGFsIiwiU2V0dGluZ3MiLCJzaG93UHJvbXB0SGludHMiLCJQcm9tcHQiLCJkZWZhdWx0U2VsZWN0ZWRWYWx1ZSIsIml0ZW1zIiwiZGlzcGxheU5hbWUiLCJ2YWx1ZSIsIm9uU2VsZWN0aW9uIiwicyIsInN5bmNHbG9iYWxDb25maWciLCJFZGl0TWVzc2FnZU1vZGFsIiwic2V0TWVzc2FnZXMiLCJzbGljZSIsIkVkaXRNZXNzYWdlIiwiVUkiLCJDYW5jZWwiLCJ0eXBlIiwiQ29uZmlybSIsIlRvcGljIiwiU3ViVGl0bGUiLCJpbnB1dCIsInRvcGljIiwib25JbnB1dCIsImN1cnJlbnRUYXJnZXQiLCJ1cGRhdGVDb250ZXh0IiwibmV3TWVzc2FnZXMiLCJfQ2hhdCIsImNsaWVudENvbmZpZyIsImZvbnRTaXplIiwic2hvd0V4cG9ydCIsInNldFNob3dFeHBvcnQiLCJpbnB1dFJlZiIsInVzZXJJbnB1dCIsInNldFVzZXJJbnB1dCIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsInNldEhpdEJvdHRvbSIsImlzTW9iaWxlU2NyZWVuIiwicHJvbXB0U3RvcmUiLCJwcm9tcHRIaW50cyIsInNldFByb21wdEhpbnRzIiwib25TZWFyY2giLCJtYXRjaGVkUHJvbXB0cyIsInNlYXJjaCIsImxlYWRpbmciLCJ0cmFpbGluZyIsImlucHV0Um93cyIsInNldElucHV0Um93cyIsIm1lYXN1cmUiLCJyb3dzIiwiTnVtYmVyIiwiY2hhdENvbW1hbmRzIiwibmV3IiwibmV3U2Vzc2lvbiIsIm5ld20iLCJOZXdDaGF0IiwicHJldiIsIm5leHRTZXNzaW9uIiwibmV4dCIsImNsZWFyIiwiZGVsIiwiZGVsZXRlU2Vzc2lvbiIsImN1cnJlbnRTZXNzaW9uSW5kZXgiLCJTRUFSQ0hfVEVYVF9MSU1JVCIsIm4iLCJ0cmltIiwic3RhcnRzV2l0aCIsImRpc2FibGVQcm9tcHRIaW50Iiwic2VhcmNoVGV4dCIsImRvU3VibWl0IiwibWF0Y2hDb21tYW5kIiwibWF0Y2giLCJtYXRjaGVkIiwiaW52b2tlIiwib25Vc2VySW5wdXQiLCJ0aGVuIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImZvY3VzIiwibWF0Y2hlZENoYXRDb21tYW5kIiwib25Vc2VyU3RvcCIsIm1lc3NhZ2VJZCIsInN0b3AiLCJpZCIsInN0b3BUaW1pbmciLCJEYXRlIiwibm93IiwiZm9yRWFjaCIsImlzRXJyb3IiLCJkYXRlIiwiZ2V0VGltZSIsInN0cmVhbWluZyIsImVycm9yIiwib25JbnB1dEtleURvd24iLCJnZXRJdGVtIiwib25SaWdodENsaWNrIiwiZGVsZXRlTWVzc2FnZSIsIm1zZ0lkIiwib25EZWxldGUiLCJvblJlc2VuZCIsImJvdE1lc3NhZ2UiLCJyZXNlbmRpbmdJbmRleCIsImZpbmRJbmRleCIsInVzZXJNZXNzYWdlIiwib25QaW5NZXNzYWdlIiwicHVzaCIsIkFjdGlvbnMiLCJQaW5Ub2FzdENvbnRlbnQiLCJQaW5Ub2FzdEFjdGlvbiIsInNldFNob3dQcm9tcHRNb2RhbCIsImhpZGVDb250ZXh0IiwiYWNjZXNzU3RvcmUiLCJjb3BpZWRIZWxsbyIsIk9iamVjdCIsImFzc2lnbiIsImlzQXV0aG9yaXplZCIsIkVycm9yIiwiVW5hdXRob3JpemVkIiwicmVuZGVyTWVzc2FnZXMiLCJjb25jYXQiLCJwcmV2aWV3Iiwic2VuZFByZXZpZXdCdWJibGUiLCJtc2dSZW5kZXJJbmRleCIsIl9zZXRNc2dSZW5kZXJJbmRleCIsInNldE1zZ1JlbmRlckluZGV4IiwibmV3SW5kZXgiLCJlbmRSZW5kZXJJbmRleCIsIm9uQ2hhdEJvZHlTY3JvbGwiLCJib3R0b21IZWlnaHQiLCJzY3JvbGxUb3AiLCJjbGllbnRIZWlnaHQiLCJlZGdlVGhyZXNob2xkIiwiaXNUb3VjaFRvcEVkZ2UiLCJpc1RvdWNoQm90dG9tRWRnZSIsImlzSGl0Qm90dG9tIiwicHJldlBhZ2VNc2dJbmRleCIsIm5leHRQYWdlTXNnSW5kZXgiLCJhdXRvRm9jdXMiLCJzaG93TWF4SWNvbiIsImlzQXBwIiwiZmlsbCIsInN1Ym1pdCIsImNvZGUiLCJkaXNhYmxlRmFzdExpbmsiLCJVUkxDb21tYW5kIiwiQ29kZSIsInJlcyIsImFjY2VzcyIsImFjY2Vzc0NvZGUiLCJzZXR0aW5ncyIsInBheWxvYWQiLCJKU09OIiwicGFyc2UiLCJ1cmwiLCJzdHJpbmdpZnkiLCJvcGVuYWlBcGlLZXkiLCJvcGVuYWlVcmwiLCJpc0VkaXRpbmdNZXNzYWdlIiwic2V0SXNFZGl0aW5nTWVzc2FnZSIsIm1heUJlVW5maW5pc2hlZElucHV0IiwicmVtb3ZlSXRlbSIsImFjdGlvbiIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwib25DaGFuZ2UiLCJpbmZvIiwiZmlsZSIsInN0YXR1cyIsImZpbGVMaXN0Iiwic3VjY2VzcyIsImNoYXQiLCJkYXRhLXRhdXJpLWRyYWctcmVnaW9uIiwiQ2hhdExpc3QiLCJIb21lIiwib25DbGlja0NhcHR1cmUiLCJ0aWdodEJvcmRlciIsIm9uU2Nyb2xsIiwib25Nb3VzZURvd24iLCJibHVyIiwiaXNVc2VyIiwiaXNDb250ZXh0Iiwic2hvd0FjdGlvbnMiLCJzaG93VHlwaW5nIiwic2hvdWxkU2hvd0NsZWFyQ29udGV4dERpdmlkZXIiLCJuZXdNZXNzYWdlIiwiZmluZCIsImF2YXRhciIsImluY2x1ZGVzIiwiUmV0cnkiLCJEZWxldGUiLCJQaW4iLCJDb3B5IiwiVHlwaW5nIiwib25Db250ZXh0TWVudSIsIm9uRG91YmxlQ2xpY2tDYXB0dXJlIiwicGFyZW50UmVmIiwiZGVmYXVsdFNob3ciLCJ0ZXh0YXJlYSIsInBsYWNlaG9sZGVyIiwiSW5wdXQiLCJvbkZvY3VzIiwiU2VuZCIsInNlc3Npb25JbmRleCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-client)/./app/components/chat.tsx\n"));

/***/ })

});